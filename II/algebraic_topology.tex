\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Algebraic Topology}
\def\nlecturer{H.\ Wilton}

\def\nterm{Michaelmas}
\def\nyear{2018}

\input{header}

\DeclareMathOperator{\rel}{rel}

\begin{document}

\input{titlepage}

\tableofcontents

\setcounter{section}{-1}

\section{Introduction}

\begin{question}
  Is the Hopf link really linked? More formally, is there a homeomorphism \(\R^3 \to \R^3\) taking \(H\) to \(U\)?
\end{question}

\(H\) can be realised as \(S^1 \amalg S^1 \to \R^3\). For \(U\), we can consider \(S^1 \amalg S^1\) as boundary of \(D^1 \amalg D^1\) and the map extends to a map to discs.

So it makes sense to phrase the question as

\begin{question}
  Does the Hopf link \(\eta: S^1 \amalg S^1 \to \R^3\)extend to a map of discs?
\end{question}

This is an example of an \emph{extension problem}.

Here is another example. Define the \(n\)-sphere \(S^{n - 1} := \{x \in \R^n: \sum_{i = 1}^n x_i^2 = 1\}\), which sits inside \(D^n = \{x \in \R^n: \sum_{i = 1}^n x_i^2 = 1\}\). We can ask:

\begin{question}
  Does the identity map \(\id_{S^{n - 1}}: S^{n - 1} \to S^{n - 1}\) factor through \(D^n\)?
\end{question}

To gain some intuition, let's consider small \(n\). For \(n = 1\), \(S^0 = \{-1, 1\}\). The answer is no by Intermediate Value Theorem, or connectedness from topology. For \(n = 2\), this answer is again no by winding number argument. What about \(n \geq 3\)?

These problems are hard because we have to consider continuous maps between two spaces, which are in general very big and hard to compute. On the other hand, a comparable algebraic problem is

\begin{question}
  Does the map \(\id: \Z \to \Z\) factor through \(0\)?
\end{question}

Well that's much much easier!

\section{The fundamental group}

Throughout this course, ``maps'' mean continuous maps.

\subsection{Deforming maps and spaces}

\begin{definition}[homotopy]\index{homotopy}
  Let \(f_0, f_1: X \to Y\) be maps. A \emph{homotopy} between \(f_0\) and \(f_1\) is a map \(F: X \times [0, 1] \to X\) such that \(F(x, 0) = f_0(x)\) and \(F(x, 1) = f_1(x)\) for all \(x \in X\).

  If \(F\) exists, we say that \(f_0\) is \emph{homotopic} to \(f_1\) and write \(f_0 \simeq f_1\), or to emphasise the homotopy, \(f_0 \simeq_F f_1\).
\end{definition}

\begin{notation}
  \(I = [0, 1]\). We often write \(f_t(x) = F(x, t)\).
\end{notation}

\begin{eg}
  If \(Y\) is a convex region in \(\R^n\) then for any \(f_0, f_1: X \to Y\), the \emph{straightline homotopy} \(F(x, y) = t f_1(x) + (1 - t) f_0(x)\) is a homotopy \(f_0 \simeq f_1\).
\end{eg}

\begin{definition}[relative homotopy]
  If \(Z \subseteq X\) and \(F(z, t) = f_0(z) = f_1(z)\) for all \(z \in Z, t \in I\), then \(F\) is a \emph{homotopy relative to \(Z\)}, write \(f_0 \simeq_F f_1 \rel Z\).
\end{definition}

\begin{lemma}
  The relation \(\simeq\) (\(\rel Z\)) is an equivalence relation on maps \(X \to Y\).
\end{lemma}

\begin{proof}
  Reflexivity and symmetry are easy. For transitivity, suppose \(f_0 \simeq_{F_0} f_1 \simeq_{F_1} f_2\). Let
  \[
    F(x, t) =
    \begin{cases}
      F_0(x, 2t) & t \leq \frac{1}{2} \\
      F_1(x, 2t - 1) & t \geq \frac{1}{2}
    \end{cases}
  \]
  which is the homotopy we need.
\end{proof}

\begin{definition}[homotopy equivalence]\index{homotopy equivalence}
  \(f: X \to Y\) and \(g: Y \to X\) is a \emph{homotopy equivalence} if \(g \compose f \simeq \id_X\) and \(f \compose g \simeq \id_Y\). In this case we say \(X\) is homotopy equivalent to \(Y\) and write \(X \simeq Y\).
\end{definition}

\begin{eg}
  Let \(X = *\), the space with one point and \(Y = \R^n\). Let \(f: * \mapsto 0\), \(g\) be the unique map \(Y \to X\). Then \(g \compose f = \id_X\), and \(f \compose g = 0 \simeq \id_Y\) via the straightline homotopy. Therefore \(\R^n\) is homotopy equivalent to \(*\).
\end{eg}

\begin{definition}[contractible]\index{contractible}
  A space \(X\) is \emph{contractible} if \(X \simeq *\).
\end{definition}

\begin{eg}
  Let \(X = S^1, Y = \R^2 - \{0\}\). Let \(f: X \to Y\) be the natural inclusion nad \(g: Y \to X, x \mapsto \frac{x}{\norm x}\). Then
  \begin{align*}
    g \compose f &= \id_X \\
    f \compose g(x) &= \frac{x}{\norm x} \in \R^2
  \end{align*}
  Although \(Y\) is not convex, for all \(x, t\), straightline homotopy \(F(x, t)\) between \(f \compose g\) and \(\id_Y\) satisfies \(F(x, t) \neq 0\) so \(f \compose g \simeq_F \id_Y\). Thus \(X \simeq Y\).
\end{eg}

\begin{definition}[retract, deformation retract]\index{retract}\index{deformation retract}
  Let \(f: X \to Y\) and \(g: Y \to X\). If \(g \compose f = \id_X\) then \(X\) is a \emph{retract} of \(Y\).

  If in addition \(f \compose g \simeq \id_Y \rel f(X)\) then we say \(X\) is a \emph{deformation retract} of \(Y\).
\end{definition}

Note that whenever we have \(g \compose f = \id_X\), \(f\) is injective so we can think \(X\) as being embedded in \(Y\). Informally, \(Y\) is ``as complicated'' as \(X\).

\begin{lemma}
  Homotopy equivalence is an equivalence on topological spaces.
\end{lemma}

\begin{proof}
  Symmetry and reflexivity are obvious. For transitivity, consider
  \[
    \begin{tikzcd}
      X \ar[r, "f", shift left] & Y \ar[l, "g", shift left] \ar[r, "f", shift left] & Z \ar[l, "g", shift left]
    \end{tikzcd}
  \]
  Need to show that \(g \compose (g' \compose f') \compose f \simeq \id_X\) (and the other direction will follow similarly). By hypothesis \(g' \compose f' \simeq_{F'} \id_Y\). Now
  \[
    g(F'(f(x), t))
  \]
  is a homotopy
  \[
    g \compose g' \compose f' \compose f \simeq g \compose \id_Y \compose f = g \compose f \simeq \id_X.
  \]
\end{proof}

\subsection{The fundamental group}

\begin{definition}[path, loop]\index{path}\index{loop}
  A \emph{path} (from \(x_0\) to \(x_1\)) is a continuous map \(\gamma: I \to X\) (with \(\gamma(0) = x_0, \gamma(1) = x_1\)).

  A \emph{loop} (based at \(x_0\)) is a path from \(x_0\) to \(x_0\).
\end{definition}

\begin{definition}[homotopy of path]\index{homotopy of path}
  Let \(\gamma_0, \gamma_1\) be paths from \(x_0\) to \(x_1\). A \emph{homotopy (of path)} from \(\gamma_0\) to \(\gamma_1\) is a homotopy
  \[
    \gamma_0 \simeq_F \gamma_1 \rel \{0, 1\}.
  \]
\end{definition}

\begin{definition}[concatenation of path, constant path, inverse path]
  Let \(\gamma\) be a path from \(x\) to \(y\) and \(\delta\) a path from \(y\) to \(z\).
  \begin{enumerate}
  \item The \emph{concatenation} of \(\gamma\) and \(\delta\) is
    \[
      (\gamma \cdot \delta) (t) =
      \begin{cases}
        \gamma(2t) & t \leq \frac{1}{2} \\
        \delta(2t - 1) & t \geq \frac{1}{2}
      \end{cases}
    \]
  \item The \emph{constant} path (at \(x\)) is \(c_x(t) = x\).
  \item The \emph{inverse path} to \(\gamma\) is \(\overline \gamma(t) = \gamma(1 - t)\).
  \end{enumerate}
\end{definition}

\begin{theorem}[fundamental group]\index{fundamental group}
  Let \(x_0 \in X\). Let
  \[
    \pi_1(X, x_0) = \{\text{loops based at } x_0\} / \simeq.
  \]
  This has a group structure with
  \begin{itemize}
  \item \([\gamma][\delta] = [\gamma \cdot \delta]\),
  \item identity \([c_{x_0}]\),
  \item \([\gamma]^{-1} = [\overline \gamma]\).
  \end{itemize}

  We call \(\pi_1(X, x_0)\) the \emph{fundamental group} of \(X\) (based at \(x_0\)).
\end{theorem}

\begin{proof}
  To prove the theorem, we need to check that multiplication and inverses are well-defined and the group axioms are satisfied.

  \begin{lemma}
    If \(\gamma_0, \gamma_1\) are paths to \(y\) and \(\delta_0, \delta_1\) are paths from \(y\) and \(\gamma_0 \simeq \gamma_1, \delta_0 \simeq \delta_1\), then
    \[
      \gamma_0 \cdot \delta_0 \simeq \gamma_1 \cdot \delta_1.
    \]

    Also \(\overline \gamma_0 \simeq \overline \gamma_1\).
  \end{lemma}

  \begin{proof}
    We only show for concatenation. Inverses are similar. Let \(\gamma_0 \simeq_F \gamma_1, \delta_0 \simeq_G \delta_1\). (proof by picture) Algebraically, the homotopy is given by
    \[
      H(s, t) =
      \begin{cases}
        F(s, 2t) & t \leq \frac{1}{2} \\
        G(s, 2t - 1) & t \geq \frac{1}{2}
      \end{cases}
    \]
  \end{proof}

  Now we check that the group axioms are satisfied.

  \begin{lemma}\leavevmode
    \begin{enumerate}
    \item \((\alpha \cdot \beta) \cdot \gamma \simeq \alpha \cdot (\beta \cdot \gamma)\).
    \item \(\alpha \cdot c_x \simeq \alpha \simeq c_w \cdot \alpha\).
    \item \(\alpha \cdot \overline \alpha \simeq c_w\).
    \end{enumerate}
  \end{lemma}

  \begin{proof}
    We show \(1\). The other two are similar. Let
    \[
      \delta =
      \begin{cases}
        \alpha(3t) & t \leq \frac{1}{3} \\
        \beta(3t - 1) & \frac{1}{3} \leq t \leq \frac{2}{3} \\
        \gamma(3t - 2) & \frac{2}{3} \leq t \leq 1
      \end{cases}
    \]
    Let
    \[
      f_0(t) =
      \begin{cases}
        \frac{4}{3}t & t \leq \frac{1}{2} \\
        \frac{1}{3} + \frac{2}{3} t & t \geq \frac{1}{2}
      \end{cases}
    \]
    and
    \[
      f_1(t) =
      \begin{cases}
        \frac{2}{3}t & t \leq \frac{1}{2} \\
        -\frac{1}{3} + \frac{4}{3}t & t \geq \frac{1}{2}
      \end{cases}
    \]
    Note that \(f_0 \simeq f\) as \emph{paths} via the straightline homotopy in \(I\). But
    \begin{align*}
      (\alpha \cdot \beta) \cdot \gamma &= \delta \compose f_0 \\
      \alpha \cdot (\beta \cdot \gamma) &= \delta \compose f_1
    \end{align*}
    so they are homotopic as path.
  \end{proof}
\end{proof}

\begin{eg}
  Let \(X = \R^n, x_0 = 0\). Consider a loop \(\gamma\) in \(\R^n\) based at \(0\). The straightline homotopy shows that \(\gamma \simeq c_0\) as path. Therefore \(\pi_1(\R^n, 0) \cong 1\).
\end{eg}

\begin{lemma}
  Let \(f: X \to Y\) be such that \(f(x_0) = y_0\). There is a well-defined homomorphism
  \begin{align*}
    f_*: \pi_1(X, x_0) &\to \pi_1(Y, y_0) \\
    [\gamma] &\mapsto [f \compose \gamma]
  \end{align*}
  Furthermore,
  \begin{enumerate}
  \item if \(f \simeq f' \rel \{x_0\}\) then \(f_* = f_*'\).
  \item if \(g: Y \to Z\) is another map then \(f_* \compose g_* = (f \compose g)_*\).
  \item \((\id_X)_* = \id_{\pi_1(X, x_0)}\).
  \end{enumerate}
\end{lemma}

\begin{proof}
  Easy.
\end{proof}

We'd like to eliminate the dependence of \(\pi_1(X, x_0)\) on \(x_0\), at least when \(X\) is path-connected. Suppose \(x_0, x_1 \in X\). What do \(\pi_1(X, x_0)\) and \(\pi_1(X, x_1)\) have to do with each other, where \(X\) is path-connected?

Fix \(\alpha\) a path from \(x_0\) to \(x_1\).

\begin{lemma}
  There is a well-defined group homomorphism
  \begin{align*}
    \alpha_\#: \pi_1(X, x_0) &\to \pi_1(X, x_1) \\
    [\gamma] &\mapsto [\overline \alpha \cdot \gamma \cdot \alpha]
  \end{align*}
  Furthermore
  \begin{enumerate}
  \item if \(\alpha \simeq \alpha'\) then \(\alpha_\# = \alpha_\#'\),
  \item \((c_{x_0})_\# = \id_{\pi_1(X, x_0)}\),
  \item if \(\beta\) is a path from \(x_1\) to \(x_2\), \(\beta_\# \compose \alpha_\# = (\alpha \cdot \beta)_\#\).
  \item if \(f: X \to Y\) then \((f \compose \alpha)_\# \compose f_* = f_* \compose \alpha_\#\).
  \end{enumerate}
\end{lemma}

Now it makes sense to talk about isomorphism type of the fundamental group of a path-connected space.

\begin{definition}[simply connected]\index{simply connected}
  If \(X\) is path-connected and \(\pi_1(X, x_0) \cong 1\) for some (i.e.\ any) \(x_0 \in X\) then we say \(X\) is \emph{simply connected}.
\end{definition}

Our last task is to understand what homotopies that don't fix basepoints do to the fundamental group.

\begin{lemma}
  Suppose \(f, g: X \to Y\) is such that \(f \simeq_F g\). Define \(\alpha(t) = F(x_0, t)\), a path from \(f(x_0)\) to \(g(x_0)\). Then the following diagram commutes:
\[
  \begin{tikzcd}
    & \pi_1(Y, f(x_0)) \ar[dd, "\alpha_\#"] \\
    \pi_1(X, x_0) \ar[ur, "f_*"] \ar[dr, "g_*"] \\
    & \pi_1(Y, g(x_0))
  \end{tikzcd}
\]
i.e.\ \(g_* = \alpha_\# \compose f_*\).
\end{lemma}

\begin{proof}
  Let \([\gamma] \in \pi_1(X, x_0)\). We need to show that
  \[
    [g \compose \gamma] = g_*[\gamma] = \alpha_\# \compose f_*[\gamma] = [\overline \alpha \cdot (f \compose \gamma) \cdot \alpha]
  \]
  which is saying
  \[
    g \compose \gamma \simeq \overline \alpha \cdot (f \compose \gamma) \cdot \alpha
  \]
  as paths. Consider
  \begin{align*}
    I \times I &\to Y \\
    (s, t) &\mapsto F(\gamma(s), t)
  \end{align*}
  Let \(H\) be the straightline homotopy in \(I \times I\) between the yellow path and the brown path. Then \(G \compose H\) is the homotopy we need.
\end{proof}

\begin{theorem}
  If \(f: X \to Y, g: Y \to X\) is a pair of homotopy equivalences and \(x_0 \in X\) then \(f_*: \pi_1(X, x_0) \to \pi_1(Y, f(x_0))\) is an isomorphism.
\end{theorem}

\begin{proof}
  Suffices to prove that \(f_*\) is bijective. Let \(g \compose f \simeq_F \id_X\) and \(\alpha\) be the path defined from \(F\) as above. Then
  \[
    g_* \compose f_* = (g \compose f)_* = \alpha_\# \compose \id_{\pi_1(X, x_0)} = \alpha_\#
  \]
  so \(f_*\) is injective. Similarly it is surjective.
\end{proof}

\begin{corollary}
  Contractible spaces are simply connected.
\end{corollary}

\section{Covering spaces}

\subsection{Definition and first examples}

\begin{definition}[covering space]\index{covering space}
  Let \(p: \hat X \to X\) be a map. An open set \(U \subseteq X\) is \emph{evenly covered} if there is a discrete space \(\Delta_U\) and an identification \(p^{-1}(U) = \Delta_U \times U\) such that on \(p^{-1}(U)\), \(p\) coincides with projection to the second factor.

  If every \(x \in X\) has an everly covered neighbourhood, we say that \(p\) is a \emph{covering map} and \(\hat X\) is a \emph{covering space}
\end{definition}

Alternatively, write \(U_\delta = \{\delta\} \times U\). Then \(p^{-1}(U) = \coprod_{\delta \in \Delta_U} U_\delta\). Write \(p|_\delta = p|_{U_\delta}\) which is a homeomorphism.

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Let \(\hat X = \R, X = S^1\) and define
  \begin{align*}
    p: \R &\to S^1 \\
    t &\mapsto e^{2\pi i t}
  \end{align*}
  Let \(1 \in U \subsetneq S^1\). Choose a branch of \(\log\) well-defined on \(U\) such that \(\log 1 = 0\). Every point \(\hat z \in p^{-1}(U)\) can be written uniquely as
  \[
    \hat z = k + \frac{\log(z)}{2\pi i}
  \]
  where \(z = p(\hat z) \in U\) and \(k \in \Z\), i.e.\ \(p^{-1}(U) = \Z \times U\). Thus \(U\) is evenly covered. The same proof shows that \(p\) is a covering map.
\item Let \(\hat X = X = S^1\). Define
  \begin{align*}
    p_n: S^1 &\to S^1 \\
    z &\mapsto z^n
  \end{align*}
  This is also a covering map by essentially the same proof by choosing a \(n\)th root of unity. In this case \(\Delta_n\) is the \(n\)th roots of unity.
\item Let \(\hat X = S^2\) and \(G = \Z/2\Z\) acts on \(S^2\) via the antipodal map. Let
  \[
    X = \hat X / G = \{\{x, -x\}: x \in S^2\}
  \]
  and \(p: \hat X \to X\) be the quotient map. The orbit space \(X\) can be identified with straightlines in \(\R^3\) passing through the origin. Given a line \(\ell\) through the origin, let
  \[
    C_\ell = \{y \in S^2: y \text{ perpendicular to } \ell\}.
  \]
  Then \(S^2 - C_\ell = U_+ \amalg U_-\). Let \(U = p(U_+ \amalg U_-)\), an open neighbourhood of \(\ell\) in \(X\). Note that \(p|_{U_+}\) and \(p|_{U_-}\) are both homeomorphisms onto \(U\). Thus \(U\) is evenly covered and \(p\) is a covering map. \(X = \R P^2\) is the \emph{real projective plane}.
\end{enumerate}
\end{eg}

Note that in all three examples, for all points \(x \in X\), the number of copies of \(U\) in \(p^{-1}(U)\) is the same. We give a name to such covering spaces:

\begin{definition}[\(n\)-sheeted]
  A covering map \(p: \hat X \to X\) is \emph{\(n\)-sheeted} where \(n \in \N \cup \{\infty\}\) if for all \(x \in X\), \(\# p^{-1}(x) = n\).
\end{definition}

\subsection{Lifting properties}

Let \(p: \hat X \to X\) be a covering map throughout the section.

\begin{definition}[lift]\index{lift}
  A \emph{lift} of \(f: Y \to X\) to \(\hat X\) is a map \(\hat f: Y \to \hat X\) such that \(f = p \compose \hat f\), i.e.\ the following diagram commutes:
  \[
    \begin{tikzcd}
      & \hat X \ar[d, "p"] \\
      X \ar[ur, "\hat f", dashed] \ar[r, "f"] & X
    \end{tikzcd}
  \]
\end{definition}

\begin{lemma}[uniqueness of lift]
  Suppose \(f: Y \to X\) where \(Y\) is connected and locally path-connected. % in fact locally path-connected not necessary
  Let \(\hat f_1, \hat f_2: Y \to \hat X\) are both lifts of \(f\). If there exists \(y \in Y\) such that \(\hat f_1(y) = \hat f_2(y)\) then \(\hat f_1 = \hat f_2\).
\end{lemma}

\begin{proof}
  Consider
  \[
    S = \{y \in Y: \hat f_1(y) = \hat f_2(y)\}.
  \]
  Claim that \(S\) is both open and closed, from which the lemma follows immediately. Given \(y_0 \in Y\), let \(U\) be an evenly covered neighbourhood of \(f(y_0)\) and \(V \subseteq \hat f^{-1}(U)\) a path-connected neighbourhood of \(y_0\). Let \(y \in V\) be arbitrary. Need to show that \(y_0 \in S\) if and only if \(y \in S\). If \(y_0 \in S\) then \(\hat f_1(y_0) = \hat f_2(y_0) \in U_\delta\) for some \(\delta \in \Delta_U\). Let \(\alpha\) be a path in \(V\) from \(y_0\) to \(y\). Then \(f \compose \alpha\) is a path from \(f(y_0)\) to \(f(y)\). Then \(\hat f_i \compose \alpha\) is a path in \(p^{-1}(U)\) from \(\hat f_i(y_0)\) to \(\hat f_i(y)\). It follows that \(\hat f_i(y) \in U_\delta\) so \(\hat f_1(y) = (\delta, f(y)) = \hat f_2(y)\) so \(y \in S\). The converse is identical.
\end{proof}

\begin{definition}[lift at a point]
  Let \(\gamma: I \to X\) be a path with \(\gamma(0) = x_0\). A (unique) lift of \(\gamma\) to \(\hat X\) such that \(\hat \gamma(0) = \hat x_0 \in p^{-1}(x_0)\) is called the \emph{lift of \(\gamma\) at \(\hat x_0\)}.
\end{definition}

\begin{lemma}[path-lifting lemma]\index{path-lifting lemma}
  Let \(\gamma: I \to X\) be a path with \(\gamma(0) = x_0\). For any \(\hat x_0 \in p^{-1}(x_0)\) there is a uniqueness \(\hat \gamma\) of \(\gamma\) at \(\hat x_0\).
\end{lemma}

\begin{proof}
  Uniqueness follows from the more general uniquenss of lift so suffices to show existence. Consider
  \[
    S = \{t \in I: \text{ lift of } \gamma|_{[0, t]} \text{ at } \hat x_0 \text{ exists}\},
  \]
  as \(0 \in S\), the lemma follows if we can show \(S\) is both open and closed. Let \(t_0 \in I\). Then \(\gamma(t_0) \in U\) for some evenly covered neighbourhood \(U\). There exists a path-connected neighbourhood \(V\) of \(t_0\) such that \(\gamma(V) \subseteq U\). Let \(t \in V\). We'll prove that \(t_0 \in S\) if and only if \(t \in S\). By symmetry suffices to show one direction. Suppose \(t_0 \in S, t \notin S\). Since \(t_0 \in S\), \(\hat \gamma(t_0)\) is well-defined so let \(\hat \gamma(t_0) \in U_\delta\). Since \([t_0, t] \subseteq V\) (as \(t \notin S\)), \(\gamma([t_0, t]) \subseteq U\) so the path
  \[
    s \mapsto
    \begin{cases}
      \hat \gamma(s) & s \leq t_0 \\
      p_\delta^{-1} \compose \gamma & t_0 \leq s \leq t
    \end{cases}
  \]
  is a lift of \(\gamma|_{[0, t]}\) so \(t \in S\). Contradiction.
\end{proof}

\begin{lemma}
  If \(X\) is path-connected the \(p\) is \(n\)-sheeted for some \(n \in \N \cup \{\infty\}\).
\end{lemma}

\begin{proof}
  Let \(x, y \in X\) and \(\alpha\) a path between them. Let \(\hat x \in p^{-1}(x)\) and let \(\hat \alpha_{\hat x}\) be the unique lift of \(\alpha\) at \(\hat x\). Define a map
  \begin{align*}
    p^{-1} (x) &\to p^{-1}(y) \\
    \hat x &\mapsto \hat \alpha_{\hat x}(1)
  \end{align*}
  Now replacing \(\alpha\) with \(\overline \alpha\) defines an inverse to this map.
\end{proof}

\begin{definition}[degree of covering map]\index{degree}
  \(n\) is called the \emph{degree} of \(p\).
\end{definition}

\begin{lemma}[homotopy lifting lemma]\index{homotopy lifting lemma}
  \label{lem:homotopy lifting lemma}
  Let \(f_0: Y \to X\) be a map where \(Y\) is path-connected. Let \(F: Y \times I \to X\) be a homotopy with \(F(\cdot, 0) = f_0\). Let \(\hat f_0: Y \to \hat X\) be a lift of \(f_0\) to \(\hat X\). Then there is a unique lift \(\hat F\) of \(F\) to \(\hat X\) such that \(\hat F(\cdot, 0) = \hat f_0\).
\end{lemma}

\begin{proof}
  Let \(y_0 \in Y\). Let \(\gamma_{y_0}(t) = F(y_0, t)\) be a path. By path lifting lemma, there is a unique lift \(\hat \gamma_{y_0}\) such that \(\hat \gamma_{y_0}(0) = \hat f_0(y_0)\) such that \(\hat F(y_0, t) = \hat\gamma_{y_0}(t)\). By uniqueness of path lifting, this is the only choice for \(\hat F\), but it is not clear that \(\hat F\) is continuous.

  We will construct a map that is obviously continuous and argue that it is also a lift. Fix \(y_0\). For all \(t\) there exists \(U_t\) an evenly covered neighbourhood of \(F(y_0, t)\). By definition of product topology,
  \[
    (y_0, t) \in V_t \times J_t \subseteq F^{-1}(U_t).
  \]
  Compactnss of \(I\) implies that \(\{y_0\} \times I\) is covered by \(V_1 \times J_1, \dots, V_n \times J_n\) where \(t_i \in J_i\). Setting \(V = \bigcap_{i = 1}^n V_i\) (and passing to a path-connected subset), we have \(\{y_0\} \times I\) covered by \(V \times J_1, \dots, V \times J_n\). Now define \(\tilde F\) on \(V \times I\) by
  \[
    \tilde F(y, t) = p_{\delta_i}^{-1} \compose F(y, t)
  \]
  for \(y \in V, t \in J_i\). Need to check that \(\tilde F\) is well-defined. Suppose \(t \in J_i \cap J_j\). Let \(y \in V\). Choose \(\alpha\) in \(V\) from \(y_0\) to \(y\) and let \(\alpha_t(s) = F(\alpha(s), t)\). Now \(p_{\delta_i}^{-1} \compose \alpha_t\) is the lift of \(\alpha_t\) at \(\hat F(y_0, t)\). Same for \(p_{\delta_j}^{-1} \compose \alpha_t\) so they are equal. Therefore their endpoints coincide: \(p_{\delta_i}^{-1} \compose F(y, t) = p_{\delta_j}^{-1} \compose F(y, t)\) . Thus \(\tilde F\) is well-defined.

  \(\tilde F\) is clearly continuous and a lift of \(F\), so it remains to check that \(\tilde F = \hat F\) on \(V \times I\). By construction \(\tilde F(y_0, 0) = \hat F(y_0, 0)\). Now \(\tilde F(\alpha(\cdot), 0)\) is a lift of \(f_0 \compose \alpha\), so will agree with \(\hat f_0 \compose \alpha\). So \(\tilde F(y, 0) = \hat f_0(y)\) for all \(y \in V\). Finally \(\tilde F(y, \cdot)\) is a lift of \(\gamma_y\) starting at \(\hat f_0(y)\), so by uniqueness again, \(\tilde F(y, t) = \tilde \gamma_y(t) = \hat F(y, t)\) for all \(y \in V, t \in I\).
\end{proof}

We have discussed lifts of maps, paths and homotopies. Recall that homotopy of paths is a slightly stronger form of homotopy and the next lemma shows that indeed the lift of a homotopy of paths is a homotopy of paths:

\begin{lemma}
  \label{lem:lift of homotopy of paths}
  Let \(F: I \times I \to X\) be a homotopy of paths and \(\hat F\) be a lift of \(F\) to \(\hat X\). Then \(\hat F\) is also a homotopy of paths.
\end{lemma}

\begin{proof}
  As \(F\) is a homotopy of path, \(F(0, t) = x_0\) for all \(t\). Consider \(\hat F(0, \cdot): I \to \hat X\). For any \(t \in I\) we have
  \[
    \hat F(0, t) \in p^{-1}(F(0, t)) = p^{-1}(x_0)
  \]
  which is discrete. As \(I\) is connected \(\hat F(0, \dots)\) is constant. Same for \(\hat F(1, \dots)\) so \(\hat F\) is a homotopy of paths.
\end{proof}

\subsection{Applications to calculations of fundamental groups}

\begin{lemma}
  If \(p: \hat X \to X\) is a map, \(x \in X\) and \(\hat x \in p^{-1}(x)\) then
  \[
    p_*: \pi_1(\hat X, \hat x) \to \pi_1(X, x)
  \]
  is an injection.
\end{lemma}

\begin{proof}
  Suppose \([\hat \gamma] \in \ker p_*\), i.e.\ \(p_*([\hat \gamma]) = [p\compose \hat \gamma] = [\gamma] = 1 \in \pi_1(X, x)\). Then \(\gamma\) is homotopic to the constant path. But by \nameref{lem:homotopy lifting lemma} this lifts to homotopy between \(\hat \gamma\) and constant path.
\end{proof}

As last time, path lifting defines an \emph{action} of \(\pi_1(X, x)\) on \(p^{-1}(x)\) by
\begin{align*}
  \pi_1(X, x) \times p^{-1}(x) &\to p^{-1}(x) \\
  ([\gamma], \hat x) &\mapsto \hat x . \gamma
\end{align*}
where \(\hat x . \gamma\) is the endpoint of the lift of \(\gamma\) at \(\hat x\). Note that by \Cref{lem:lift of homotopy of paths} this is indeed in the fibre of \(x\). Furthermore it shows that this is well-defined. Finally note that this is a \emph{right action} (ultimately because we defined concatenation of paths from left to right).

Given \(G\) action on \(X\), orbit-stabiliser says that there is a bijection between the left cosets of stabiliser \(G_x\) of an element \(x\) and the orbit \(G^x\). Furthermore, \(G\) has a natural action on the left cosets \(G/G_x\) such that the bijection is \(G\)-equivariant. Spelling this out (and use right action instead of left), we have

\begin{lemma}
  Suppose \(\hat X\) is path-connected and \(x \in X\). Let \(\hat x \in p^{-1}(x)\). Then
  \begin{align*}
    p_*\pi_1(\hat X, \hat x) \backslash \pi_1(X, x) &\to p^{-1}(x) \\
    (p_* \pi_1(\hat X, \hat x)) [\gamma] &\mapsto \hat x. \gamma
  \end{align*}
  Furthermore, the map is equivariant.
\end{lemma}

\begin{proof}
  Suffices to show that the action is transitive and the stabiliser of \(\hat x\) is \(p_* \pi_1(\hat X, \hat x)\). As \(\hat X\) is path-connected there exists a path \(\hat \gamma\) between any two points in \(p^{-1}(x)\), whose image \(\gamma\) under \(p\) is a loop bases at \(x\), and is the only loop whose lift is \(\hat \gamma\) by uniquenss. The stabiliser of \(\hat x\) are precisely the homotopy classes of loops based at \(x\) whose lifts are loops baesd at \(\hat x\), which is precisely \(p_* \pi_1(\hat X, \hat x)\).
\end{proof}

\begin{definition}[universal cover]\index{universal cover}
  If \(p: \tilde X \to X\) is a covering map with \(X\) path-connected and \(\tilde X\) simply connected then \(\tilde X\) is called a \emph{universal cover} of \(X\).
\end{definition}

\begin{corollary}
  If \(p: \tilde X \to X\) is a universal cover and \(p(\tilde x) = x\) then
  \begin{align*}
    \pi_1(X, x) &\to p^{-1}(x) \\
    [\gamma] &\mapsto \tilde x . \gamma
  \end{align*}
  is an equivariant bijection.
\end{corollary}

The map is not only bijective, but also equivariantly so. Thus by looking into the universal cover we can recover information about the fundamental group of the base space.

\begin{eg}[fundamental group of \(S^1\)]
  Consider \(p: \R \to S^1, t \mapsto e^{2\pi it}\) is a covering map. Since \(\R\) is contractible, this is the universal cover so
  \begin{align*}
    \pi_1(S^1, 1) &\to p^{-1}(1) = \Z \\
    [\gamma] &\mapsto 0. \gamma
  \end{align*}
  is a bijection. Therefore we can write down representative loops for each element of \(\pi_1(S^1, 1)\). For \(n \in \Z\), let \(\tilde \gamma_n(t) = nt\) so \(\gamma_n = p \compose \tilde \gamma_n\) is a loop in \(S^1\) based at \(1\). As \([\gamma_n] \mapsto n\), these represent every element of \(\pi_1(S^1, 1)\) uniquely.

  To recover the group structure, note that for any \(m, n \in \Z\), \(m + \tilde \gamma_n\) is the lift of \(\gamma_n\) at \(m\). On the other hand, the endpoint of the lift of \(\gamma_m \cdot \gamma_n\) at \(0\) is \(m + n\), which is the endpoint of \(m + \tilde \gamma_n\). So
  \begin{align*}
    m+n: [\gamma_m \cdot \gamma_n] \mapsto m + n
  \end{align*}
  is a homomorphism. Thus
  \[
    \pi_1(S^1, 1) \cong \Z.
  \]
\end{eg}

\subsection{The fundamental group of \(S^1\)}

\begin{theorem}
  \(\id_{S^1}\) does not extend over \(D^2\), i.e.\ \(S^1\) is not a retract of \(D^2\).
\end{theorem}

\begin{proof}
  Suppose otherwise and \(r: D^2 \to S^1\) is a retraction. Then \(\id_{S^1} = r \compose i\):
  \[
    \begin{tikzcd}
      S^1 \ar[r, "\id"] \ar[dr, "i"'] & S^1 \\
      & D^2 \ar[u, "r"]
    \end{tikzcd}
  \]
  Look at the induced fundamental groups, we have
  \[
    \id_\Z = r_* \compose i_*
  \]
  so
  \[
    \begin{tikzcd}
      \Z \ar[r, "\id"] \ar[dr, "i_*"'] & \Z \\
      & 0 \ar[u, "r_*"]
    \end{tikzcd}
  \]
  Absurd.
\end{proof}

\begin{corollary}[Brouwer fixed point theorem]\index{Brouwer fixed point theorem}
  Every continuous map \(f: D^2 \to D^2\) has a fixed point.
\end{corollary}

\begin{proof}
  If there exists \(f\) such that \(f(x) \neq x\) for all \(x \neq D^2\) then we can construct a continuous retraction \(r: D^2 \to S^1\): for all \(x \in D^2\), let \(r(x)\) be the intersection of the ray from \(f(x)\) to \(x\) with \(S^1\) (well-defined since \(f(x) \neq x\)). It is continuous. As \(r\) fixes \(S^1\) this is a retract.
\end{proof}

\begin{theorem}[fundamental theorem of algebra]
  Every nonconstant polynomial \(p: \C \to \C\) has a root.
\end{theorem}

\begin{proof}[Sketch of proof]
  Suppose \(p(z) = z^d + a_{d - 1} z^{d - 1} + \dots + a_1 z + a_0\) has no root. Then \(p: \C \setminus \{0\} \to \C \setminus \{0\}\). Let
  \begin{align*}
    r: \C \setminus \{0\} &\to S^1 \\
    z &\mapsto \frac{z}{|z|}
  \end{align*}
  be the usual retraction. Let \(\lambda_R(z) = Rz\) for \(R > 0\) and consider \(f_R\) which is the composition
  \[
    \begin{tikzcd}
      S^1 \ar[r, "\lambda_R"] & \C \setminus \{0\} \ar[r, "p"] & \C \setminus \{0\} \ar[r, "r"] & S^1
    \end{tikzcd}
  \]
  as all these maps are homotopic, they induce the same map \(f_*: \Z \to \Z\) which is multiplication by some number \(m\), independent of \(R\). When \(R\) is small, we can argue that \(f_R\) is homotopic to a constant map so \(m = 0\). When \(R\) is large, \(p\) is approximately \(z \mapsto z^d\) so \(m = d\), contradiction.
\end{proof}

\subsection{Existence of universal covers}

\begin{theorem}
  If \(X\) is path-connected and locally simply connected then \(X\) has a universal cover.
\end{theorem}

\begin{proof}[Sketch of proof][non-examinable]
  Let
  \[
    \mathfrak X = \{\gamma: I \to X: \gamma(0) = x_0\}
  \]
  and define \(\tilde X = \mathfrak X /\simeq\), the homotopy classes of paths. Define
  \begin{align*}
    p: \tilde X &\to X \\
    [\gamma] &\mapsto \gamma(1)
  \end{align*}
  The verification is omitted.
\end{proof}

\subsection{The Galois correspondence}

\begin{definition}[covering space isomorphism]\index{covering space isomorphism}
  Let \(X\) be a path-connected topological space and \(p_1: \hat X_1 \to X, p_2: \hat X_2 \to X\) are covering spaces of \(X\). An \emph{isomorphism of covering spaces} is a map \(\varphi: \hat X_1 \to \hat X_2\) such that \(p_2 \compose \varphi = p_1\).

  If \(\hat x_1, \hat x_2\) are bases points and \(\varphi(\hat x_1) = \hat x_2\), we say \(\varphi\) is \emph{based}.
\end{definition}

\begin{remark}
  \(\varphi\) is a lift of \(p_1\) to \(\hat X_2\).
\end{remark}

\begin{theorem}[Galois correspondence with base points]\index{Galois correspondence}
  Let \(X\) be path-connected, locally simply connected space and \(x_0 \in X\). Then there is a bijection between based isomorphism class of path-connected covering space \(p: (\hat X, \hat x_0) \to (X, x_0)\) and subgroups of \(\pi_1(X,x_0)\), given by
  \[
    \hat X \mapsto p_*\pi_1(\hat X, \hat x_0).
  \]
\end{theorem}

\begin{proof}
  Non-examinable and omitted.
\end{proof}

\begin{eg}
  Let \(X = S^1\), we have path-connteced covering space \(p: \R \to S^1, t \mapsto e^{2\pi it}\) and \(p_n: S^1 \to S^1, z \mapsto z^n\). The subgroups of \(\Z\) are precisely \(n\Z\). It is easy to see that \(p\) corresponds to \(0\) and \(p_n\) correponds to \(n\Z\). Galois correspondence then tells us that these are all the path-connected covering space of \(S^1\) up to isomorphism.
\end{eg}

\begin{corollary}
  Let \(X\) be ``reasonable''. Then any two universal covers \(p_1: \tilde X_1 \to X, p_2: \tilde X_2 \to X\) are isomorphic.
\end{corollary}

\begin{proof}
  Exercise.
\end{proof}

%If we insist that the base space is locally simply connected so there exists

\begin{corollary}
  Let \(X\) be path-connected, locally simply connected and \(x_0 \in X\). Then there is a bijection between isomorphism class of path-connected covering space \(p: (\hat X, \hat x_0) \to (X, x_0)\) and subgroups of \(\pi_1(X, x_0)\) modulo conjugation, given by
  \[
    \hat X \mapsto p_*\pi_1(\hat X, \hat x_0).
  \]
\end{corollary}

\begin{proof}
  Surjectivity of the map follows from immediately from the previous theorem. We need to prove that if \(p_{1*}\pi_1(\hat X_1, \hat x_1)\) and \(p_{2*}\pi_1(\hat X_2, \hat x_2)\) are conjugate then \(\hat X_1\) and \(\hat X_2\) are isomorphic covering spaces. So let
  \[
    \label{eq:a}
    p_{1*} \pi_1(\hat X_1, \hat x_1) = [\gamma] p_{2*} \pi_1(\hat X_2, \hat x_2) [\overline \gamma].
    \tag{\ast}
  \]
  Let \(\overline{\hat \gamma}\) be the lift of \(\overline \gamma\) and \(\hat x_2' = \overline{\hat \gamma}(1)\). \eqref{eq:a} then tells us that
  \[
    \p_{1*}\pi_1(\hat X_1, \hat x_1)
    = p_{2*} \hat \gamma_\# \pi_1(\hat X_2, \hat x_2)
    = p_{2*} \pi_1(\hat X_2, \hat x_2').
  \]
  Then by the original Galois correspondence, there is a based isomorphism between \(\hat X_1\) and \(\hat X_2\). Of course they are isomorphic.
\end{proof}

\begin{definition}[covering transformation]\index{covering transformation}\index{deck transformation}
  Let \(p: \hat X \to X\) be a covering space. A \emph{covering transformation} or \emph{deck transformation} \(\hat X \to \hat X\) is a homeomorphism that is also a cover isomorphism.
\end{definition}

\begin{corollary}
  Let \(X\) be ``reasonable'', path-connected and locally simply connected and \(p: \tilde X \to X\) a universal cover. Let \(x_0 \in X\) and \(\tilde x_0 \in p^{-1}(x_0)\). Let \(\tilde x \in p^{-1}(x_0)\). Then there is a unique covering transformation \(\varphi_{\tilde x} : \tilde X \to \tilde X\) such that \(\varphi_{\tilde x}(\tilde x_0) = \tilde x\).
\end{corollary}

\begin{proof}
  Both \((\tilde X, \tilde x_0)\) and \((\tilde X, \tilde x)\) correspond ot the trivial subgroup of \(\pi_1(X, x_0)\) so the result follows from 2.27.
\end{proof}

Now we have two different correspondences:

\blindtext

In fact these are isomorphic. automorphism of universal covers is isomorphic to fundamental group of base group.

We can thus make \(\pi_1(X, x_0)\) act on \(\tilde X\) on the \emph{left} by covering transformation.
\begin{remark}
  Left vs. right action. Abelian group in case of \(S^1\).
\end{remark}

\section{Seifert-van Kampen theorem}

So far we have only seen one space with nontrivial fundamental group. In general, the fundamental groups are notoriously difficult to compute. In this chapter, we will develop the machinery needed to divide and conquer the problem of finding the fundamental group of a complex space. Specifically, given \(X = Y_1 \cup Y_2\), we will ultimate describe \(\pi_1X\) in terms of \(\pi_1Y_1, \pi_1Y_2\) and \(\pi_1(Y_1 \cap Y_2)\). But before that, we have to develop more group theory.

\subsection{Free groups and presentations}

We have seen groups described in the following form in IA Groups:
\[
  D_{2n} = \langle r, s | s^2 = r^n = e, srs = r^{-1} \rangle
\]
where we impose \emph{relations} on the right on the group generated by the \emph{generators} on the left. This is an example of a \emph{presentation}. What should be the group generated by the generators be? Should it, for example, have an elemnet of order 2? Morally, the answer should be ``no'' as we should move all relations to the right. This leaves us with a free group, which is a group with no relation. Given a set \(A\) of generators, called an \emph{alphabet}, \(FA\) is the free group generated by \(A\). Thus a free group has presentation
\[
  FA = \langle a \in A \rangle.
\]
Formally

\begin{definition}[free group]\index{free group}
  A group \(F(A)\) equipped with a map of set \(A \to F(A)\) is the \emph{free group} on \(A\) if it satisfies the following universal property: whenever \(G\) is a group and \(A \to G\) is a set map there is a unique canonical homomorphism \(f: F(A) \to G\) such that
  \[
    \begin{tikzcd}
      F(A) \ar[dr, "f"] \\
      A \ar[u] \ar[r] & G
    \end{tikzcd}
  \]
  commutes.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(F(\emptyset) \cong 1\).
  \item Let \(A = \{a\}\). If \(A \to G, a \mapsto g\), define \(f: \Z \to G, n \mapsto g^n\). Then the diagram
    \[
      \begin{tikzcd}
        \Z \ar[dr, "f"] \\
        A \ar[u] \ar[r] \ar[r] & G
      \end{tikzcd}
    \]
    commutes. Thus \(\Z\) is the free group on \(A\).
  \end{enumerate}
\end{eg}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item Free group is defined uniquely up to a unique isomorphism: suppose \(A \to F'(A)\) also satisfies the universal property. Take \(G = F'(A)\) in the universal property for \(F(A)\), then there is a canonical homomorphism \(f: F(A) \to F'(A)\) such that
    \[
      \begin{tikzcd}
        F(A) \ar[dr] \\
        A \ar[u] \ar[r] & F'(A)
      \end{tikzcd}
    \]
    commutes. Conversely, take \(G = F(A)\) in the universal property for \(F'(A)\), then there is a canonical homomorphism \(f': F'(A) \to F(A)\) such that the corresponding diagram commutes. Now both \(\id_{F(A)}\) and \(f' \compose f\) both make the diagram commute so by uniqueness \(f' \compose f = \id_{F(A)}\). Likewise \(f \compose f' = \id_{F'(A)}\) so \(f\) and \(f'\) are isomorphisms.
  \item The definition does not guarantee the existence of free groups. We'll cover this later.
  \end{enumerate}
\end{remark}

\begin{notation}
  We identify \(a \in A\) with its image in \(F(A)\).
\end{notation}

\begin{definition}[presentation]\index{presentation}
  Let \(A\) be an \emph{alphabet}. A subset \(R \subseteq F(A)\) defines a \emph{(group) presentation}
  \[
    \langle A | R \rangle = F(A) / \langle \langle R \rangle \rangle
  \]
  where \(\langle\langle R \rangle\rangle\) is the normal closure of \(R\) in \(F(A)\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\langle a | a^n \rangle \cong \Z/n\Z\).
  \item \(\langle r, s | r^n, s^2, srsr \rangle \cong D_{2n}\).
  \end{enumerate}
\end{eg}

\begin{lemma}[universal property of group presentation]
  Given a presentation \(\langle A | R\rangle\) and the quotient map \(q: F(A) \to \langle A | R \rangle\), for any homomorphism \(g: F(A) \to G\) such that \(g(r) = 1\) for all \(r \in R\), there exists a unique homomorphism \(f: \langle A | R \rangle \to G\) such that \(f \compose q = g\). In other words, the following diagram commutes:
  \[
    \begin{tikzcd}
      \langle A | R \rangle \ar[dr, "f"] \\
      F(A) \ar[u, "q"] \ar[r, "g"] & G
    \end{tikzcd}
  \]
\end{lemma}

\begin{proof}
  Follows easily from universal property of quotient map.
\end{proof}

\begin{definition}[pushout]\index{pushout}
  Let \(i: C \to A, j: C \to B\) be group homomorphisms. Homomorphism \(k: A \to \Gamma, \ell: B \to \Gamma\) is a \emph{pushout} if it satisfies the following property: for any group \(G\) and homomorphisms \(f: A \to G, g: B \to G\) such that \(f \compose i = g \compose j\), then there is a unique homomorphism \(\varphi: \Gamma \to G\) such that \(f = \varphi \compose k, g = \varphi \compose \ell\). In other words the following diagram commutes.
  \[
    \begin{tikzcd}
      C \ar[r, "i"] \ar[d, "j"] & A \ar[d, "k"] \ar[ddr, bend left, "f"] \\
      B \ar[r, "\ell"] \ar[drr, bend right, "g"] & \Gamma \ar[dr, "\varphi", dashed] \\
      & & G
    \end{tikzcd}
  \]
\end{definition}

Again \(\Gamma\) is uniquely defined by the universal property.

We mainly care about special cases of the definition.

\begin{definition}[free product, amalgamated free product]\index{free product}\index{free product!amalgamated}
  If \(C \cong 1\), then \(\Gamma\) is called the \emph{free product} of \(A\) and \(B\), denoted \(A * B\).

  More generally, if \(i\) and \(j\) are injective then \(\Gamma\) is called the \emph{amalgamated free product}, denoted \(A *_C B\).
\end{definition}

\begin{eg}
  \(\Z * \Z \cong F_2\) since they satisfy the same universal property. More generally, we can check that
  \[
    \underbrace{\Z * \Z * \dots * \Z}_r \cong F_r.
  \]
\end{eg}

\begin{notation}
  Write \(F_n\) for the free group with \(n\) generators.
\end{notation}





























\printindex
\end{document}

% https://www.dpmms.cam.ac.uk/~hjrw2/teaching.html
