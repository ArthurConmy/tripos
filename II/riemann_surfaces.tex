\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Riemann Surfaces}
\def\nlecturer{H.\ Krieger}

\def\nterm{Michaelmas}
\def\nyear{2018}

\input{header}

\begin{document}

\input{titlepage}

\tableofcontents

\section{Complex analysis \& Branching/Multivalued functions}

\subsection{Holomorphicity}

\begin{definition}
  A smooth function \(f: U \to \C\) from a domain (i.e.\ an open connected subset of \(\C\)) is \emph{holomorphic} or \emph{analytic} if either of the following holds:
  \begin{enumerate}
  \item \(f\) is differentiable in the sense of limits (which is equivalent to satisfying the Cauchy-Riemann equations),
  \item for each \(a \in U\), \(f\) has a power series expansion
    \[
      f(z) = \sum_{n \geq 0} a_n (z - a)^n,
    \]
    valid on some disk \(D(a, r)\) with positive radius \(r > 0\).
  \end{enumerate}
\end{definition}

\begin{remark}
  1 implies 2 since \(f\) being differentiable allows us to construct \(a_n\) using Cauchy Integral Formula. 2 implies 1 since \(f\) having power series allows term-by-term differentiation.
\end{remark}

By 2, if \(a \in U\) and \(f\) is not identically \(0\) near \(a\), then there exists some minimal \(m \geq 0\) such that \(a_m \neq 0\). It follows that \(f(z) = a_m (z - a)^m (1 + g(z - a))\) where \(\lim_{z \to a} g(z - a) = 0\). Therefore for \(z\) sufficiently close to \(a\), \(f\) is nonzero. This is known as

\begin{theorem}[Principle of isolated zeros]
  An analytic function on a domain \(U\) which is not identically zero has isolated zeros, i.e.\ around each \(a \in U\), there exists a disk \(\Delta_a\) on which \(f(z) \neq 0\) unless possibly at \(z = a\).
\end{theorem}

If \(f\) is identically \(0\) near \(a\), then there exists a disk \(\Delta_a\) on which \(f(z) = 0\) for all \(z \in \Delta_a\). Consider \(V := \bigcup_{a: f|_{\Delta_a} = 0} \Delta_a\) and \(W := \bigcup_{a: f \neq 0 \text{ near } a} \Delta_a\). \(V\) and \(W\) are open and disjoint so by connectivity of \(U\), one of them is empty so \(f = 0\) on \(U\) or has isolated zeros. Thus having isolated zero is a property of a domain, not a local property.

\begin{corollary}
  If \(f\) and \(g\) are analytic on \(U\) then either \(f = g\) on \(U\) or \(f(z) = g(z)\) on a discrete set.
\end{corollary}

\begin{definition}
  If \(f\) is analytic on the punctured disk \(D(a, r)^* := D(a, r) \setminus \{a\}\) for some \(r > 0\), then \(f\) has an isolated singularity at \(a\).
\end{definition}

In this case, we obtain the analogue of power series, \emph{Laurent series} at \(a\)
\[
  f(z) = \sum_{n = -\infty}^{\infty} c_n (z - a)^n.
\]

There are three possibilities:
\begin{enumerate}
\item removable singularity: \(c_n = 0\) for all \(n < 0\).
\item pole: there exists \(N < 0\) such that \(c_N \neq 0\) and \(c_n = 0\) for all \(n < N\). We say \(f\) has a pole of order \(-N\) and can write \(f(z) = (z - a)^N g(z)\) where \(g\) is analytic and nonzero at \(a\).
\item essential singularity: \(c_n \neq 0\) for infinitely many \(n < 0\).
\end{enumerate}

However, characterisation in terms of Laurent series is coordinate-dependent. Intrinsically, recall that

\begin{theorem}
  \(f\) has a removable singularity at \(a\) if and only if \(f\) is bounded on \(D(a, r)^*\).
\end{theorem}

\begin{theorem}[Casorati-Weierstrass]
  \(f\) has an essential singularity at \(a\) if and only if for every punctured disk \(D(a, r)^*\) in the domain of \(f\), the image \(f(D(a, r)^*)\) is dense in \(\C\).
\end{theorem}

For completeness sake, we state that \(f\) has a pole at \(a\) if and only if neither of the above happens (so \(\lim_{z \to a} |f(z)| = \infty\)).

This allows us, for example, to extend the definitions to infinity. Consider the Riemann sphere \(\C_\infty\), on which a neighbourhood of infinity is the complement of a closed set not including \(\infty\). Mapping it to the complex plane, we define a puncutre disk around \(\infty\) to be the complement of a closed disk in \(\C\). Then we can talk conveniently about singularity at \(\infty\).

\begin{eg}
  \(f(z) = \frac{1}{e^z - 1}\) is meromorphic on \(\C\) with poles at \(z = 2\pi n i\) where \(n \in \Z\). By considering \(g(z) = \frac{z}{e^z - 1}\) which has removable singularity at \(0\), we know \(f\) has ple of order \(1\) at \(0\), and therefore at all poles by periodicity.

  At \(\infty\), we have an essential singularity : along the imaginary axis, \(|f(z)|\) can be arbitrarily big so it cannot be a removable singularity. Along the positive real axis, \(|f(z)| \to 0\) so it cannot be a pole.
\end{eg}

\begin{definition}[meromorphic function]\index{meromorphic function}
  \(f\) is \emph{meromorphic} on a domain \(U \subseteq \C_\infty\)  if it has only isolated singularies, none of which are essential.
\end{definition}

\subsection{Complex logarithm}

Given nonzero \(z = r e^{i \theta}\), if \(e^w = z\), we know that \(w = \log r + (2\pi n + \theta) i\) for some \(n \in \Z\). We can make a continuous choice of \(\log z\) on, for example, \(U = \C \setminus \R_{\geq 0}\), by choosing \(0 < \theta < 2\pi\) and fixing some \(n \in \Z\). This makes \(f_n(z) := \log r + (2\pi n + \theta)i\) a well-defined continuous analytic function on \(U\).

\begin{note}\leavevmode
  \begin{enumerate}
  \item If \(g: U \to V\) is an analytic bijection, then any inverse \(h: V \to U\) is analytic.
  \item If \(g: U \to V\) is analytic, then any \emph{continuous} inverse \(h: V \to U\) is analytic.
  \end{enumerate}
\end{note}

More naturally,

\begin{proposition}
  Fix \(n \in \Z\) and define \(h(z) := \int_{-1}^z \frac{dw}{w} + (2n + 1)\pi i\) for \(z \in U\), where the integral is taken over the straight line from \(-1\) to \(z\), then \(h\) is analytic on \(U\) and inverse to \(z \mapsto e^z\).
\end{proposition}

\begin{proof}
  First show \(h\) is analytic with \(f'(z) = \frac{1}{z}\).
  \[
    \frac{h(z + \tau) - h(z)}{\tau}
    = \frac{1}{\tau} \int_z^{z + \tau} \frac{dw}{w}
  \]
  for \(\tau\) sufficiently small (such that the triangle formed by \(-1\), \(z\) and \(z + \tau\) lies in \(U\)) by Cauchy's Theorem. Then
  \[
    \left| \frac{1}{\tau} \int_z^{z + \tau} \frac{dw}{w} - \frac{1}{z} \right|
    = \left| \frac{1}{\tau} \int_z^{z + \tau} \frac{z - w}{zw} dw \right|
    \to 0
  \]
  as \(\tau \to 0\).

  Now define \(g(z) = \frac{e^{h(z)}}{z}\) so \(g'(z) = \frac{z e^{h(z)} h'(z) - e^{h(z)}}{z}\) and so \(g'(z) = 0\) identically. \(g(-1) = 1\) so \(e^{h(z)} = z\) for all \(z \in U\).

\end{proof}

\begin{definition}[direct analytic continuation]\index{analytic continuation!direct}
  A \emph{function element} in a domain \(U\) is a pair \((f, D)\) where \(D\) is a subdomain of \(U\) and \(f\) is an analytic function on \(D\). Two function elements \((f, D)\) and \((g, E)\) are equivalent, write \((f, D) \sim (g, E)\) if \(D \cap E \neq \emptyset\) and \(f = g\) on \(D \cap E\).

  We say \((g, E)\) is a \emph{direct analytic continuation} of \((f, D)\).
\end{definition}

Why do we make such a definition? We know the power series
\[
  \sum_{r \geq 0} z^k = \frac{1}{1 - z}
\]
is defined on \(D(0, 1)\) and cannot be extended to any larger domain due to natural boundary. However, \(\frac{1}{1 - z}\) is homomorphic  on \(\C \setminus \{1\}\) so sometimes the domain forced by definition of a function is not the maximal possible. In other words, sometimes we are looking at the ``correct'' function with a ``wrong'' domain.

\begin{definition}[analytic continuation along path]\index{analytic continuation!along path}
  We say \((g, E)\) is an \emph{analytic continuation of \((f, D)\) along \(\gamma\)} if \(\gamma: [0, 1] \to U\) and there exist function elements \((f_i, D_i)\), \(i \in \{0, \dots, n\}\) and \(0 = t_0 < t_2 < \dots < t_n = 1\) such that
  \[
    (f, D) = (f_0, D_0) \sim (f_1, D_1) \sim \dots \sim (f_{n - 1}, D_{n - 1}) \sim (f_n, D_n) = (g, E)
  \]
  and \(\gamma([t_j, t_{j + 1}]) \subseteq D_j\) for \(j \in \{0, \dots, n - 1\}\).

  Write \((f, D) \approx_\gamma (g, E)\).
\end{definition}

\begin{remark}
  As \(\C\) has a path-connected basis for the topology, domains are path-connected.
\end{remark}

\begin{definition}[analytic continuation]\index{analytic continuation}
  We say \((g, E)\) is an \emph{analytic continuation} of \((f, D)\) if there exists a path \(\gamma\) such that \((f, D) \approx_\gamma (g, E)\). In this case we write \((f, D) \approx (g, E)\).
\end{definition}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item If \((f, D) \approx_\gamma (g, E)\) and \((f, D) \approx_\gamma (h, E)\) then \(g = h\) by repeated application of the identity principle. In other words, \(g\) is completely determined by \(f\) and \(\gamma\).
  \item Analytic continuation is an equivalence relation (exercise), but direct analytic continuation is \emph{not} transitive, even if the pairwise intersections of the domains are nonempty. If fact, that is the whole point of analytic continuation along path.
  \end{enumerate}
\end{remark}

\begin{definition}[complete analytic function]\index{complete analytic function}
  An equivalence class of function elements under \(\approx\) is a \emph{complete analytic function}.
\end{definition}

\begin{eg}[complex logarithm]
  Let \(U = \C\) be the ambient space. Given \(\alpha < \beta\) in \(\R\), define
  \[
    E_{(\alpha, \beta)} := \{z = r^{i \theta}: r > 0, \alpha < \theta < \beta\}.
  \]
  Note \(\C \setminus \R_{\geq 0} = E_{(0, 2\pi)}\). If \(\beta - \alpha \leq 2\pi\), define
  \[
    f_{(\alpha, \beta)}(z) = \log r + i\theta
  \]
  where \(z = re^{i\theta}, \alpha < \theta < \beta\). Then \((f_{(\alpha, \beta)}, E_{(\alpha, \beta)})\) is a function element for any such \(\alpha, \beta\).

  Let
  \begin{align*}
    A &= (-\frac{\pi}{2}, \frac{\pi}{2}) \\
    B &= (\frac{\pi}{6}, \frac{7\pi}{6}) \\
    C &= (\frac{5\pi}{6}, \frac{11\pi}{6})
  \end{align*}
  and \(\gamma: [0, 1] \to U, t \mapsto e^{2\pi i t}\) and choose
  \[
    0 = t_0 < t_1 = \frac{1}{6} < t_2 = \frac{1}{2} < t_3 = \frac{5}{6} < t_4 = 1
  \]
  and \((f_A, E_A), (f_B, E_B), (f_C, E_C)\) the corresponding function elements.

  When the \emph{intervals} overlap, the function elements agree so
  \[
    (f_A, E_A) \sim (f_B, E_B) \sim (f_C, E_C),
  \]
  but
  \[
    f_C(z) = f_A(z) + 2\pi i, z \in E_A \cap E_C
  \]
  which shows nontransitivity of \(\sim\). In fact, \(f_A + 2\pi i \sim f_C\). However we see \((f_A, E_A) \approx_\gamma (f_C, E_C)\) and so \((f_A, E_A) \approx (f_C, E_C)\). By repeating the process with intervals moving to infinity to \(\R\), we see that all the \(\log r + (2\pi n + \theta) i\) are in the same class for \(\approx\). On the other hand, if \((f, D) \approx_\gamma (f_{A'}, E_{A'})\) for some interval \(A'\) then applying identity principle along the path to \(e^{f_i}\) shows that \(f\) is one of the branches of \(\log\).

  Now we can define a space that contains all branches of logarithm. On \(U = \C \setminus \R_{\geq 0}\), define
  \[
    f_n(z) = \log n + (2\pi n + \theta)i
  \]
  where \(0 < \theta < 2\pi\). Then \((f_n, U)\) are function elements in the complete analytic function of \(\log\), and ``almost'' all of them. Take \(\Z\) copies of \(U\) and we can glue them along \(\R_{\geq 0}\). More precisely, for any \(n \in \Z\) and \(\alpha > 0\), there exists a neighbourhood \(V\) of \(\alpha\) and a function element \((g, V)\) such that
  \[
    (f_{n + 1}, E_{(0, \varepsilon)}) \sim (g, V) \sim (f_n, E_{(2\pi - \varepsilon, 2\pi)})
  \]
  for some \(\varepsilon > 0\).

  This object is the ``gluing construction'' of the Riemann surface associated to \(\log\). Since these \((g, V)\) exist, the resulting surface \(R\) will admit a \emph{continuous} function \(f\) such that the following diagram commutes:
  \[
    \begin{tikzcd}
      R \ar[r, "f"] \ar[d, "\pi"] & \C \ar[dl, "\exp"] \\
      \C^*
    \end{tikzcd}
  \]

  The rigorous construction is as follow. Let \(R = \coprod _{k \in \Z} \C^*\) and a basis for the topology on \(R\) is
  \begin{enumerate}
  \item disks contained in a single sheet: \(D((\eta, k), r)\) disk of radius \(r\) about \(\eta \in \C \setminus \R_{\geq 0}\) at level \(k\), where \(r\) is sufficently small such that the disk does not intersect \(\R_{\geq 0}\),
  \item disks along \(\R_{\geq 0}\): for \(\eta > 0, k \in \Z, r < |\eta|\),
    \[
      A((\eta, k), r) = \{(z, k): |z - \eta| < r, \Im z \geq 0\} \amalg \{(z, k - 1), |z - \eta| < r, \Im z < 0\}.
    \]
  \end{enumerate}

Check that this makes \(R\) a Hausdorff, path-connected space. \(R\) comes with a natural projection \(\pi: R \to \C^*, (\eta, k) \mapsto \eta\). This is a continuous map as the preimage of a small disk \(D(\eta, r) \subseteq \C^*\) is countably many copies of that disk, one for each sheet. This is precisely the definition of a covering space.
\end{eg}

\begin{definition}[covering space]\index{covering space}
  A \emph{covering space} of a topological space \(X\) is a continuous map \(p: \tilde X \to X\) where \(\tilde X\) and \(X\) are Hausdorff and path-connected and \(p\) is a local homeomorphism, i.e.\ for each \(\tilde x \in \tilde X\), there exists a neighbourhood \(\tilde N\) of \(\tilde x\) such that \(p|_{\tilde N}\) is a homeomorphism.

    \(X\) is the \emph{base space} of \(p\).

    The cover is \emph{regular} if for all \(x \in X\), there exists a neighbourhood of \(x\) such that \(p^{-1}(N)\) is a disjoint union of sets mapped homeomorphically by \(p\) to \(N\).
\end{definition}

\begin{note}
  Whether including regularity in the definition of covering space is a matter of taste. It is ususally included in algebraic topology, e.g.\ in IID Algebraic Topology.
\end{note}

\begin{remark}
  \(\pi: R \to \C^*\) is a regular cover.
\end{remark}

\begin{eg}[a non-regular cover]
  Consider \(p: \tilde X \to \C^*, z \mapsto e^z\) where
  \[
    \tilde X = \{z \in \C: 0 < \Im z < 4\pi\}.
  \]
  It is a covering space but consider \(1 \in \C^*\). Any preimage of a sufficiently small disk centred at \(1\) will be the disjoint union of one disk at \(2\pi i\) and two half disks at \(0\) and \(4\pi i\) each. Thus \(p\) fails to be a regular cover as we choose the ``wrong'' domain.
\end{eg}

Define
\begin{align*}
  f: R &\to \C \\
  (\eta, k) &\mapsto \log r + (2\pi k + \theta) i
\end{align*}
where \(\eta = re^{i\theta}, 0 \leq \theta < 2\pi\). Then \(f\) is a continuous bijection and the following diagram commutes:
\[
  \begin{tikzcd}
    R \ar[r, "f"] \ar[d, "\pi"] & \C \ar[dl, "\exp"] \\
    \C^*
  \end{tikzcd}
\]

A similar construction can be done for the multivalued function \(z^{1/n}\) where \(n \in \N\). As a multivalued function,
\[
  (e^{i\theta})^{1/n} = r^{1/n} e^{i\theta/n} e^{2\pi ki/n}
\]
for \(k \in \Z/n\Z\). Define \(R_n = \coprod_{k \in \Z/n\Z} \C^*\) but glue near modulo \(n\) (``top sheet to bottom sheet''). Then we have \(f_n, \pi_n\) such that the following diagram commutes:
\[
  \begin{tikzcd}
    R_n \ar[r, "f_n"] \ar[d, "\pi_n"] & \C^* \ar[dl, "z \mapsto z^n"] \\
    \C^*
  \end{tikzcd}
\]

\begin{definition}[regular/singular point]\index{regular point}
  Let \(f(z) = \sum_{k \geq 0} a_k z^k\) with radius of convergence \(1\). A point \(z \in \p D(0, 1)\) is \emph{regular} if there exists a neighbourhood \(N\) of \(z\) and a holomorphic \(g\) on \(N\) such that \(g = f\) on \(N \cap D(0, 1)\), i.e.\ \(g\) is a regular analytic continuation of \(f\).

  If \(z \in \p D(0, 1)\) is not regular it is \emph{singular}.
\end{definition}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item The regular points of \(\p D(0, 1)\) form an open set in the subspace topology on \(\p D(0, 1)\).
  \item \(z\) is regular does \emph{not} mean that the series converges at \(z\). Consider the classical example \(f(z) = \sum_{k \geq 0} z^k\), which is regular everywhere except \(z = 1\) (\(g(z) = \frac{1}{1 - z}\)).
  \item The converse does not hold either. A series converges at \(z\) does not imply that it is regular there. For example, \(g(z) = \sum_{k \geq 2} \frac{z^k}{(k - 1)k}\) converges at all \(z \in \p D(0, 1)\). If it was regular at such a point then the second derivative \(g''(z) = \sum_{k \geq 0} z^k\) would also be regular at \(z\). But \(g''(z) \to \infty\) as \(z \to 1\) so \(f\) cannot agree on a neighbourhood of \(1\) with any holomorphic function.
  \end{enumerate}
\end{remark}

However, regularity does affect radius of convergence:
\begin{proposition}
  Suppose \(f(z) = \sum_{k \geq 0} a_kz^k\) with radius of convergence \(1\). Then there exists a singular point on \(\p D(0, 1)\).
\end{proposition}

\begin{proof}
  Suppose not so for each \(z \in \p D(0, 1)\) there exists a neighbourhood \(N_z\) of \(z\) and \(g_z\) on \(N_z\) holomorphic with \(g_z = f\) on \(N_z \cap D(0, 1)\). These extensions can be glued together by identity principle. As \(\p D(0, 1)\) is compact, there exists a finite collection of \(z_1, \dots, z_m \in \p D(0, 1)\) such that \(N_{z_i}\)'s cover \(\p D(0, 1)\). wlog let the neighbourhoods be disks. Then we can choose \(\delta > 0\) sufficiently small such that \(f\) is holomorphic on \(D(0, 1 + \delta)\). Contradiction.
\end{proof}

\begin{definition}[natural boundary]\index{natural boundary}
  The disk boundary \(\p D(0, 1)\) is the \emph{natural boundary} for \(f\) if all points on the boundary are singular.
\end{definition}

\begin{eg}
  \(f(z) = \sum_{k \geq 0} z^{k!}\) has natural boundary \(\p D(0, 1)\). Consider \(\omega = e^{2\pi i \frac{p}{q}}\) a root of unity. For \(0 < r < 1\),
  \[
    f(r \omega)
    = \sum_{k \geq 0} r^{k!} \omega^{k!}
    = \sum_{k \leq q - 1} r^{k!} \omega^{k!} + \sum_{k \geq q} r^{k!}
  \]
  so as \(r \to 1\) the last term goes to infinity so this cannot agree with a holomorphic function on a neighbourhood of \(\omega\). Since the closure of roots of unity is \(\p D(0, 1)\), every point is singular.
\end{eg}

\begin{definition}[Riemann surface]\index{Riemann surface}
  A \emph{Riemann surface} \(R\) is a connected, Hausdorff topological space, together with a collection of homeomorphisms \(\phi_\alpha: U_\alpha \to D_\alpha \subseteq \C\) with \(U_\alpha\) open, so that
  \begin{enumerate}
  \item \(\bigcup_{\alpha} U_\alpha = R\),
  \item if \(U_\alpha \cap U_\beta \neq \emptyset\) then \(\phi_\beta \compose \phi_\alpha^{-1}\) is analytic on \(\phi_\alpha(U_\alpha \cap U_\beta)\).
  \end{enumerate}

  For a given \(\alpha\), \((U_\alpha, \phi_\alpha)\) is a \emph{chart}, and these compositions \(\phi_\beta \compose \phi_\alpha^{-1}\) are \emph{transition functions}. The collection of charts is known as an \emph{atlas} on \(R\).
\end{definition}

In other words, a Riemann surface is precisely a one-dimensional complex manifold.

\begin{definition}[analytic function between Riemann surfaces]\index{analytic}
  Let \(R, S\) be Riemann surfaces with atlases \(\{(U_\alpha, \phi_\alpha)\}\) and \(\{(V_\beta, \psi_\beta)\}\) respectively. A continuous map \(f: R \to S\) is \emph{analytic} or \emph{holomorphic} if whenever \(U_\alpha \cap f^{-1}(V_\beta) \neq \emptyset\), then
  \[
    \psi_\beta \compose f \compose \phi_\alpha^{-1}
  \]
  on \(\phi_\alpha(U_\alpha \cap f^{-1}(V_\beta))\) is analytic.
\end{definition}

\begin{remark}
  Analyticity is local. An equivalent definition is to say \(f\) is analytic at \(x \in R\) if whenever \(x \in U_\alpha \cap f^{-1}(V_\beta)\) then \(\psi_\beta \compose f \compose \phi_\alpha^{-1}\) is analytic on a neighbourhood of \(\phi_\alpha(x)\).
\end{remark}

\begin{eg}
  \((\C, z)\) is a Riemann surface with one chart where we denote by \(z\) the map \(z \mapsto z\), as is \((\C, z + 1)\) and \((\C, \conj z)\).
\end{eg}

\begin{eg}
  The Möbius band cannot be made into a Riemann surface because it is non-orientable. Informally, if we put an atlas on the Möbius band, we could choose it so that the centre circle maps to a space homeomorphic to a circle. And as analytic transition implies conformity, consistent choice of ``inside'' of the circle leads to a consistent choice on ``inside'' on the Möbius band, which is a contradiction.
\end{eg}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item Each transition function has continuous inverses and so are conformal equivalence on their domains.
  \item \(R\) is connected with a path-connected basis so \(R\) is path-connected.
  \end{enumerate}
\end{remark}

\begin{definition}[equivalent atlas]\index{atlas!equivalent}
  Two atlases \(\{(U_\alpha, \phi_\alpha\}\) and \(\{(V_\beta, \psi_\beta)\}\) are \emph{equivalent} if their union is also an atlas, i.e.\ whenever \(U_\alpha \cap V_\beta \neq \emptyset\) then \(\psi_\beta \compose \phi_\alpha^{-1}\) on \(\phi(U_\alpha \cap V_\beta)\) is analytic.
\end{definition}

\begin{eg}
  \((\C, z)\) and \((\C, z + 1)\) are equivalent: \(z \mapsto z + 1\) (or \(z \mapsto z - 1\)) are analytic. On the other had \((\C, z)\) and \((\C, \conj z)\) are not equivalent as \(z \mapsto \conj z\) is not analytic.
\end{eg}

We will see later that the notion of equivalence defines an equivalence relation on the collection of atlases on a fixed \(R\).

\begin{definition}[conformal structure]\index{conformal structure}
  An equivalence class of atlases on \(R\) is a \emph{conformal structure} on \(R\).
\end{definition}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item If \(R\) is a Riemann surface and \(S \subseteq R\) is open and connected then restriction of the chart maps provides a conformal structure on \(S\), for which \(i: S \embed R\) is analytic.
  \item Two atlases are equivalent if and only if the identity map is analytic.
  \end{enumerate}
\end{remark}

\begin{proposition}
  Let \(f: R \to S, g: S \to T\) be analytic maps of Riemann surfaces. Then \(g \compose f\) is analytic.
\end{proposition}

\begin{proof}
  Suppose \(\{(U_\alpha, \phi_\alpha)\}, \{(V_\beta, \psi_\beta)\}\) and \(\{(W_\gamma, \theta_\gamma)\}\) are atlases on \(R, S\) and \(T\) respectively. Let \(h = g \compose f\) which is continuous. Suffices to show that whenever
  \[
    Y := U_\alpha f^{-1}(V_\beta) \cap h^{-1} (W_\gamma)
  \]
  is nonempty then
  \[
    \theta_\gamma \compose g \compose f \compose \phi_\alpha^{-1}
  \]
  is analytic on \(Y\). Since \(\psi_\beta \compose f \compose \phi_\alpha^{-1}\) is analytic on \(\phi_\alpha(Y)\) and \(\theta_\gamma \compose g \compose \psi_\beta^{-1}\) is analytic on \(\psi_\beta \compose f (Y)\), we concluded that
  \[
    \theta_\gamma \compose g \compose \psi_\beta^{-1} \compose \psi_\beta \compose f \compose \phi_\alpha^{-1}
  \]
  is analytic on \(\alpha_\alpha(Y)\).
\end{proof}

\begin{corollary}
  Equivalence of atlas is an equivalence relation.
\end{corollary}

\begin{proposition}
  Suppose \(R\) is a Riemann surface and \(\pi: \tilde R \to R\) is a covering map. Then there is a unique conformal structure on \(\tilde R\) which makes \(\pi\) analytic.
\end{proposition}

\begin{proof}
  Given \(\tilde z \in \tilde R\), we can find \(\tilde N\) of \(\tilde z\) on which \(\pi: \tilde N \to N\) is a homeomorphism onto its image. Let \((V, \varphi)\) be a chart containing the image \(\pi(\tilde z)\). Define \(U_{\tilde z} = \pi^{-1}(V) \cap \tilde N\) and \(\varphi_{\tilde z} = \varphi \compose \pi\). This defines a chart on some neighbourhood of \(\tilde z\) and \(\{(U_{\tilde z}, \varphi_{\tilde z})\}_{\tilde z \in \tilde R}\) defines an atlas: this is clearly a cover and the transition functions \(\varphi_{\tilde z} \compose \varphi_{\tilde w}^{-1}\) are the restrictions of transition functions for \(R\). \(\pi\) is analytic with respect to this conformal structure as the composite maps are transition maps of \(R\). Uniqueness follows from a similar argument.
\end{proof}

\begin{eg}
  Let \(R = \coprod_{k \in \Z} \C^*\) and \(\pi: R \to \C^*, (\eta, k) \mapsto \eta\) be a covering map. Then there exists a unique conformal structure on \(R\) for which \(\pi\) is analytic. Note that the following diagram commutes, \(f\) is a continuous map and locally \(f\) is the composition of inverse of \(\exp\) and projection so \(f\) is analytic.
  \[
    \begin{tikzcd}
      R \ar[r, "f"] \ar[d, "\pi"] & \C \ar[dl, "\exp"] \\
      \C^*
    \end{tikzcd}
  \]
  As \(f\) is a bijection by construction, it has a global analytic inverse.
\end{eg}

\begin{definition}[conformal equivalence]\index{conformal equivalence}
  An analytic map \(f: R \to S\) of Riemann surfaces is a \emph{conformal equivalence} if there exists \(g: S \to R\) analytic inverse to \(f\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(f\) as above for the logarithm Riemann surface is a conformal equivalence: the inverse of \(f\) is continuous and locally it is given by \(\pi^{-1} \compose \exp\) so is analytic. Therefore \((R, \pi)\) and \((\C, \exp)\) cannot be ``told apart''.
  \item \((\C, z)\) and \((\C, \conj z)\) are conformally equivalent as \(f(z) = \conj z\) is a conformal equivalence.
  \item
    \[
      \begin{tikzcd}
        R_n \ar[r, "f_n"] \ar[d, "\pi_n"] & \C^* \ar[dl, "z \mapsto z^n"] \\
        \C^*
      \end{tikzcd}
    \]
    Again there exists a unique conformal structure on \(R_n\) making \(\pi\) analytic. It follows that \(f\) is analytic. Note that one could imagine adding two points to \(R_n\) and replacing \(\C^*\) with \(\C \cup \{\infty\} = \C_\infty\). Doing so ruins \(\pi\) as a cover, but sometimes it's worth it (compactness!).
  \item \(\C_\infty = \C \cup \{\infty\}\) equipped with the sphere topology via steoreographic projection. Define two charts: \((\C, z)\) and \((\C_\infty \setminus \{0\}, \frac{1}{z})\). The transition functions are \(\frac{1}{z}\) which are anlaytic on \(\C^*\). It makes \(\C_\infty\) a compact Riemann surface. This is sometimes denoted by \(\hat \C\).
  \end{enumerate}
\end{eg}

\begin{definition}[analytic function]
  If \(R\) is a Riemann surface, an analytic map \(f: R \to \C\) is an \emph{analytic function}.
\end{definition}

Therefore we use ``map'' to denote maps between Riemann surfaces and reserve ``function'' for a \(\C\)-valued map.

Recall from IB Analysis II and IB Complex Analysis

\begin{theorem}[inverse function theorem]
  Given analytic \(g\) on a domain \(V \subseteq \C\) and \(a \in V\) such that \(g'(a) \neq 0\), there exists a neighbourhood \(N\) of \(a\) such that \(g|_N : N \to g(N)\) is a conformal equivalence.
\end{theorem}

Consider an analytic function \(f: R \to \C\). Given \(p \in R\), choose a chart \((U, \varphi)\) with \(p \in U\). wlog \(f(p) = 0\). and write \(a = \varphi(p)\). Locally around \(a\), \(f \compose \varphi^{-1}\) is analytic so can be written as \(g(z)^r\) where \(g\) is a conformal equivalence: we can write any nonconstant analytic function sending \(a \mapsto 0\) as \((z - a)^r h(z)\) where \(h\) is analytic and nonzero on a neighbourhood of \(a\). Then there is a neighbourhood \(V\) of \(a\) such that \(h(V)\) does not intersect any ray from the origin. This allows us to define a logarithm on \(h(V)\) and \(r\)th root
\[
  \ell(z) := \exp( \frac{1}{r} \log h(z)).
\]
Then \(f \compose \varphi^{-1}\) is of the form \(g(z)^r\) where \(g(z) = (z - a)\ell(z)\). Then \(g'(a) = \ell(a) \neq 0\) so conformal.

Define a chart on the intersection of \(\varphi(U)\) with domain of \(g\), together with the chart \(\psi = g \compose \phi\). Therfore up to translation, any analytic function on a Riemann surface is locally equivalent to a powering map.

\begin{definition}[complex torus]\index{complex torus}
  Let
  \[
    \Lambda = \Z \tau_1 + \Z \tau_2 \subseteq \C
  \]
  be a lattice where \(\tau_1, \tau_2\) are nonzero in \(\C\) with \(\frac{\tau_1}{\tau_2} \notin \R\), i.e.\ are linearly independent over \(\R\). The quotient group \(T = \C / \Lambda\) can be equipped with a complex structure, known as a \emph{complex torus}.
\end{definition}

The complex structure is constructed as follow. Equip the quotient group \(T = \C / \Lambda\) with quotient topology. \(\pi: \C \to T\) is continuous so \(T\) is connected. \(\pi\) is also open: if \(U\) is an open set in \(\C\) then
\[
    \pi^{-1}(\pi(U)) = \bigcup_{\omega \in \Lambda} \omega + U
  \]
  a union of open sets so open. Note that any closed parallelogram
  \[
    P_z = \{z + r \tau_1 + s \tau_2: r, s \in [0, 1]\}
  \]
  maps onto \(T\) by \(\pi\). So \(T\) is the continuous image of a compact set so compact. \(T\) is also Hausdorff: note first that \(\Lambda\) is a discrete set: if \(\Lambda\) contained an accummultaion point then \(0\) is also a limit point, i.e.\ for all \(k \in \N\) there exists \(m_k, n_k \in \Z\) (and wlog \(n_k \neq 0\)) such that
  \[
    |m_k \tau_1 + n_k \tau_2| < \frac{1}{k}
  \]
  but then
  \[
    \left| \frac{m_k}{n_k} - \frac{\tau_2}{\tau_1} \right|
    < \frac{1}{k|n_k|\tau_1}
    \leq \frac{1}{k|\tau_1|}
    \to 0
  \]
  as \(k \to \infty\) so \(\frac{\tau_2}{\tau_1} \in \R\), contradiction. Thus given two points \(w_1, w_2 \in T\) we can choose preimages \(x_i \in p^{-1}(w_i)\) and neighbourhoods \(N_i\) or \(z_i\) such that
  \[
    \left( \bigcup_{\omega \in \Lambda} N_1 + \omega \right) \cap \left( \bigcup_{\omega \in \Lambda} N_2 + \omega \right) = \emptyset,
  \]
  i.e.\ \(\pi(N_1)\) and \(\pi(N_2)\) are open disjoint with \(w_i \in \pi(N_i)\).

  Now show \(\pi\) is a covering map: by the above \(\pi\) is a covering map, in fact regular: given \(w \in T\), choose \(z \in \C\) such that \(\pi^{-1}(w)\) lies in the interior of \(\Lambda\)-translates of \(P_z\), then choose a neighbourhood \(N\) of the unique preimage of \(w\) in \(P_z\) which is contained in the interior of \(P_z\). Then \(\pi(N)\) satisfies
  \[
    \pi^{-1}(\pi(N)) = \bigcup_{\omega \in \Lambda} \omega + N
  \]
  is a disjoint union of \(\pi(N)\).

  Finally for the complex structure of \(T\), given \(a \in T\), choose \(z \in \C\) such that \(\pi(z) = a\) and a neighbourhood \(N_a\) of \(a\) on which the regularity is realised. In particular, the component \(N_z\) of \(\pi^{-1}(N_a)\) containing \(z\) has \(\pi|_{N_z}: N_z \to N_a\) a homeomorphism. Define a chart to be the image of a disk \(D_z\) about \(z\) contained in \(N_z\). Write \(U_a = \pi(D_z)\) and define a chart map \(\phi_a = (\pi|_{N_z})^{-1}\) on \(U_a\). Claim this defines an atlas on \(T\): clearly this is a cover and claim the trasition maps are translations: suppose \(U_a \cap U_b = \emptyset\), for each \(w \in U_a \cap U_b\) there exists \(\omega_w \in \Lambda\) such that \(\phi_b^{-1} \compose \phi_a(w) = w + \omega_w\). But \(w \mapsto \omega_w\) is a continuous function on a connected set and it takes values in a discrete set so is constant. Thus the transition functions are translations so analytic.

In example sheet 1 we'll show that different lattices can yield conformally equivalent tori. In example sheet 2 we give characterisation of conformal equivalence classes of tori in terms of \(\Lambda\). In some sense complex tori are the most important class of Riemann surfaces.

\begin{theorem}[open mapping theorem]\index{open mapping theorem}
  Let \(f: R \to S\) be a nonconstant analytic map of Rieman surfaces. Then \(f\) is an open map.
\end{theorem}

\begin{proof}
  Suppose \(W \subseteq R\) is open. Choose \(z \in W\) and charts \((U, \phi)\) of \(z\), \((V, \psi)\) of \(f(z)\). Choose a disk \(D\) about \(\phi(z)\) sufficiently small such that
  \[
    \phi^{-1}(D) \subseteq W \cap f^{-1}(V) \cap U.
  \]
  Then
  \[
    (\psi \compose f \compose \phi^{-1})(D)
  \]
  is open so \((f \compose \psi^{-1})(D) = f(\phi^{-1}(D))\) is open. Thus
  \[
    f(z) \in (f \compose \phi^{-1})(D)) \subseteq f(W)
  \]
  so \(f(W)\) is open.
\end{proof}

\begin{corollary}
  Let \(f: R \to S\) be a nonconstant analytic map. If \(R\) is compact then \(f(R) = S\) and \(S\) is compact.
\end{corollary}

\begin{proof}
  \(f(R)\) is open because \(f\) is open. It is also closed as it is compact in \(S\), a Hausdorff space. As \(S\) is connected, the nonempty clopen set \(f(R)\) is precisely \(S\). The second claim follows.
\end{proof}

\begin{corollary}
  Complex tori and \(\C_\infty\) admit no analytic function which are nonconstant.
\end{corollary}

We have seen a special case of this in IB Complex Analysis: if \(f: \C_\infty \to \C\) is analytic then \(f(\infty) \in \C\) so \(f\) is bounded on a neighbourhood of \(\infty\). By Liouville's theorem \(f\) is constant.

\begin{definition}
  Let \(h: R \to \R\) be a continuous function on a Riemann surface \(R\). \(h\) is \emph{harmonic} if for all charts \((U, \phi)\) of \(R\), \(h \compose \phi^{-1}\) is harmonic on \(\phi(U)\).
\end{definition}

Recall that a harmonic function on a domain in \(\C\) is the real part of some analytic funciton locally, same is true for harmonic functions on Riemann surfaces. Thus harmonicity is well-defined independent of charts.

\begin{proposition}
  Suppose \(h: R \to \R\) is harmonic on a Riemann surface \(R\). Then if \(h\) is nonconstant, \(h\) is open. In particular if \(R\) is compact, \(R\) admits no nonconstant harmonic function.
\end{proposition}

\begin{proof}
  Given such a nonconstant \(h: R \to \R\) and open set \(U \subseteq R\) and \(z \in U \subseteq R\), choose \(z \in V \subseteq U\) open such that \(h = \Re g\) for some analytic function \(g\) on \(V\).
  \[
    \begin{tikzcd}
      V \ar[d, "g"] \ar[dr, "h"] \\
      g(V) \ar[r, "\Re"] & \R
    \end{tikzcd}
  \]
  By open mapping theorem if \(g\) is nonconstant then it is open. Since \(\Re\) is open, their composition \(h\) is as well. For a proof that \(g\) is nonconstant, see example sheet 1 Q13.

  The second claim follows.
\end{proof}

Here we digress a little bit on non-examibable content before heading to the next chapter. A fundamental result about harmonic functions on Riemann surfaces is that they ``almost'' exist. We cannot find nonconstant harmonic function from a compact Riemann surface. But as the next best alternative we have

\begin{theorem}
  Let \(R\) be a Riemann surface, \(P \neq Q \in R\). Then there exists a harmonic function \(h: R \setminus \{P, Q\} \to \R\) such that for any chart \(\phi: U \to \C\) about \(P\) with \(\phi(P) = 0\), \(h \compose \phi^{-1}\) is \(\log |z|\) plus a bounded function near \(0\), and for any chart \(\psi: V \to \C\) about \(Q\) with \(\psi(Q) = 0\), \(h \compose \psi^{-1}\) is \(-\log |z|\) plus a bounded function near \(0\).
\end{theorem}

% Terry Tao's notes on Riemann-Roch

\begin{theorem}[Riemann existence theorem, classical version]\index{Riemann existence theorem}
  Let \(R\) be a compact Riemann surface and \(P \neq Q\) in \(R\). Then there exists a meromorphic function \(f\) on \(R\) with \(f(P) \neq f(Q)\).
\end{theorem}

% separating points in algebraic geometry
% for reference, see Doanldson's notes (wait till we do monodromy)

\section{Meromorphic functions}

\begin{definition}[meromorphic]\index{meromorphic}
  A \emph{meromorphic} function on a Riemann surface \(R\) is an analytic map to \(\C_\infty\).
\end{definition}

\begin{proposition}
  Let \(U \subseteq \C\) is a domain. A function \(f: U \to \C_\infty\) is meromorphic if and only if it is meromorphic as a map from a Riemann surface.
\end{proposition}

\begin{proof}
  Assume \(f: U \to \C_\infty\) is analytic. Given \(a \in U\), if \(f(a) \in \C\) then \(f\) is an analytic function near \(a\) so meromorphic. If \(f(a) = \infty\) then by considering the chart \((\C \setminus \{0\}, \frac{1}{z})\) of \(\C_\infty\) near \(\infty\), we see that \(g(z) = \frac{1}{f(z)}\) is analytic on a neighbourhood of \(a\) with \(g(a) = 0\). Thus \(g(z) = (z - a)^r h(z)\) where \(h\) is analytic nonzero on a neighbourhood of \(a\) so \(f(z) = (z - a)^{-r} \frac{1}{h(z)}\), which is meromorphic as a complex function.

  All the implications above are equivalences so the reverse also holds.
\end{proof}

\begin{eg}
  In example sheet 1 Q15 we show that \(\{(z, w): w^2 = z^3 - z\} \subseteq \C^2\) admits a conformal structure via the coordinate projection maps. We may alternatively do this geometrically by gluing. Define \(f(z) = z^3 - z\) and define \(U = \C \setminus ([-1, 0] \cup [1, \infty))\). Claim that we can define a square root of \(f\) on \(U\) (in other words, direct analytic continuation is transitive): this can be done locally at any point of \(U\). To show it's well-defined, consider a closed path \(\gamma \subseteq U\). By a result about winding number in example sheet 1 Q1,
  \[
    I(f \compose \gamma, 0) = I(\gamma, -1) + I(\gamma, 0) + I(\gamma, 1).
  \]
  We can check that \(I(\gamma, 1) = 0\) and \(I(\gamma, -1) = I(\gamma, 0)\) so \(I(f \compose \gamma, 0) \in 2 \Z\). Therefore if we define locally some \(\exp(\frac{1}{2} \log f(z))\), as we travel along \(\gamma\), the change in \(\log\) is
  \[
    \int_\gamma \frac{f'(z)}{f(z) - 0} dz = 2\pi i I(f \compose \gamma, 0) = 2n\pi i
  \]
  for some \(n \in 2\Z\) by argument principle. Thus \(\frac{1}{2} \log f(z)\) change by \(n\pi i\).

  If we let \(U_+, U_-\) be two copies of \(U\) and denote by \(g_+: U_+ \to \C\) the map we just constructed and let \(g_- = -g_+\), glue according to the identifying segments (see image) to obtain a single surface \(R\) and an analytic function \(g\) on \(R\) which agrees with \(g_+\) on \(U_+\) and \(g_-\) on \(U_-\). Topologically, this is a torus minus four points.

  It might be instructive to compare algebraic and gemeotric/topological construction and advantage of each. Later we'll learn to extract topological information \emph{directly} from the algebraic definition.
\end{eg}

\subsection{Space of germs and monodromy}

\begin{definition}[lift]\index{lift}
  Suppose \(\pi: \tilde X \to X\) is a (topological) covering map, and \(\gamma: [0, 1] \to X\) is a path. Then a \emph{lift} of \(\gamma\) is a path \(\tilde \gamma: [0, 1] \to \tilde X\) such that \(\pi \compose \tilde \gamma = \gamma\).
\end{definition}

\begin{proposition}
  If \(\tilde gamma_1, \tilde \gamma_2\) are lifts of \(\gamma\) with \(\gamma_1(0) = \gamma_2(0)\) then \(\gamma_1 = \gamma_2\).
\end{proposition}

\begin{proof}
  Define
  \begin{align*}
    I_1 &= \{t \in [0, 1]: \tilde \gamma_1(t) = \tilde \gamma_2(t)\} \\
    I_2 &= \{t \in [0, 1]: \tilde \gamma_1(t) \neq \tilde \gamma_2(t)\}
  \end{align*}
  Claim that both are open in \([0, 1]\). First suppose \(\tau \in I_2\). As \(\tilde X\) is Hausdorff, there exist open disjoint \(U_1, U_2\) with \(\tilde \gamma_1(\tau) \in U_1, \tilde \gamma_2(\tau) \in U_2\). Paths are continuous so \(\tilde \gamma_1^{-1}(U_1)\) and \(\tilde \gamma_2^{-1}(U_2)\) are open neighbourhoods of \(\tau\) in \([0, 1]\), their intersection is thus open and contained in \(I_2\), so \(I_2\) is open.

  Suppose now that \(\tau \in I_1\). Choose an open neighbourhood \(\tilde N\) of \(\tilde \gamma_1(\tau) = \tilde \gamma_2(\tau)\) in \(\tilde X\) such that \(\pi|_{\tilde N}\) is a homeomorphism onto its image. We have \(\pi(\tilde \gamma_1(t)) = \pi(\tilde \gamma_2(t))\) for all \(t\) as they are both lifts for \(\gamma\), so on \(\tilde N\) this implies that \(\tilde \gamma_1(t) = \tilde \gamma_2(t)\). By continuity of paths, there exists \(\delta > 0\) such that \(t \in (\tau - \delta, \tau + \delta) \subseteq [0, 1]\) implies \(\tilde \gamma_1(t), \tilde \gamma_2(t) \in \tilde N\). So the interval \((\tau - \delta, \tau + \delta) \subseteq [0, 1] \subseteq I_1\) so \(I_1\) is open. THus \(I_1 = [0, 1]\) by connectivity.
\end{proof}

In summary, lifts are unique up to choice of basepoints.

As for existence, lifts may not exist if the cover is not regular. c.f.\ nonregular cover exmaple. However, it is the \emph{only} obstruction to the construction of a lift.

\begin{proposition}
  Suppose \(\pi: \tilde X \to X\) is a regular covering map. Given \(\gamma\) in \(X\) and \(z \in \tilde X\) such that \(\pi(z) = \gamma(0)\), there is a (unique) lift \(\tilde \gamma\) of \(\gamma\) with \(\tilde \gamma(0) = z\).
\end{proposition}

\begin{proof}
  Define
  \[
    I = \{t \in [0, 1]: \text{ exists lift } \tilde \gamma: [0, 1] \to \tilde X \text{ of \(\gamma\) with } \tilde \gamma(0) = z\}
  \]
  and let \(\tau = \sup I\). Suppose for contradiction \(\tau \neq 1\). Choose an open neighbourhood \(U\) of \(\gamma(\tau)\) such that \(\pi^{-1}(U) = \coprod_j \tilde U_j\) and \(\pi|_{\tilde U_j}\) is a homeomorphism onto \(U\). By continuity of \(\gamma\), there exists \(\delta > 0\) such that \(\gamma([\tau - \delta, \tau + \delta]) \subseteq U\). Since \(\tau\) is the supremum, exists \(\tau_1 \in [\tau - \delta, \tau]\) such that \(\gamma\) lifts to \(\tilde \gamma\) on \([0, \tau_1]\) with \(\tilde \gamma(0) = z\). Choose \(j\) such that \(\tilde \gamma(\tau_1) \in \tilde U\). Define an extension of \(\tilde \gamma\) on \([\tau, \tau + \delta]\) by \((\pi|_{\tilde U_j})^{-1} \compose \gamma\). This gives a lift of \(\gamma\) to \([0, \tau + \delta]\), contradicting \(\tau = \sup I\). Thus \(\tau = 1\).
\end{proof}

\begin{definition}[homotopy]\index{homotopy}
  We say paths \(\alpha, \beta\) in \(X\) are \emph{homotopic} in \(X\) if there exists a family \(\gamma_s\) of paths where \(s \in [0, 1]\) such that
  \begin{enumerate}
  \item \(\gamma_0 = \alpha, \gamma_1 = \beta\),
  \item \(\gamma_s(0) = \alpha(0) = \beta(0)\) and \(\gamma_s(1) = \alpha(1) = \beta(1)\) for all \(s \in [0, 1]\),
  \item \([0, 1] \times [0, 1] \to X, (s, t) \mapsto \gamma_s(t)\) is continuous.
  \end{enumerate}
\end{definition}

\begin{definition}[simply connected]\index{simply connected}
  We say \(X\) is \emph{simply connected} if any path in \(X\) is homotopic to a constant path.
\end{definition}

\begin{theorem}[monodromy theorem]\index{monodromy theorem}
  Let \(\pi: \tilde X \to X\) be a covering map and \(\alpha, \beta\) be paths in \(X\). Assume that
  \begin{enumerate}
  \item \(\alpha\) and \(\beta\) are homotopic in \(X\),
  \item \(\alpha\) and \(\beta\) have lifts \(\tilde \alpha\) and \(\tilde \beta\) respectively with \(\tilde \alpha(0) = \tilde \beta(0)\),
  \item every path in \(X\) with \(\gamma(0) = \alpha(0) = \beta(0)\) has a lift \(\tilde \gamma\) with \(\tilde \gamma(0) = \tilde \alpha(0) = \tilde \beta(0)\).
  \end{enumerate}
  Then the lifts \(\tilde \alpha\) and \(\tilde \beta\) are homotopic. In particular, \(\tilde \alpha(1) = \tilde \beta(1)\).
\end{theorem}

\begin{proof}
  Non-examinable and omitted. See, for example, IID Algebraic Topology.
\end{proof}

\begin{eg}
  Consider \(z \mapsto z^n\) on \(\C^* = \C \setminus \{0\}\). This is a regular covering map. Consider a loop \(\gamma\) based at \(1\). The preimages of \(1\) are the \(n\)th roots of unity \(\xi_n^k\), \(1 \leq k \leq n\). Any lift of \(\gamma\) will start at some \(\xi_n^k\) and end at \(\xi_n^{k + 1}\). As this is a regular cover, monodromy theorem tells that any path based at \(1\) has a lift whose endpoints are the same as if we lifted \(\gamma^{0n}\) for some \(n \in \Z\). Note to any path \(\alpha\) we have an associated permutation of the set \(\{\xi_n^k\}_{1 \leq k \leq n}\) by considering where the lift starting at \(\xi_n^k\) ends, i.e.\ an element of \(S_n\). The subset of \(S_n\) arising in this way is generated by \((123\dots n)\), which is the cyclic subgroup \(C_n\).

  (It is an exercise to show that any closed path in the punctured plane is homotopic to an integer multiple of \(\gamma\).)
\end{eg}

\subsection{Space of germs}

Suppose \(G \subseteq \C\) is a domain throughout this section.

\begin{definition}[germ]\index{germ}
  Given \(z \in G\) and \((f, D)\) and \((g, E)\) function elements. We say \((f, D) \equiv_z (g, E)\) if \(z \in D \cap E\) and \(f = g\) on a neighbourhood of \(z\). The equivalence class under \(\equiv_z\) of \((f, D)\) is called the \emph{germ} of \(f\) at \(z\), denoted by \([f]_z\).
\end{definition}

Compare this with direct analytic continuation, which is \emph{not} an equivalence relation.

Note that two germs \([f]_z, [g]_w\) are equal if and only if \(z = w\) and \(f = g\) on a neighbourhood of \(z = w\).

\begin{definition}
  The \emph{space of germs on \(G\)} is the set
  \[
    \mathcal G = \{[f]_z: z \in G \text{ and } (f, D) \text{ is a function element with } z \in D\}.
  \]
\end{definition}

\begin{notation}
  Given a function element \((f, D)\), write
  \[
    [f]_D = \{[f]_z: z \in D\} \subseteq \mathcal G
  \].
\end{notation}

The goal is to show that \(\mathcal G\) is the union of Riemann surfaces. First we define the topology on \(\mathcal G\) to be the one generated by the basis of elements of the form \([f]_D\). Given \([f]_D\) and \([g]_E\), if \([h]_z \in [f]_D \cap [g]_E\) then \(z \in D \cap E\) and \(h = f = g\) on a neighbourhood of \(z\). Thus there exists domain \(D'\) with \(z \in D'\) and \([h]_{D'} \subseteq [f]_D \cap [g]_E\).

The topology is Hausdorff: suppose \([f]_z \neq [g]_w\) in \(\mathcal G\), represented by \((f, D)\) and \((g, E)\) repsectively. If \(z \neq w\) choose \(D \cap E = \emptyset\) so \([f]_z \in [f]_D\) and \([g]_w \in [g]_E\) and these open sets are disjoint. If \(z = w\) choose \(D = E\). Claim that \([f]_D \cap [g]_E = \emptyset\): for suppose \([h]_s \in [f]_D \cap [g]_E\) then by definition exists neighbourhood \(N\) of \(s\) such that \(h = f = g\) on \(N\) so that \(f = g\) on \(D = E\). In particular \([f]_z = [g]_z = [g]_w\), contradiction.

The connected components of \(\mathcal G\) cover \(G\) via the forgetful map \(\pi([f]_z) = z\). To show this is a cover, let \(V \subseteq G\) be an open set, then
\[
  \pi^{-1}(V) = \{[f]_z: z \in V\} = \bigcup_{D \subseteq V} \{[f]_D: (f, D) \text{ is a function element}\}
\]
which is open. Locally on \([f]_D\), \(\pi\) is a bijection. On such a set \([f]_D\), \(U \subseteq [f]_D\) is open if and only if \(U = \bigcup_\alpha [f]_{D_\alpha}\), if and only if \(\pi(U) = \bigcup_\alpha D_\alpha\), if and only if \(\pi(U)\) is open.

For conformal structure on \(\mathcal G\), we know by a previous proposition that on each connected component of \(\mathcal G\), there exists a unique conformal structure making \(\pi\) analytic. These charts can be taken to be \((U, \varphi)\) with \(U = [f]_D\) and \(\varphi = \pi_U\).

\(\mathcal G\) is more than a conformal structure. It comes with an evaluation map
\begin{align*}
  E: \mathcal G &\to \C \\
  [f]_z &\mapsto f(z)
\end{align*}
which is analytic: given a chart \(([f]_D, \pi|_{[f]_D})\) of \(\mathcal G\),
\[
  E \compose (\pi|_{[f]_D})^{-1}(z) = E([f]_z) = f(z)
\]
which is analytic in \(z\). So \(E\) is analytic.

The stalk space \(\mathcal G\) incorporates all information about analytic functions on \(G\). The following a method to translate topological information of \(\mathcal G\) to analytic information of complete analytic functions:

\begin{theorem}
  Let \((f, D)\) and \((g, E)\) be function elements on \(G\) and \(\gamma: [0, 1] \to G\) a path with \(\gamma(0) \in D, \gamma(1) \in E\). Then \((g, E)\) is analytic continuation of \((f, D)\) along \(\gamma\) if and only if there exists a lift \(\tilde \gamma: [0, 1] \to \mathcal G\) of \(\gamma\) such that \(\tilde \gamma(0) = [f]_{\gamma(0)}, \tilde \gamma(1) = [g]_{\gamma(1)}\).
\end{theorem}

\begin{proof}
  Suppose there exists \((f_j, D_j)_{j = 1}^n\) and \(0 = t_0 < t_1 < \dots < t_n = 1\) with
  \[
    (f, D) = (f_1, D_1) \sim (f_2, D_2) \sim \dots \sim (f_n, D_n) = (g, E)
  \]
  and \(f_{j - 1} = f_j\) on \(D_{j - 1} \cap D_j\) and \(\gamma([t_{j - 1}, t_j]) \subseteq D_j\) for all \(j\). We can define a lift
  \[
    \tilde \gamma(t) = [f_j]_{\gamma(t)}, t \in [t_{j - 1}, t_j]
  \]
  which is well-defined. Claim it is continuous: suppose \([h]_U \subseteq \mathcal G\) and \(\tilde \gamma(\tau) \in [h]_U\). Then
  \[
    \tilde \gamma(\tau) = [f_j]_{\gamma(\tau)}
  \]
  for some \(j\) so \(f_j = h\) on an open neighbourhood \(N\) of \(\gamma(\tau)\). As \(\gamma\) is continuous, there exists \(\delta > 0\) such that if \(|t - \tau| < \delta\) then \(\gamma(t) \in N\). Then for such \(t\),
  \[
    \tilde \gamma(t) = [f_j]_{\gamma(t)} = [h]_{\gamma(t)} \in [h]_U
  \]
  so \(\tilde \gamma\) is continuous. \(\tilde \gamma\) satisfies the lifting properties.

  Conversely, suppose there is a lift \(\tilde \gamma\) of \(\gamma\) in \(\mathcal G\) with \(\tilde \gamma(0) = [f]_{\gamma(0)}\) and \(\tilde \gamma(1) = [g]_{\gamma(1)}\). For each \(t \in [0, 1]\), there exists a function element \((f_t, D_t)\) with \(\tilde \gamma(t) = [f_t]_{\gamma(t)}\). Note that \([f_t]_{D_t}\) contains \(\tilde \gamma(t)\). We have for each \(t\) an open interval \(I_t\) with \(\tilde \gamma(I_t) \subseteq [f_t]_{D_t}\). By compactness there exists a finite subcover, say intervals \([a_k, b_k]\), ordered so that \(a_{k + 1} < b_k\) for \(k = 1, \dots, n - 1\). Choose for each \(k\) some \(t_k \in (a_{k + 1}, b_k)\) and rename the corresponding open sets in \(\mathcal G\) \([f_k]_{D_k}\). wlog assume all \(D_k\)'s are disks. Since \(\tilde \gamma(0) = [f]_{\gamma(0)}\) and \(\tilde \gamma(1) = [g]_{\gamma(1)}\), we can also assume \(D_1 \subseteq D, D_n \subseteq E\) so \(f = f_1\) on \(D_1\) and \(g = f_n\) on \(D_n\). for each \(1 \leq k \leq n - 1\), we have
  \[
    \tilde \gamma(t_k) \in [f_k]_{D_k} \subseteq [f_{k + 1}]_{D_{k + 1}},
  \]
  so \(f_k = f_{k + 1}\) on \(D_k \cap D_{k + 1}\) by the identity principle, as \(f_k = f_{k + 1}\) on a neighbourhood of \(\gamma(t_k)\). So
  \[
    (f, D) \sim (f_1, D_1) \sim \dots \sim (f_n, D_n) \sim (g, E).
  \]
  Finally, on \([t_{k - 1}, t_k]\), we have
  \[
    \gamma([t_{k - 1}, t_k]) = \pi(\tilde \gamma([t_{k -1}, t_k])) \subseteq \pi([f_k]_{D_k}) = D_k,
  \]
  thus completing the proof.
\end{proof}

According to the way we present monodromy theorem (as a purely topological theorem) and the correpondence between lift of paths in the stalk space and analytic continuation, we can expect some results uniqueness of analytic continuation.

\begin{proposition}
  If \((g, E)\) and \((h, E)\) are analytic continuations of \((f, D)\) along \(\gamma \subseteq G\) then \(g = h\) on \(E\).
\end{proposition}

\begin{proof}
  Basically done by correspondence between lift and analytic continuation and monodromy theorem. Let \((g, E)\) and \((h, E)\) correspond to lifts \(\tilde \gamma\) and \(\tilde \gamma'\) respectively based at \([f]_{\gamma(0)}\). Uniqueness of lifts implies that \(\tilde \gamma(1) = \tilde \gamma'(1)\), i.e.\ \([g]_{\gamma(1)} = [h]_{\gamma(1)}\), so \(g = h\) on a neighbourhood of \(\gamma(1)\) so on \(E\) by identity principle.
\end{proof}

We can also derive the so-called classical monodromy theorem

\begin{theorem}[classical monodromy theorem]\index{monodromy theorem!classical}
  Suppose \((f, D)\) can be continued analytically along all paths in \(G\) starting in \(D\). Then if \((g, E)\) and \((h, E)\) are analytic continuations of \(f\) along paths \(\alpha\) and \(\beta\) respectively, and \(\alpha\) is homotopic to \(\beta\) then \(g = h\) on \(E\).
\end{theorem}

\begin{theorem}
  Find lifts \(\tilde \alpha\) and \(\tilde \beta\) corresponding to \((g, E)\) and \((h, E)\) respectively. Note \(\tilde \alpha(0) = [f]_{\alpha(0)} = [f]_{\beta(0)} = \tilde \beta(0)\). By monodromy theorem we have \(\tilde \alpha(1) = \tilde \beta(1)\) so \(g = h\) on \(E\) again by identity principle.
\end{theorem}

\begin{corollary}
  Suppose \(G\) is a simply connected domain and \((f, D)\) is a function element on \(G\) which can be analytically continued along all \(\gamma \subseteq G\) paths with \(\gamma(0) \in D\). Then \(f\) extends to \(G\).
\end{corollary}

\begin{proof}
  Define for \(z \in G\) \(f(z)\) as follows: we fix \(z_0 \in D\) and find a path \(\gamma\) on \(G\) with \(\gamma(0) = z_0\) and \(\gamma(1) = z\). By assumption \(f\) can be analytically continued along the path so by classical monodromy theorem and simply connectedness this is well-defined for all \(z \in G\).
\end{proof}




% compactness, tells us exactly what the connected componenets are

\begin{corollary}
  Let \(\mathcal F\) be a complete analytic function on \(G\) and define
  \[
    \mathcal G_{\mathcal F} = \bigcup_{(f, D) \in \mathcal F} [f]_D.
  \]
  Then \(\mathcal G_{\mathcal F}\) is a connected component of \(\mathcal G\).
\end{corollary}

\begin{proof}
  Each \(\mathcal G\) is locally path-connected, so path-connected component is the same as connected component. The corollary follows from the theorem.
\end{proof}

\begin{definition}[Riemann surface associated to complete analytic function]\index{Riemann surface!associated to complete analytic function}
  \(\mathcal G_{\mathcal F}\) is the \emph{Riemman surface associated to the complete analytic function \(\mathcal F\)}.
\end{definition}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item For each \((f, D) \in \mathcal F\), the evaluation map \(E\) provides a single valued extension \(f \compose \pi\) on \([f]_D\) to all of \(\mathcal G_{\mathcal F}\).
    \[
      \begin{tikzcd}
        \mathcal G_{\mathcal F} \ar[r, "E"] \ar[d, "\pi"] & \C \\
        D \ar[ur, "f"']
      \end{tikzcd}
    \]
  \item In example sheet 2 Q7 we will show that in general \(\pi: \mathcal G_{\mathcal F} \to G\) is not a regular cover.
  \end{enumerate}
\end{remark}

\begin{eg}
  Let \(R' = \{(z, w) \in \C^2: w^2 = z^3 - z, w \neq 0\}\) and let \(\mathcal G_{\mathcal F}\) be the Riemann surface associated to \(\sqrt{z^3 - z}\) over the domain \(G = \C \setminus\{-1, 0, 1\}\). Recall that the Riemann surface structure on \(R'\) can be obtained via \(\pi_z\).

  Define
  \begin{align*}
    g: \mathcal G_{\mathcal F} &\to R' \\
    [f]_z &\mapsto (\pi([f]_z), E([f]_z))
  \end{align*}
  \(g\) is continuous as a product of continuous map. \(g\) is also analytic: if \(([f]_D, \pi)\) is a chart of \(\mathcal G_{\mathcal F}\) then
  \[
    (\pi_z \compose g \compose \pi^{-1})(s) = (\pi_z \compose g)([f]_s) = \pi_z(\pi([f]_s), E([f]_s)) = \pi([f]_s) = s
  \]
  so analytic and open.

  Define an inverse \(h\) of \(g\): given \((z, w) \in R'\), choose a neighbourhood \(N\) on which \(\pi_z\) is a local homeomorphism. Define \(h((z, w)) = [\pi_w \compose \pi_z^{-1}]_z\), then this is inverse to \(g\) so \(g\) is a conformal equivalence.
\end{eg}

We have so far seen three constructions of this Riemann surface:
\begin{enumerate}
\item embedded curve construction,
\item space of germ \(\mathcal G_{\mathcal F}\) of \(\sqrt{z^3 - z}\),
\item gluing construction.
\end{enumerate}
The above shows 1 and 2 are equivalent and we sill show 2 and 3 are equivalence in example sheet 2. Each construction has its advantange
\begin{enumerate}
\item inherit properties of \(\C^2\),
\item always exists, although quite abstract. Moreover it is a covering space and is equipped with analytic maps \(\pi\) and \(E\),
\item can get our hands on topology. Compactification
\end{enumerate}

\subsection{Compactifying Riemann surfaces}

Recall the construction of Riemann sphere. We one-point compactify \(\C\) by adding a point \(\infty\). Then we define charts \((\C, z)\) and \(((\C\setminus \{0\}) \cup \{\infty\}, \frac{1}{z})\). The result is a map \(\C \embed \C_\infty\) that is not only a (dense) topological embedding into a compact space, but also an analytic map.

In general, suppose \(X\) and \(Y\) are topological spacs, \(U \subseteq X, V \subseteq Y\) open and \(\phi: U \to V\) a homeomorphism. Let \(Z = X \amalg Y / \sim_\phi\) where \(a \sim_\phi b\) if and only if \(a = b, a = \phi(b)\) or \(a = \phi^{-1}(b)\). \(Z\) is known as the \emph{gluing of \(X\) and \(Y\) along \(\phi\)}.

\begin{proposition}
  Suppose \(X\) and \(Y\) are Riemann surfaces and \(U \subseteq X\) and \(V \subseteq Y\) are nonempty open sets with \(\phi: U \to V\) an isomorphism of Riemann surfaces. If \(Z = X \amalg Y / \sim_\phi\) is Hausdorff then there exists a unique conformal structure on \(Z\) for which \(i_X: X \embed Z, i_y: Y \embed Z\) are analytic.
\end{proposition}

\begin{proof}
  Note \(i_x, i_Y\) are homeomorphisms. For each chart \((W, \psi)\) of \(X\) we define a chart \((i_X(W), \psi \compose i_X^{-1})\) on \(Z\), similarly for charts of \(Y\). Transition maps come from those of \(X\) or \(Y\) or those composed with \(\phi\) so are analytic. \(Z\) is connected for if we could disconnect \(Z\) we could disconnect \(X\) or \(Y\). So \(Z\) admits a conformal structure, with analytic inclusion. Uniqueness is immediate.
\end{proof}




\printindex
\end{document}

% https://www.dpmms.cam.ac.uk/~hk439/teaching.html