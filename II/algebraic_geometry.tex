\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Algebraic Geometry}
\def\nlecturer{I.\ Grojnowski}

\def\nterm{Lent}
\def\nyear{2019}

\input{header}

\renewcommand{\A}{\mathbb{A}}


\DeclareMathOperator{\Cl}{Cl}
\renewcommand*{\P}{\mathbb{P}}
\let\div\relax
%\AtBeginDocument{DeclareMathOperator{\div}{div}}

\begin{document}

\input{titlepage}

\tableofcontents

\setcounter{section}{-1}

\section{Introduction}

Study of polynomial equations.

\begin{eg}
  \(E = \{(x, y) \in \C^2: y^2 = x^3 - x\}\). Sketch this.

  Consider \(p: E \to \C, (x, y) \mapsto x\). For each \(x \notin \{0, \pm 1\}\), there are 2 points in \(p^{-1}(x)\). So this is a double cover ramified at \(0, \pm 1\), the precise meaning of these phrases will be defined later. How does this help us sketch? For \(x\) away from the three points, the preimage of a disk under \(p\) are two copies of the disk. If \(x\) is near \(0\), we have \(x^3 - x \approx -x\) so locally it looks like \(y^2 = -x\). If we project \((x, y)\) to \(x\) we get a disk winding around twice. But if we project to \(y\) we get a bijection.

  Still, how do we visualise \(E\)? First let's sketch it over \(\R\). If \((x, y) \in \R^2\) then \(y^2 \geq 0\) so \(x(x^2 - 1) \cdot 0\). Thus \(x \geq 1\) or \(-1 \leq x \leq 0\). Just like in high school, we can differentiate. (graph) The infinite bit should be visualised as a circle minus a point.

  Now let \((x, y) \in \C^2\). Let
  \[
    \Gamma = \{(x, y) \in E: y \in \R, x \in [-1, 0] \cup [1, \infty)\} = p^{-1}\{[-1, 1] \cup [1, \infty)\}.
  \]
  Claim \(E \setminus \Gamma\) is disconnected and it consists of two pieces, each isomorphic via \(p\) to \(\C \subseteq ([-1, 0] \cup [1, \infty))\). This is equivalent to the claim that if \(x \in \C \subseteq ([-1, 0] \cup [1, \infty))\) then can choose a square root of \(x^3 - x\), and then as you wander around, this remains a single-valued functions. The proof is left as an exercise.

  Granting this, we have two copies of \(\C \subseteq ([-1, 0] \cup [1, \infty))\). Turn one of them around and glue (graph).

  More surprisingly, solutions of equaitons have a topology!
\end{eg}

\section{The dictionary between algebra and geometry}

\subsection{Basic notions}

\begin{definition}[\(k\)-algebra]\index{\(k\)-algebra}
  Let \(k\) be a field. A \emph{(commutative) \(k\)-algebra} is a unital commutative ring countaining \(k\) as a subring.
\end{definition}

\begin{eg}
  \(k[x_1, \dots, x_n]\), the polynomial ring in \(n\)-variables.
\end{eg}

\begin{notation}
  If \(k\) is a fields, write \(\A^n = \A^n(k) = k^n\), the \emph{affine \(n\)-space}\index{affine space}.
\end{notation}

Observe that every \(f \in k[x_1, \dots, x_n]\) defines a function
\begin{align*}
  \A^n(k) &\to \A^1(k) \\
  (p_1, \dots, p_n) &\mapsto f(p_1, \dots, p_n) = \operatorname{ev}_p(f)
\end{align*}

This defines a map from \(k[x_1, \dots, x_n]\) to the space of all functions \(\A^n \to \A^1\). If \(k\) is finite then it is surjective but not injective, and if \(k\) is infinite then it is not surjective.

More generally, if \(L \supseteq k\) is an algebraic extension then one can define a function \(\A^n(L) \to \A^1(L)\) by evaluating \(f\) at a point in \(L^n\). Therefore \(f\) defines a function \(\A^n(\cl k) \to \A^1(\cl k)\) where \(\cl k\) is the algebraic closure of \(k\). So now the map \(k[x_1, \dots, x_n] \to \{\A^n(\cl k) \to \A^1(\cl k)\}\) is injective for all \(k\) but never surjective.

The conclusion is that we should think of \(k[x_1, \dots, x_n]\) as very special functions \(\cl k^n \to \cl k\), namely ``polynomial with \(k\)-coefficients''. As a concrete example, let \(k = \F_q\). Then \(x^q - x\) defines a function \(\cl k \to \cl k\) that is \emph{not} zero.

\begin{definition}[algebraic set]
  Let \(S \subseteq k[x_1, \dots, x_n]\). Define
  \[
    Z(S) = \{p \in \A^p: f(p) = 0 \text{ for all } f \in S\} \subseteq \A^n
  \]
  which are the simultaneous zeros of equations in \(S\). Such a subset is known as \emph{algebraic set}, \emph{Zariski closed subset of \(\A^n\)}.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\A^n = Z(0)\).
  \item \(Z(x) = \{0\}\). Similarly \(Z(x - 7) = \{7\}\).
  \item If \(f(x) = (x - \lambda_1) \dots (x - \lambda_n)\) then \(Z(f) = \{\lambda_1, \dots, \lambda_n\}\).
  \item if \(k = \cl k\) then algebraic subsets of \(\A^1\) are \(\emptyset, \A^1\) or finite set of points of \(k\).
  \item In \(\A^2\), \(Z(y^2 - x^3 + x) = E\) which we sketched in introduction.
  \item In \(\A^2\), \(Z(x, y) = \{(0, 0)\}\), \(Z(xy)\) is the union of two axes. \(Z(y)\) is the \(x\)-axis and \(Z(y(y - 1), x(y - 1))\) is the union of a point and a line
  \end{enumerate}
\end{eg}

If \(J\) is the ideal generated by \(S\), i.e.
\[
  J = \left\{\sum a_i f_i: a_i \in k[x_1, \dots, x_n], f_i \in S\right\}
\]
then \(Z(J) = Z(S)\).

Recall from IB Groups, Rings and Modules

\begin{theorem}[Hilbert basis theorem]
  If \(k\) is Noetherian then so is \(k[x]\).
\end{theorem}

So every ideal in \(k[x_1, \dots, x_n]\) is finitely generated. Therfore there exist \(f_1, \dots, f_r \in k[x_1, \dots, x_n]\) such that
\[
  Z(S) = Z(f_1, \dots, f_r).
\]
Thus algebraic sets are solutions of finitely many polynomial equations.

\begin{lemma}\leavevmode
  \begin{enumerate}
  \item If \(I \subseteq J\) then \(Z(J) \subseteq Z(I)\).
  \item \(Z(0) = \A^n\) and \(Z(k[x_1, \dots, x_n]) = \emptyset\).
  \item \(Z(\bigcup J_i) = Z(\sum J_i) = \bigcap Z(J_i)\) for any (possibly infinite) family of ideals \(\{J_i\}\).
  \item \(Z(I \cap J) = Z(I) \cup Z(J)\) for ideals \(I, J\).
  \end{enumerate}
\end{lemma}

\begin{proof}
  1, 2, 3 are clear. For 4, \(\subseteq\) follows from 1. For \(\supseteq\), if \(x \notin Z(I)\) then exists \(f_1 \in I\) with \(f_1(x) \neq 0\) and if \(x \notin Z(J)\) then exists \(f_2 \in J\) with \(f_2(x) \neq 0\). Thus \(f_1f_2(x) = f_1(x)f_2(x) \neq 0\) so \(x \notin Z(f_1f_2)\). But \(f_1f_2 \in I \cap J\) as \(I\) and \(J\) are ideals. Thus \(x \notin Z(I \cap J)\).
\end{proof}

We can define a map goes the other direction. If \(Z \subseteq \A^n(\cl k)\) is a subset, define
\[
  I(Z) = \{f \in k[x_1, \dots, x_n]: f(p) = 0 \text{ for all } p \in Z\}.
\]

If \(f \in I(Z), g \in k[x_1, \dots, x_n]\), \(fg(p) = f(p)g(p) = 0\) if \(p \in Z\) so \(I(Z)\) is an ideal.

\begin{lemma}\leavevmode
  \begin{enumerate}
  \item If \(Z \subseteq Z'\) then \(I(Z') \subseteq I(Z)\).
  \item For any \(Y \subseteq \A^n\), \(Y \subseteq Z(I(Y))\).
  \item If \(V = Z(J)\) is an algebraic subset then \(V = Z(I(V))\).
  \item If \(J \subseteq k[x_1, \dots, x_n]\) is an ideal then \(J \subseteq I(Z(J))\).
  \end{enumerate}
\end{lemma}

\begin{proof}
  1, 2 and 4 are immediate. For 3, \(\supseteq\) follows from \(I(V) = I(Z(J) \supseteq J\) by 4 so \(Z(I(V)) \subseteq Z(J) = V\) by 1. \(\subseteq\) follows from 2.
\end{proof}

The first lemma says that algebraic subsets of \(\A^n\) form the closed sets of a topology on \(\A^n\). This is called the \emph{Zariski topology}\index{Zariski topology}.

\begin{eg}
  If \(X = \A^1(k)\) where \(k = \cl k\), the closed subsets are finite subsets of points of \(\A^1\).

  Note that if \(k = \C\), if \(Z \subseteq \A^n(k)\) is Zariski closed then it is closed in the usual sense.
\end{eg}

The second lemma says that \(Z(I(Y))\) is the smallest algebraic subset of \(\A^n\) containing \(Y\), i.e.\ the closure of \(Y\) in the Zariski topology.

\begin{eg}
  If \(k = \C\) and \(\Z \subseteq \C\) then \(Z(I(\Z)) = \C\) as if a polynomial vanishes at \(\Z\) then it must be zero.
\end{eg}

We have a correspondence
\[
  \begin{tikzcd}
    \{\text{algebraic subsets of } \A^n\} \ar[r, "I", shift left] & \{\text{ideals in } k[x_1, \dots, x_n]\} \ar[l, "Z", shift left]
  \end{tikzcd}
\]
Note that this is not quite a bijection. For example in \(k[x]\),
\[
  Z(x) = Z(x^2) = Z(x^3) = \cdots
\]
and more generally
\[
  Z(f_1^{q_1} \cdots f_r^{g_r}) = Z(f_1 \cdots f_r)
\]
where \(q_i > 0\). We will fix this shortly.

\subsection{Hilbert's Nullstellensatz}

Let \(Y \subseteq \A^n\) be an algebraic subset so \(Y = Z(I(Y))\). Recall that we have a map \(k[x_1, \dots, x_n] \to \{\cl k^n \to \cl k\}\). Hence by restriction we have a map \(k[x_1, \dots, x_n] \to \{Y \to \cl k\}\) as \(Y \subseteq \cl k^n\). By definition \(I(Y) \mapsto 0\). This motivates us to make the following definition:

\begin{definition}
  Let \(Y \subseteq \A^n\) be an algebraic set. Then
  \[
    k[Y] = k[x_1, \dots, x_n]/I(Y).
  \]
\end{definition}

We've just seen \(k[Y] \embed \{Y \to \cl k\}\) so \(k[Y]\) is a special class of functions on \(Y\), namely ``polynomial functions on \(Y\) with \(k\)-coefficients''.

\begin{eg}
  \(k[\A^n] = k[x_1, \dots, x_n]\).

  \(k[E] = k[x, y]/(y^2 - x^3 + x)\).
\end{eg}

Clearly \(k[Y]\) is a \(k\)-algebra. Our aim is to recover \(Y\) completely from this \(k\)-algebra.

Observe that if \(p \in Y \subseteq \A^n(k)\) then the map
\begin{align*}
  k[Y] &\to k \\
  f &\mapsto f(p)
\end{align*}
is an algebra homomorphism. It is surjective and its kernel, denoted
\[
  \mathfrak m_p = \{f \in k[Y]: f(p) = 0\},
\]
is a maximal ideal, as \(k[Y]/\mathfrak m_p\) is a field. So
\[
  \{\text{points in } Y\} \embed \{\text{algebra homomorphism } k[Y] \to k\} \embed \{\text{max ideals } \mathfrak m \subseteq k[Y]\}.
\]
It is remarkable that if \(k = \cl k\) then all of these coincides (the second equality is not so amazing as it is more or less a statement about field extension).

What are the maximal ideals of \(k[x_1, \dots, x_n]\)? We've observed if \(p \in k^n\) then \(\{f \in k[x_1, \dots, x_n]: f(p) = 0\}\) is a maximal ideal.

Not all maximal ideals are of the form \(\mathfrak m_p\), however. For example if \(k = \R\) then \((x^2 + 1) \subseteq \R[x]\) is a maximal ideal as \(\R[x]/(x^2 + 1) \cong \C\). Nevertheless, notice that \(\R \subseteq \C\) and this is an extension of \(\R\).

\begin{theorem}[Nullstellensatz]\index{Nullstellensatz}\leavevmode
  \label{thm:Nullstellensatz}
  If \(\mathfrak m \subseteq k[x_1, \dots, x_n]\) is a maximal ideal then \(k[x_1, \dots, x_n]/\mathfrak m = L\) is an algebraic field extension of \(k\), and finite-dimensional over \(k\).
\end{theorem}

Note that in this setting \(L\) is finite-dimensional over \(k\) if and only if every \(\alpha \in L\) is algebraic over \(k\). For the nontrivial direction, images of \(x_1, \dots, x_n\) in \(L\) generate \(L\) and each satisfies a polynomial equation of degree \(d_i\) so \(\dim_k L \leq d_1 \cdots d_n\).

\begin{corollary}
  If \(k = \cl k\) then the field embedding \(k \to L\) is an isomorphism, that is every maximal ideal of \(k[x_1, \dots, x_n]\) is of the form
  \[
    \mathfrak m_p = (x_1 - p_1, \dots, x_n - p_n)
  \]
  for \(p \in k^n\).
\end{corollary}

\begin{proof}
  \(L \supseteq k\) is an algebraic extension of fields so \(L = k\) as \(k = \cl k\) and \(p_i\) is the image of \(x_i\) under the map \(k[x_1, \dots, x_n] \to k[x_1, \dots, x_n]/\mathfrak m_p = L\).
\end{proof}

\begin{corollary}
  If \(Y \subseteq \A^n\) is an algebraic set. Suppose \(k = \cl k\). then we have bijection
  \[
    \begin{tikzcd}
      \{\text{points in } Y\} \ar[r] & \{\text{algebra homomorphisms } k[Y] \to k\} \ar[r] & \{\text{maximal ideals of } k[Y]\} \\
      p \ar[r] & \operatorname{ev}_p: f \mapsto f(p) \\
      & \varphi \ar[r] & \ker \varphi \\
      \varphi(p) & \varphi \ar[l] \\
      & k[Y] \to k[Y]/\mathfrak m = k & \mathfrak m \ar[l]
    \end{tikzcd}
  \]
\end{corollary}

\begin{proof}
  When \(Y = \A^n\) this is Nullstellensatz. In general, an algebra homomorphism \(\varphi: k[x_1, \dots, x_n]/I \to k\) is the same thing as an algebra homomorphism \(k[x_1, \dots, x_n] \to k\) with \(I\) its kernel.
\end{proof}

We will give better proof later when we are more adept at playing with polynomail equations, but for now we'll prove a special case.

\begin{proof}[Proof of \nameref{thm:Nullstellensatz} when \(k\) is uncountable]
  Suppose \(L\) is not algebraic. Then there exists \(t \in L\) which is not algebraic over \(k\) so \(k(t) \subseteq L\). But observe the following:
  \begin{enumerate}
  \item \(L\) has countable dimension as a vector space over \(k\).
  \item The set
    \[
      \left\{ \frac{1}{t - \lambda}: \lambda \in k\right\} \subseteq L
    \]
    is linearly independent: suppose not then exist \(\lambda_1, \dots, \lambda_r, a_1, \dots, a_r \in k\) with
    \[
      \sum_{i = 1}^r \frac{a_i}{t - \lambda_i} = 0.
    \]
    Clear the denoimators, we get an algebraic identity that \(t\) satisfies, contradicting \(t\) transcendental.
  \end{enumerate}
  This implies that \(\{\lambda: \lambda \in k\}\) is countable. Absurd.
\end{proof}

% aside on logic and model theory

\begin{corollary}[Nullstellensatz]
  Let \(k = \cl k\), \(I \subseteq k[x_1, \dots, x_n]\) an ideal. Then \(Z(I) \neq \emptyset\) if \(I \neq k[x_1, \dots, x_n]\).

  More generally, let \(k = \cl k\), \(I \subseteq k[Y]\) has \(Z(I) \neq \emptyset\) if \(I \neq k[Y]\).
\end{corollary}

\begin{proof}
  If \(I \neq k[x_1, \dots, x_n]\) then \(I \subseteq \mathfrak m\) for some maximal ideal \(\mathfrak m\). But Nullstellensatz says that \(Z(\mathfrak m) = \{p\}\) for some \(p \in k^n\) as \(\mathfrak m = \mathfrak m_p\) for some \(p\). Thus
  \[
    Z(I) \supseteq Z(\mathfrak m) = \{p\} \neq 0.
  \]
\end{proof}

This motivates us to give an abstract, algebraic definition of algebraic set.

\begin{definition}[radical]\index{radical}
  Let \(R\) be a ring and \(J \subseteq R\) an ideal. The \emph{radical} of \(J\) is
  \[
    \sqrt J = \{f \in R: f^n \in J \text{ for some } n \geq 1\}.
  \]
\end{definition}

\begin{lemma}
  Given an ideal \(J \subseteq R\), \(\sqrt J\) is an ideal.
\end{lemma}

\begin{proof}
  If \(f, g \in \sqrt J\) then \(f^n \in J, g^m \in J\) for some \(n, m\). Then
  \[
    (f + g)^{n + m} = \sum_{i = 0}^{n + m} \binom{n + m}{c} f^i g^{n + m - i} \in J
  \]
  so \(fg \in \sqrt J\).

  If \(r \in R, f \in \sqrt J\) then \(rf \in \sqrt J\).
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\sqrt{(x^n)} = (x)\) in \(k[x]\).
  \item If \(J\) is a prime ideal then \(\sqrt J = J\).
  \item If \(f \in k[x_1, \dots, x_n]\) is irreducible then \((f)\) is a prime ideal. As \(k[x_1, \dots, x_n]\) is a UFD, \(\sqrt{(f)} = (f)\).
  \end{enumerate}
\end{eg}

Note that \(Z(J) = Z(\sqrt J)\).

\begin{theorem}[Nullstellensatz]
  If \(k = \cl k\), \(J \subseteq k[x_1, \dots, x_n]\) then \(I(Z(J)) = \sqrt J\).
\end{theorem}

\begin{proof}
  Let \(f \in I(Z(J))\) so \(f(p) = 0\) for all \(p \in Z(J)\). We must show that \(f^n \in J\) for some \(n > 0\). Consider \(k[x_1, \dots, x_n, t]/(tf - 1) = k[x_1, \dots, x_n, \frac{1}{f}]\). Let \(I\) be the ideal in this ring generated by the image of \(J\). Claim that \(Z(I) = \emptyset\): if not, let \(p \in Z(I)\). As \(J \subseteq I\), \(p \in Z(J)\) so \(f(p) = 0\). But \(p = (p_1, \dots, p_n, p_t)\) with \(p_t f(p_1, \dots, p_n) = 1\), i.e.\ \(f(p) \neq 0\). Absurd.

  Then the corollary to the Nullstellensatz implies that \(I = k[x_1, \dots, x_n, \frac{1}{f}]\) (we used the fact \(k = \cl k\)). As \(1 \in I = (J)\),
  \[
    \sum_{i = 1}^N \frac{\gamma_i}{f^i} = 1
  \]
  for some \(\gamma_i \in J\) for some \(N \geq 1\). Multiply by \(f^N\), get
  \[
    f^N = \sum_{i = 1}^N \gamma_i f^{N -i} \in J.
  \]
\end{proof}

\begin{remark}
  Let's try to deconstruct this mysterious proof. What are the points of \(k[x_1, \dots, x_n, t]/(tf - 1) = k[Y]\)? Here
  \[
    Y = \{(p_1, \dots, p_n, p_t) \in \A^{n + 1}: p_t f(p_1, \dots, p_n) = 1\}
  \]
  which is isomorphic as a set to
  \[
    \{(p_1, \dots, p_n) \in \A^n: f(p) \neq 0\} = \A^n - Z(f).
  \]
  So \(Y\) is a Zariski closed subset of \(\A^{n + 1}\) which is isomorphic as a set to \(\A^n \setminus Z(f)\), and our proof was asking in what sense does
  \[
    Z(f) \cap (\A^n \setminus Z(f)) = \emptyset
  \]
  mean in terms of the ideal \(J\).
\end{remark}

\begin{corollary}
  Suppose \(k = \cl k, I, J \subseteq k[x_1, \dots, x_n]\). Then \(Z(I) = Z(J)\) if and only if \(I(Z(I)) = I(Z(J))\) if and only if \(\sqrt I = \sqrt J\). That is we have a bijection between
  \[
    \begin{tikzcd}
      \{\text{Zariski closed subsets of } \A^n\} \ar[r, "I", shift left] & \{\text{radical ideal } I \subseteq k[x_1, \dots, x_n]\} \ar[l, "Z", shift left] \\
      p & \mathfrak m_p
    \end{tikzcd}
  \]
\end{corollary}

The Nullstellensatz gives us an intrinsic characterisation of rings \(k[Y]\).

\begin{definition}[nilpotent]\index{nilpotent}
  Let \(R\) be a ring. \(y \in R\) is \emph{nilpotent} if exists \(n > 0\) such that \(y^n = 0\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item If \(R = k[x]\) then \(0\) is the only nilpotent.
  \item If \(R = k[x]/(x^7)\) then \(x\) is nilpotent as \(x^7 = 0\).
  \end{enumerate}
\end{eg}

\begin{ex}
  Let \(J \subseteq k[x_1, \dots, x_n]\) be an ideal and \(R = k[x_1, \dots, x_n]/J\). Then \(J = \sqrt J\) if and only if \(R\) has no nonzero nilpotents.
\end{ex}

\begin{corollary}
  Let \(k = \cl k\). If \(Y \subseteq \A^n\) is a Zariski closed subset then \(k[Y]\) is a finitely generated \(k\)-algebra with no nonzero nilpotents.
\end{corollary}

Conversely, given a finitely generated reduced \(k\)-algebra\(A\), there exists a surjection \(k[t_1, \dots, t_n] \to A\). As \(A\) is reduced, the kernel is radical. This is precisely the definition of a coordinate ring.

What do we gain from this? We need not to choose a generator of the \(k\)-algebra, which is the same as an embedding \(Y \embed \A^n\).

In this abstract formulation, the ``points'' in the affine space corresponds to maximal ideals of the \(k\)-algebra.

\begin{definition}[(ir)reducible, disconnected]\index{reducible}\index{irreducible}\index{disconnected}
  An algebraic subset \(Y\) is \emph{reducible} if there exist algebraic subsets \(Y_1, Y_2 \neq Y\) such that \(Y_1 \cup Y_2\). It is \emph{irreducible} if is not reducible. It is \emph{disconnected if \(Y_1 \cap Y_2 = \emptyset\)}.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(Z(xy) = Z(x) \cup Z(y)\) is reducible.
  \item \(Z(y(y - 1), x(y - 1)) = Z(x, y) \cup Z(y - 1)\) is reducible and disconnected.
  \end{enumerate}
\end{eg}

In other words, \(Y\) is reducible/disconnected in Zariski topology. In usual topology, such as the usual one \(\R\), almost every set is reducible. However, in Zariski topology there is so little closed sets that this is actually a useful definition. In fact, they have a very nice algebraic characterisation:

\begin{lemma}
  \(Y\) is irreducible if and only if \(I(Y)\) is a prime ideal in \(k[x_1, \dots, x_n]\).
\end{lemma}

\begin{proof}
  If \(Y = Y_1 \cup Y_2\) is reducible then exists \(p \in Y_1 \setminus Y_2\) so exists \(f \in I(Y_2)\) with \(f(p) \neq 0\). Similarly exists \(q \in Y_2 \setminus Y_1\) so exists \(g \in I(Y_1)\) with \(g(q) \neq 0\). So
  \[
    fg \in I(Y_1) \cap I(Y_1) = I(Y).
  \]
  But \(f, g \notin I(Y)\) so \(I(Y)\) is not prime.

  Conversely if \(I(Y)\) is not prime then exists \(f_1, \dots, f_2 \in k[x_1, \dots, x_n]\) with \(f_1, f_2 \notin I(Y)\) but \(f_1f_2 \in I(Y)\). Set \(Y_i = Y \cap Z(f_i)\). Then \(Y_1 \cup Y_1 = Y\) as for \(p \in Y\), \(f_1f_2(p) = 0\) so \(f_1(p) = 0\) or \(f_2(p) = 0\) and \(Y_i \neq Y\) as \(f_2 \notin I(Y)\).
\end{proof}

\begin{eg}
  \(I = (x_1, \dots, x_m) \subseteq k[x_1, \dots, x_m]\) is prime, as
  \[
    k[x_1, \dots, x_n]/(x_1, \dots, x_m) = k[x_{m + 1}, \dots, x_n]
  \]
  is an integral domain.
\end{eg}

Recall that if \(R\) is a UFD, \(f \in R\) nonzero then if \(f\) is irreducible then \((f)\) is a prime ideal. Furthermore as \(k[x_1, \dots, x_n]\) is a UFD, it is an exercise to check that \(Z(y -x^2), Z(y^2 - x^3 + x)\) are irreducible.

Zariski topology is very different from usual topology: if \(X\) is an irreducible Zariski closed subset and \(U \subseteq X\) is a nonempty Zarisk open subset in \(X\) then \(\cl U = X\), i.e.\ nonempty Zariski open subsets are dense.

\begin{proof}
  Let \(Y = X \setminus U\) which is closed. Then \(\cl U \cup Y = X\) and \(U \neq \emptyset\) so \(Y \neq X\). But \(X\) is irreducible so \(\cl U = X\).
\end{proof}

Application: Cayley-Hamilton theorem.

\begin{proposition}
  Let \(A \in \textrm{Mat}_n(k)\), an \(n \times n\) matrix. Define its characteristic polynomial to be
  \[
    \chi_A(x) = \det(xI - A) \in k[x]
  \]
  This defines a map
  \begin{align*}
    \textrm{Mat}_n(k) &\to \textrm{Mat}_n(k) \\
    B &\mapsto \chi_A(B)
  \end{align*}
  Then for all \(A\), \(\chi_A(A) = 0\).
\end{proposition}

\begin{proof}
  Strategy:
  \begin{enumerate}
  \item The set of matrices for which Cayley-Hamilton is true is a Zariski closed subset of \(\A^{n^2}\).
  \item It is true for diagonalisable matrices, which is a Zariski open subset of \(\A^{n^2}\).
  \item Hence as \(\A^{n^2}\) is an irreducible algebraic set, it is true for all matrices.
  \end{enumerate}

  Let \(X = \textrm{Mat}_n(k) = k^{n^2} = \A^{n^2}\) be the space of matrix coefficeints. It is an affine space so irreducible closed. Consider
  \[
    C = \{A \in \textrm{Mat}_n(k): \chi_A(A) = 0\}.
  \]
  Claim that this is a Zariski closed subset, cut out by \(n^2\) equations of the form \(\chi_A(A)_{ij} = 0\). We must check these equations are polynomial equations in the matrix coefficients of \(A\). Note that
  \[
    \chi_A(x) \in k[X \times \A^1] = k[\A^{n^2 + 1}],
  \]
  i.e.\ \(\det (xI - A)\) is a polynomial equation in \(n^2 + 1\) variables: matrix coefficients of \(A\) and \(x\). Now substitute \(x = A\). Note that matrix coefficients of \(A^r\), \((A^r)_{ij}\), are polynomials in the matrix coefficients of \(A\) (of degree \(r\)). Hence \(\chi_A(A)_{ij}\) are polynomial equations in coefficients of \(A\).

  As \(\textrm{Mat}_n(k) \subseteq \textrm{Mat}_n(\cl k)\), suffices to prove the case \(k = \cl k\). Note that
  \begin{align*}
    \chi_A(x) &= \chi_{gAg^{-1}}(x) \\
    \chi_A(gBg^{-1}) &= g \chi_A(B) g^{-1}
  \end{align*}
  for all \(g \in \GL_n(k)\). so \(\chi_A(A) = 0\) if and only if \(\chi_{gAg^{-1}} (gAg^{-1}) = 0\), so \(A\) satisfies its only characteristic polynomial if and only if \(gAg^{-1}\) does for all \(g \in \GL_n(k)\).

  Now let \(U\) be the set of all matrices with distinct eigenvalues. As \(k = \cl k\), \(A \in U\) implies that there exists \(g \in \GL_n(k)\) such that \(gAg^{-1}\) is
  \[
    \begin{pmatrix}
      \lambda_1 \\
      & \lambda_2 \\
      & & \ddots \\
      & & & \lambda_n
    \end{pmatrix}
  \]
  which clearly satisfies its own characteristic polynomial. Moreover \(U \neq \emptyset\) since we can always find distinct elements \(\lambda_1 \dots \lambda_n\) of \(k\) as \(k = \cl k\).

  Left to show \(U\) is Zariski open. \(A \in U\) if and only \(\chi_A(x) \in k[x]\) has distinct roots. But a polynomial \(f\) has distinct roots if and only if \(f\) and \(f'\) have no common root, if and only if \(\Delta(f) \neq 0\), where the discriminant \(\Delta(f)\) is a polynomial in the coefficients of \(f\). Hence \(A \in U\) if and only if \(\Delta(\chi_A(x)) \neq 0\), so \(U\) is Zariski open.
\end{proof}

\begin{definition}[hypersurface]\index{hypersurface}
  If \(f \in k[x_1, \dots, x_n]\) then \(Z(f) \subseteq \A^n\) is called a \emph{hypersurface}.
\end{definition}

\begin{definition}[affine algebraic variety]\index{affine algebraic variety}\index{point}
  An \emph{affine algebraic variety} over \(k\), where \(k\) is a field, is a finitely generated \(k\)-algebra \(R\) with no nonzero nilpotent elements.

  If \(k = \cl k\), define a \emph{point} of \(R\) to be a \(k\)-algebra homomorphism \(R \to k\).
\end{definition}

\begin{eg}
  Let \(J = \sqrt J \subseteq k[x_1, \dots, x_n]\) be a radical ideal and \(R = k[x_1, \dots, x_n]/J\) is is an affine algebraic variety.
  
  Coversely, if \(R\) is such an algebra, choose generators \(\overline x_1, \dots, \overline x_n\) of \(R\) as a \(k\)-algebra so get a surjective map \(k[x_1, \dots, x_n] \dots R\) where \(x_i \mapsto \overline x_i\). Let \(J\) be the kernel and \(J = \sqrt J\) be an exercise before.

  By Nullstellensatz, points of \(R\) is \(Z(J) \subseteq k^n\) given by
  \begin{align*}
    Z(J) &\to \{R \to k\} \\
    p = (p_1, \dots, p_n) &\mapsto \operatorname{ev}_p: \overline x_i \mapsto p_i
  \end{align*}
  In general, choice of generators \(\overline x_1, \dots, \overline x_n\) of \(R\) is the \emph{choice} of an embedding of points of \(R\) to \(\A^n\).
\end{eg}

\begin{remark}
  If \(k \neq \cl k\), let \(L \supseteq k\) be a field extension. An \emph{\(L\)-point of \(R\)} is a \(k\)-algebra homomorphism \(R \to L\).
\end{remark}

\begin{eg}
  \(\R[x]/(x^2 + 1)\) has no \(\R\)-point, but it has two \(\C\)-points, given by \(x \mapsto \pm i\).
\end{eg}

We indulge in imprecision and often write \(Y\) for the points of \(R\) and \(k[Y] = R\) for ``the polynomial functions on \(Y\)''. What we really mean, when spelt out, is: \(R\) is the algebraic variety and \(Y\) is ...

























\iffalse

\section{Algebraic curves}

\begin{eg}
  \(E^0 = \{y^2 = (x - \lambda_1)(x - \lambda_2)(x - \lambda_3)\}, \lambda_1\lambda_2\lambda_3 \neq 0, \lambda_i \neq \lambda_j\) for \(i \neq j\). Let \(E = \cl{E^0} \subseteq \P^2\). The closure is
  \[
    y^2t = (x - \lambda_1z)(x - \lambda_2z)(x - \lambda_3z).
  \]
  Each point on the other chart when \(z = 0\). Unique extra point \(x = z = 0, y \neq 0\), \(P_\infty = [0:1:0]\). We will compute \(L(nP_\infty)\). To begin, let's compute \(\div(x), div(y)\).
  \begin{align*}
    x &= 0 \text{ when } y = \pm \sqrt{-\lambda_1\lambda_2\lambda_3} = \pm c \\
    x &= \infty \text{ at } P_\infty
  \end{align*}
  At \(y = \pm c, \frac{\p f}{\p y} (0, \pm c) \neq 0\) so \(x\) is a local parameter so
  \[
    \div(x) = [0: c: 1] + [0: -c: 1] + n_\infty P_\infty.
  \]
  Let \(\deg \div(x) = 0\), so \(n_\infty = -2\). Similarly,
  \[
    \div(y) = \sum_{i = 1}^3 [\lambda_i: 0: -1] - 3 P_\infty.
  \]
  Hence \(x \in L(2 P_\infty), y \in L(3 P_\infty)\).

  Example \(xy \in L(5P_\infty)\), Claim \(L(P_\infty) = k\). Granting claim, get \(\dim L(nP_\infty) \leq n\) for \(n \geq 1\) by proposition v. But
  \begin{align*}
    1, x &\in L(2P_\infty) \\
    1, x, y &\in L(3P_\infty) \\
    1, x, y, x^2 &\in L(4P_\infty) \\
    1, x, y, x^2, xy &\in L(5P_\infty)
  \end{align*}
  Claim that these are linearly independent, so \(\dim L(nP_\infty) = n\) for \(n \leq 5\): this is obvious in \(k(x) \supseteq L(nP_\infty)\).
  \[
    1, x, y, x^2, xy, x^3, y^2 \in L(6P_\infty)
  \]
  but these are not linearly independent by our general result, or more importantly, \(y^2 = (x - \lambda_1)(x - \lambda_2)(x - \lambda_3)\) is the linear relation between them.
  \begin{ex}\leavevmode
    \begin{enumerate}
    \item Show that \(xx^i, x^iy\) are linearly independent and hence
    \item \(\dim L(nP_\infty) = n\) for all \(n \geq 1\).
    \end{enumerate}
  \end{ex}

  Observe how this compares with \(\P^1\), when \(\dim L(nP) = n + 1\) for \(n \geq 0\).

  Proof of claim that \(L(P_\infty) = k\): if not, \(L(P_\infty) = k + kt\) for some \(t \in k(E)\), then
  \[
    t^n \in L(nP_\infty) \setminus L((n - 1)P_\infty)
  \]
  so \(1, t, \dots, t^n \in L(nP_\infty)\) and are linearly independent so must be a basis (as \(\dim L(nP_\infty) \leq n + 1\)). But \(x \in L(2P_\infty), y \in L(3P_\infty)\), so \(x = a't^2 + b't + c = (at + b)^2 + d\) by completing the square if \(\ch k \neq 2\). Replace \(t\) with \(at + b\), so \(x = t^2 + d\) and \(y = g_3(t)\) for some cubic polynomial in \(t\). But that
  \[
    g_3(t)^2 = \prod_{i = 1}^3 (t^2 - (\lambda_i - d)).
  \]
  Now \(\lambda_i\)'s are distinct, so \(\lambda_i - d\) are distinct, so RHS is not a square in \(k[t]\), absurd.
\end{eg}

Given \(D \in \div X\) where \(X\) is a smooth projective curve, \(\ell(D) = \dim L(D) \geq 1\), put \(m = \ell (D) - 1\). Choose a basis \(f_0, \dots, f_m\) of \(L(D)\). Get a rational map \(\alpha_D = [f_0: \dots: f_n], X \to \P^m = \P(L(D)^*)\). As \(X\) is a smooth projective curve, \(\alpha_D\) extends to a morphism \(\alpha_D: X \to \P^m\). Notice that if \(D' = D + \div(g)\), \(f_0g, \dots, f_mg\) is a basis of \(L(D')\) but
\[
  [f_0g: \dots: f_mg] = [f_0: \dots: f_m]
\]
so \(\alpha_D: X \to \P^m = \P(L(D)^*)\) equals to \(\alpha_{D'}: X \to \P^m = \P(L(D')^*)\), i.e.\ the map only depends on the class of \(D\) in \(\Cl(X)\).

\begin{eg}
  \(X = \P^1, D = n(\alpha), \ell(D) = n + 1\). Choose a basis \(1, t, \dots, t^n\) of \(L(n(\infty))\), then
  \[
    \alpha_D(t) = [1:t: \dots: t^n]: \P^1 \to \P^n.
  \]
  i.e.
  \[
    \alpha_D[x_0: x_1] = [1: \frac{x_1}{x_0}: \dots: \frac{x_1^n}{x_0^n}] = [x_0^n: x_0^{n - 1}x_1: \dots: x_1^n].
  \]
\end{eg}

\begin{definition}[Embedding]\index{embedding}
  An \emph{embedding} is a morphism \(\alpha: X \to Y\) with the property that \(X\) is isomorphic to \(\alpha(X)\) via \(\alpha\).
\end{definition}

\begin{ex}\leavevmode
  \begin{enumerate}
  \item Show that the above \(\alpha_{n(\infty)}: \P^1 \to \P^n\) is an embedding.
  \item Show that the morphism
    \begin{align*}
      alpha: \P^1 &\to \P^2 \\
      t &\mapsto [1: t^2: t^3]
    \end{align*}
    is injective but \emph{not} an embedding.
  \end{enumerate}
\end{ex}

\begin{ex}
  Let \(X = E\) be elliptical curve, \(D = nP_\infty\). Show
  \begin{align*}
    \alpha_{P_\infty}: E &\to \P^0 \\
    \alpha_{2P_\infty}: E &\to \P^1 \\
    (x, y) &\mapsto x \\
    \alpha_{3P_\infty}: E &\to P^2 \\
    (x, y) &\mapsto (x, y)
  \end{align*}

  basis of \(L(2P_\infty)\) \(1, x\), basis of \(L(3P_\infty)\) \(1, x, y\).
  
  Notice that \(\alpha_{3P_\infty}\)  is an embedding \(E \subseteq \R^2\) but \(\alpha_{2P_\infty}, \alpha_{P_\infty}\) are not.
\end{ex}

\begin{theorem}[Embedding criteria]
  \(\alpha_D: X \to \P^m\) is an embedding if and only if for all \(p, q \in X\), \(\ell(D - p - q) = \ell(D) - 2\). When this happens, \(X\) is a curve in \(\P^m\) of degree \(\deg D\).
\end{theorem}

We have not yet defined the degree of a curve \(X \subseteq \P^m\). Suppose \(X \subseteq \P V, \dim V = m + 1\), \(X\) smooth. Let \(H \subseteq \P V\) be a hyperplane and suppose \(X \nsubseteq H\). Then \(X \cap H\) is a closed subvariety of \(X\), so a finite set of points, and we define
\[
  [X \cap H] \in \div X
\]
to be these points ``counted with multiplicity''. Define \(\deg X\) ot be \(\deg [X \cap H]\) which will depend on \(X \subseteq \P^m\) but no other choices.

\begin{eg}
  Let \(H = \{x_0 = 0\}\) for some linear function \(x_0 \in V^*\). If \(p \in X \cap H\), want to define \(v_p(x_0)\). But \(x_0 \in k(X)\). Pick \(x_1 \in V^*\) wit \(x_1(p) \neq 0\). Now \(\frac{x_0}{x_1} \in k(X)\). Then \(v_p(\frac{x_0}{x_1}\) makes sense, and
  \[
    v_p(\frac{x_0}{x_1'}) = v_p(\frac{x_0}{x_1}) + v_p(\frac{x_1}{x_1'}).
  \]
  If \(x_1'\) is another function in \(V^*\) with \(x_1'(p) \neq 0\) but then the last term is \(0\). So define
  \[
    n_p = v_p(\frac{x_0}{x_1})
  \]
  which is independent of choice of \(x_1\).
\end{eg}

\begin{definition}
  Let \([H \cap X] = \sum_{p \in H \cap X} n_pP \in \div (X), [H \cap X] \geq 0\). Define
  \[
    \deg X = \deg [H \cap X].
  \]
\end{definition}

If we pick \(H' = \{x_0' = 0\}, X \nsubseteq H'\).
\[
  v_p(\frac{x_0}{x_1'}) = v_p(\frac{x_0}{x_1}) + v_p(\frac{x_1}{x_1'})
\]
so \([H \cap X] = [H' \cap X] + \div (\frac{x_0}{x_0'})\), i.e.\ \([H \cap X] = [H' \cap X]\) are equal in \(\Cl(X)\).

\begin{lemma}
  Let \(X = Z(F) \subseteq \P^2\) where \(F\) is a homogeneous polynomial of degree \(d\), then
  \[
    \deg Z(F) = \deg F.
  \]
\end{lemma}
\fi


\printindex
\end{document}