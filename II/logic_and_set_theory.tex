\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Logic and Set Theory}
\def\nlecturer{I.\ B.\ Leader}

\def\nterm{Lent}
\def\nyear{2018}

\input{header}

\makeindex

\begin{document}

\input{titlepage}

\tableofcontents

\section{Propositional Logic}

Let \(P\) be a set of \emph{primitive propositions}. Unless otherwise stated,
\[
  P = \{p_1, p_2, \dots \}.
\]
The \emph{language} or \emph{set of propositions} \(L = L(P)\) is defined inductively by
\begin{enumerate}
\item \( p \in P, p \in L\),
\item \(\bot \in L\) (reads ``false''),
\item if \(p, q \in L\) then \((p \implies q) \in L\).
\end{enumerate}

\begin{eg}
  \((p_1 \implies \bot)\), \(((p_1 \implies p_2) \implies (p_1 \implies p_3))\), \(((p_1 \implies \bot) \implies \bot)\) are elements of \(L\).
\end{eg}

\begin{note}\leavevmode
  \begin{enumerate}
  \item Each proposition is a finite union string of symbols from the alphabet \((, ), \implies, p_1, p_2, \dots\).
  \item ``Inductively defined'' means more precisely that we set
    \begin{align*}
      L_1 &= P \cup \{\bot\} \\
      L_{n + 1} &= L_n \cup \{(p \implies q): p, q \in L_n\}
    \end{align*}
    and then set \(L = L_1 \cup L_2 \cup \dots\). \(L_n\) can be seen as ``things born by time \(n\)''.
  \item Each proposition is built up \emph{uniquely} from (1), (2) and (3). For example, \(((p_1 \implies p_2) \implies (p_1 \implies p_3))\) came from \((p_1 \implies p_2)\) and \((p_1 \implies p_3)\).
  \end{enumerate}
\end{note}

Note that we often omit outer brackets or use different brackets for clarity.

We can now define for example, \(\neg p\) (reads ``not \(p\)'') as an abbreviation for \(p \implies \bot\), \(p \lor q\) (reads ``\(p\) or \(q\)'') for \((\neg p) \implies q\), \(p \land q\) (reads \(p\) and \(q\)'') for \(\neg (p \implies (\neg q))\).

\subsection{Semantic Entailment}

\begin{definition}[Valuation]\index{valuation}
  A \emph{valuation} is a function \(v: L \to \{0, 1\}\) such that
  \begin{enumerate}
  \item \(v(\bot) = 0\),
  \item \(v(p \implies q) = \begin{cases} 0 & \text{if } v(p) = 1, v(q) = 0 \\ 1 & \text{otherwise} \end{cases}\) for all \(p, q \in L\).
  \end{enumerate}
\end{definition}

\begin{remark}
  On \(\{0, 1\}\), we could define a constant \(\bot\) by \(\bot = 0\) and an operation \(\implies\) by
  \[
    (a \implies b) =
    \begin{cases}
      0 & \text{if } a = 1, b = 0 \\
      1 & \text{otherwise}
    \end{cases}
  \]
  Then a valuation is a function \(L \to \{0, 1\}\) that preserves the structure (\(\bot\) and \(\implies\)), i.e.\ it is a homomorphism.
\end{remark}

\begin{proposition}\leavevmode
  \begin{enumerate}
  \item If \(v\) and \(v'\) are valuations with \(v(p) = v'(p)\) for all \( \in P\), then \(v = v'\).
  \item For any \(w: P \to \{0, 1\}\), there exists a valuation \(v\) with \(v(p) = w(p)\) for all \(p \in P\).
  \end{enumerate}
\end{proposition}

In other words, a valuation is determined by its values on \(P\) and any values will do.

\begin{proof}\leavevmode
  \begin{enumerate}
  \item We have for all \(p \in L_1\), \(v(p) = v'(p)\). But if \(v(p) = v'(p)\) and \(v(q) = v'(q)\) then \(v(p \implies q) = v'(p \implies q)\) so \(v = v'\) on \(L_2\). Continue inductively, we have \(v = v'\) on \(L_n\) for all \(n\).
  \item Set \(v(p) = w(p)\) for all \(p \in P\) and \(v(\bot) = 0\). This defines \(v\) on \(L_1\). Having defined \(v\) on \(L_2\), use \(v(p \implies q) = \begin{cases} 0 & \text{if } v(p) = 1, v(q) = 0 \\ 1 & \text{otherwise} \end{cases}\) to define \(v\) on \(L_{n + 1}\).
  \end{enumerate}
\end{proof}

\begin{eg}
  In a valuation given by
  \begin{align*}
    v(p_1) &= 1 \\
    v(p_2) &= 1 \\
    v(p_n) &= 0 \text{ for all } n \geq 3
  \end{align*}
  we have \(v(\underbrace{(p_1 \implies p_2)}_{1} \implies \underbrace{p_3}_{0}) = 0\).
\end{eg}

\begin{definition}[Tautology]\index{Tautology}
  \(p\) is a \emph{tautology}, written \(\models p\) if \(v(p) = 1\) for all valuations \(p\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(p \implies (q \implies p)\). ``A true statement is implied by anything''. Alternatively, we could make a truth table
    \begin{table}[h]
      \centering
      \begin{tabular}{c|c|c|c}
        \(v(p)\) & \(v(q)\) & \(v(q \implies p)\) & \(v(p \implies (q \implies p))\) \\\hline
        1 & 1 & 1 & 1 \\
        1 & 0 & 1 & 1 \\
        0 & 1 & 0 & 1 \\
        0 & 0 & 1 & 1
      \end{tabular}
      \caption{Truth table}
    \end{table}
  \item \((\neg \neg p) \implies p\), i.e.\ \(((p \implies \bot) \implies \bot) \implies p\). ``Law of excluded middle''.
  \item \((p \implies (q \implies r)) \implies ((p \implies q) \implies (p \implies r))\). This is an example where writing down a truth table is not so desirable. Instead, this is not a tautology only if we have \(v\) with
    \begin{align*}
      v(p \implies (q\implies r)) &= 1 \\
      v((p \implies q) \implies (q \implies r)) &= 0
    \end{align*}
    so \(v(p \implies q) = 1, v(p \implies r) = 0\) whence \(v(p) = 1, v(r) = 0\), so also \(v(q) = 1\). But then \(v(q \implies r) = 0\) so \(v(p \implies (q \implies r)) = 0\). Absurd.
  \end{enumerate}
\end{eg}

\begin{definition}[Entailment]\index{entailment}
  For \(S \subseteq L, t \in L\), we say \(s\) \emph{entails} or \emph{semantically implies} \(t\), written \(S \models t\), if \(v(s) = 1\) for all \(s \in S\) then \(v(t) = 1\) for each valuation \(v\).
\end{definition}

This says whenever all of \(S\) is true, \(t\) is true as well.

\begin{eg}
  \(\{p \implies q, q \implies r\} \models (p \implies r)\). Indeed, suppose not. So have \(v\) with \(v(p \implies q) = v(q \implies r) = 1, v(p \implies r) = 0\). Then \(v(p) = 1, v(r) = 0\), whence \(v(q) = 0\) (from \(v(q \implies r) = 1\)), so \(v(p \implies q) = 0\). Absurd.
\end{eg}

\begin{definition}[Model]\index{model}
  If \(v(t) = 1\), we say \(t\) is \emph{true in \(v\)} or that \(v\) is a \emph{model} of \(t\).

  For \(S \subseteq L\), \(v\) is a \emph{model} of \(S\) if \(v(s) = 1\) for all \(s \in S\).
\end{definition}

Using this terminology, \(S \implies t\) says that every model of \(S\) is a model of \(t\).

\begin{note}
  \(\models t\) is equivalent to \(\emptyset \models t\).
\end{note}

\subsection{Syntactic Implication}

For a notion of ``proof'', we'll need axioms and deduction rules. As axioms, we'll take
\begin{enumerate}
\item \(p \implies (q \implies p)\) for all \(p, q \in L\).
\item \((p \implies (q \implies r)) \implies ((p \implies q) \implies (p \implies r))\) for all \(p, q, r \in L\).
\item \((\neg \neg p) \implies p\) for all \(p \in L\).
\end{enumerate}

\begin{note}
  We have already checked that these are all tautologies. Sometimes we say 3 axiom schemes to mean 3 infinite sets of axioms.
\end{note}

As deduction rules, we'll take just \emph{modus ponens}: from \(p\) and \((p \implies q)\) we can deduce \(q\).

\begin{definition}[Proof]\index{proof}
  For \(S \subseteq L\) and \(t \in L\), a \emph{proof} of \(t\) from \(S\) consists of a finite sequence \(t_1, \dots, t_n\) of propositions, with \(t_n = t\) such that for every \(i\), the proposition \(t_i\) is an axiom, or a member of \(S\), or there exists \(j, k < i\) with \(t_j = (t_k \implies t_i)\).

  We say \(S\) is the \emph{hypotheses} or \emph{premises} and \(t\) is the \emph{conclusion}.
\end{definition}

\begin{definition}
  If there is a proof of \(t\) from \(S\), say \(S\) \emph{proves} or \emph{syntactically implies} \(t\), written \(S \yields t\). If \(\emptyset \yields t\), say \(t\) is a \emph{theorem}, written \(\yields t\).
\end{definition}

Missed a lecture

\begin{theorem}[Model Existence Lemma]
  Let \(S \subseteq L\) be consistent, then \(S\) has a model.
\end{theorem}

The idea is to would like to define a valuation \(v\) by \(v(p) = 1\) if and only if \(p \in S\). As \(1\) is preserved under \(\implies\), a more sensible aim is \(v(p) = 1\) if and only if \(S \yields p\).

But maybe neither \(S \yields p\) nor \(S \yields \neg p\). So we want to ``grow'' \(S\) to contain one of \(p\) or \(\neg p\) for each \(p \in L\) (while remaining consistent).

\begin{proof}
  Claim that for any consistent \(S \subseteq L\), \(S \cup \{p\}\) or \(S \cup \{\neg p\}\) is consistent:

  \begin{proof}
    If not, then \(S \cup \{p\} \yields \bot\) and \(S \cup \{\neg p\} \yields \bot\). But then \(S \yields (p \implies \bot)\) by deduction theorem, i.e.\ \(S \yields \neg p\). Then \(S \yields \bot\). Absurd.
  \end{proof}

  Now as \(L\) is countable, we can list \(L\) as \(t_1, t_2, \dots \). Put \(S_0 = S\). Set \(S_1 = S_0 \cup \{t_1\}\) or \(S_0 \cup \{\neg t_1\}\) such that \(S_1\) is consistent. Then Let \(S_2 = S_1 \cup \{t_2\}\) or \(S_1 \cup \{\neg t_2\}\) such that \(S_2\) is consistent and continue inductively. Let \(\cl S = S_0 \cup S_1 \cup \dots\). Then \(\cl S \supseteq S\) and \(\cl S\) is consistent (as each \(S_n\) is consistent and proofs are finite). For all either \(p \in L\) we have \(p \in \cl S\) or \(\neg p \in \cl S\). Also \(\cl S\) is \emph{deductively closed}, meaning that if \(\cl S \yields p\) then \(p \in \cl S\). Indeed if \(p \notin \cl S\) then \(\neg p \in \cl S\), so \(\cl S \yields p, \cl S \yields (\neg p)\), whence \(\cl S \yields \bot\). Absurd.

  Define a valuation
  \begin{align*}
    v: L &\to \{0, 1\} \\
    p &\mapsto
        \begin{cases}
          1 & p \in \cl S \\
          0 & \text{otherwise}
        \end{cases}
  \end{align*}
  Indeed, \(v(\bot) = 0\) as \(\bot \notin \cl S\). For \(v(p \implies q)\):
  \begin{itemize}
  \item if \(v(p) = 1, v(q) = 0\), we have \(p \in \cl S, q \notin \cl S\), and we want \(v(p \implies q) = 0\), i.e.\ \((p \implies q) \notin \cl S\). But if \((p \implies q) \in \cl S\) then \(\cl S \yields q\), \(q \in \cl S\). Absurd.
  \item if \(v(q) = 1\), we have \(q \in \cl S\), and we want \(v(p \implies q) \in \cl S\), i.e.\ \((p \implies q) \in \cl S\). But \(\yields q \implies (p \implies q)\) so \(\cl S \yields (p \implies q)\).
  \item if \(v(p) = 0\), we have \(p \implies \cl S\). Then \((\neg p) \in \cl S\). We want \((p \implies q) \in \cl S\). Thus we need \((p \implies \bot) \yields (p \implies q)\), which by Deduction theorem is equivalent to \(\{p \implies \bot, p\} \yields q\). Thus suffices to show that \(\bot \yields q\). But we have \(\yields (\neg \neg q) \implies q\), and \(\yields (\bot \implies (\neg \neg q))\). Thus \(\yields (\bot \implies q)\), i.e.\ \(\bot \implies q\). Done.
  \end{itemize}
\end{proof}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item Sometimes this is called Completeness Theorem.
  \item What would happen if \(P\) is uncountable? In fact, the result still holds if \(P\) is uncountable. See Chapter 3.
  \end{enumerate}
\end{remark}

By remark before the above theorem, we now have

\begin{corollary}[Adequacy]
  Let \(S \subseteq L, t \in L\). Then if \(S \models t\) then \(S \yields t\).
\end{corollary}

\begin{theorem}[Completeness Theorem]\index{Completeness Theorem}
  Let \(S \subseteq L, t \in L\). Then \(S \yields t\) if and only if \(S \models t\).
\end{theorem}

\begin{proof}
  By soundness and adequacy.
\end{proof}

Some consequences:

\begin{corollary}[Compactness Theorem]
  Let \(S \subseteq L, t \in L\) with \(S \models t\). Then there exists a finite \(S' \subseteq S\) with \(S' \models t\).
\end{corollary}

\begin{proof}
  Trivial if we replace \(\models\) with \(\yields\) as proofs are finite.
\end{proof}

Specialising to \(t = \bot\), this theorem says that if \(S\) has no model then some finite \(S' \subseteq S\) has no model. Equivalently,

\begin{corollary}[Compactness Theorem, equivalent form]
  Let \(S \subseteq L\). If every finite finite subset of \(S\) has a model then \(S\) has a model.
\end{corollary}

\begin{proof}
  This is equivalent to the previous corollary because \(S \models t\) if and only if \(S \cup \{\neg t\}\) has no model and \(S' \models t\) if and only if \(S' \cup \{\neg p\}\) has no model.
\end{proof}

\begin{corollary}[Decidability Theorem]
  There is an algorithm to determine (in finite time) whether or not, for a given \(S \subseteq L, t\in L\), we have \(S \yields t\).
\end{corollary}

\begin{remark}
  Highly non-obvious.
\end{remark}

\begin{proof}
  Trivial to decide if \(S \models t\), just by drawing a truth table.
\end{proof}





\printindex

\iffalse
logic is the interplay of syntax and semantics
set: stuff with sets, universe of sets

Contents

1: Propositional logic
2: Well-ordering and ordinals
3: Posets and Zorn's Lemma
4: Predicate logic
5: Set theory
6: Cardinals

Reading:
Johnstone, Notes on logic and set theory
van Dalen, Logic and structure
Hainal & Hamburger, Set theory
Forster, Logic, induction and sets
\fi

\end{document}
