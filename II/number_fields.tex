\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Number Fields}
\def\nlecturer{J.\ Thorne}

\def\nterm{Lent}
\def\nyear{2018}

\input{header}

\renewcommand*{\O}{\mathcal{O}}

\makeindex

\begin{document}

\input{titlepage}

\tableofcontents

\setcounter{section}{-1}

\section{Motivation}

Recall the following example from IB Groups, Rings and Modules:

\begin{theorem}
  Let \(p\) be an odd prime, then \(p = a^2 + b^2\) if and only if \(p = 1 \mod 4\).
\end{theorem}

\begin{proof}
  If \(p = a^2 + b^2\) then \(p = 0, 1 \text{ or } 2 \mod 4\) so this condition is necessary.

  Suppose instead \(p = 1 \mod 4\), then \(\binom{-1}{p} = 1\) so there exists \(a \in \Z\) such that \(a^2 = 1 \mod p\), or \(p \divides a^2 + 1\). We can factor \(a^2 + 1 = (a + i)(a - i) \in \Z[i]\). We know from IB Groups, Rings and Modules that \(\Z[i]\) is a UFD. As \(p \divides (a + i)(a - i)\), if \(p\) is irreducible in \(\Z[i]\)  then \(p \divides a + i\) or \(p \divides a - i\). Thus \(p \in \Z[i]\) is reducible so \(p = z_1z_2\) with \(z_1z_2 \in \Z[i]\). If \(z_1 = A + Bi\) where \(A, B \in \Z\) then \(A^2 + B^2 = p\).
\end{proof}

\begin{notation}
  If \(R \subseteq S\) are rings and \(\alpha \in S\) then
  \[
    R[\alpha] = \left\{ \sum{i = 0}^n a_i\alpha^i \in s: a_i \in R \right\}
  \]
  which is the smallest subring of \(S\) containing both \(R\) and \(\alpha\).
\end{notation}

Another example is given \(p\) an odd prime, does the equation
\[
  x^p + y^p = z^p
\]
have solutions such that \(x, y, z \in \Z, xyz \neq 0\)?

\begin{theorem}[Kummer, 1850]
  If \(\Z[e^{2\pi i/p}]\) is a UFD then there are no solutions.
\end{theorem}

The strategy is to factor
\[
  x^p + y^p = \prod_{j = 0}^{p - 1} (x + e^{2\pi ij/p}j) \in \Z[e^{2\pi i/p}].
\]
We now know that \(\Z[e^{2\pi i/p}]\) is a UFD if and only if \(p \leq 19\), so unfortunately this does not lead us very far. Instead, we have the more power theorem

\begin{theorem}[Kummer, 1850]
  If \(p\) is a \emph{regular} prime then there are no solutions.
\end{theorem}

We will define regular prime later in this course. This theorem is more powerful that the previous one. To give an idea, if \(p < 100\) then \(p\) is regular if and only if \(p \neq 37, 59, 67\).

Given a number field, this course studies the ring of integers. In the end of the course we will come back to Kummer's theorem.

\section{Rings of integers}

Recall that a field extension \(L/K\) is an inclusion \(K \subseteq L\) of fields. The degree of \(L/K\) is
\[
  [L:K] = \dim_K L.
\]
We say \(L/K\) is finite if \([L:K] < \infty\).

\begin{definition}[Number field]\index{number field}
  A \emph{number field} is a finite extension \(L/\Q\).
\end{definition}

Here are two ways to construct number fields:
\begin{enumerate}
\item Let \(\alpha \in \C\) be an algebraic number. Then \(L = \Q(\alpha)\) is a number field.
\item Let \(K\) be a number field \(K\) and \(f(x) \in K[x]\) be irreducible. Then \(L = K[x]/(f(x))\) is a number field. Recall Tower Law from IID Galois Theory:
  \[
    [L:\Q] = [L:K][K:\Q] < \infty.
  \]
\end{enumerate}
Note that the first one comes with an embedding in \(\C\), but the second one doesn't (and in general there are more than one).

\begin{definition}[Algebraic integer]\index{algebraic integer}\leavevmode
  \begin{enumerate}
  \item Let \(L/K\) be a field extension. We say \(\alpha \in L\) is \emph{algebraic} over \(K\) if there exists a monic polynomial \(f(x) \in K[x]\) such that \(f(\alpha) = 0\).
  \item Let \(L/\Q\) be a field extension. We say \(\alpha \in L\) is an \emph{algebraic integer} if there exists a monic polynomial \(f(x) \in \Z[x]\) such that \(f(\alpha) = 0\).
  \end{enumerate}
\end{definition}

\begin{definition}[Minimal polynomial]\index{minimal polynomial}
  Let \(L/K\) be a field extension and let \(\alpha \in L\) be an algebraic over \(K\). We call the \emph{minimal polynomial} of \(\alpha\) over \(K\) the monic polynomial \(f_\alpha(x) \in K[x]\) of the least degree such that \(f_\alpha(\alpha) = 0\).
\end{definition}

Note that \(f_\alpha(x)\) is well-defined: firstly there exists some monic \(f(x) \in K[x]\) such that \(f(\alpha) = 0\) since \(\alpha\) is algebraic. If \(f_\alpha(x), f_\alpha'(x) \in K[x]\) both satisfy the definition of minimal plynomial then we apply the polynomial division algorithm to write
\[
  f_\alpha(x) = q(x)f_\alpha'(x) + r(x)
\]
where \(p(x), r(x) \in K[x]\) and \(\deg r < \deg f_\alpha'\). Evaluate at \(\alpha\), we get
\[
  0 = f_\alpha(\alpha) = p(\alpha)f_\alpha'(\alpha) + r(\alpha) = r(\alpha)
\]
so by minimality of \(\deg f_\alpha'\), \(r = 0\). Then \(\deg f_\alpha = \deg f_\alpha'\) and they are both monic so \(p = 1\). \(f_\alpha = f_\alpha'\).

\begin{lemma}
  Let \(L/\Q\) be a field extension and let \(\alpha \in L\) to be an algebraic integer. Then
  \begin{enumerate}
  \item the minimal polynomial \(f_\alpha(x)\) of \(\alpha\) over \(\Q\) lies in \(\Z[x]\);
  \item if \(g(x) \in \Z[x]\) satisfies \(g(\alpha) = 0\) then there exists \(q(x) \in \Z[x]\) such that \(g(x) = f_\alpha(x)q(x)\);
  \item the kernel of the ring homomorphism
    \begin{align*}
      \Z[x] &\to L \\
      f(x) &\mapsto f(\alpha)
    \end{align*}
    equals to \((f_\alpha(x))\).
  \end{enumerate}
\end{lemma}

\begin{proof}\leavevmode
  \begin{enumerate}
  \item Recall from IB Groups, Rings and Modules that given \(f(x) = \sum_{i = 0}^n a_ix^i \in \Z[x]\), we define the content to be
    \[
      c(f) = \gcd(a_n, \dots, a_0).
    \]
    Gauss' Lemma says that if \(f(x), g(x) \in \Z[x]\) then \(c(fg) = c(f)c(g)\).

    Since \(\alpha \in L\) is an algebraic integer, there exists a monic \(f(x) \in \Z[x]\) such that \(f(\alpha) = 0\). Thus \(c(f) = 1\). Apply polynomial division in \(\Q[x]\) to get
    \[
      f(x) = p(x)f_\alpha(x) + r(x)
    \]
    where \(p(x), r(x) \in \Q[x]\). Same as before, we must have \(r(x) = 0\) so \(f(x) = p(x)f_\alpha(x)\). Now choose integers \(n, m \geq 1\) such that \(np(x) \in \Z[x], c(np) = 1\) and \(mf_\alpha(x) \in \Z[x], c(mf_\alpha) = 1\). Then
    \[
      nmf(x) = np(x) \cdot mf_\alpha(x).
    \]
    Take contents,
    \[
      nm = c(nmf(x)) = c(np \cdot mf_\alpha) = c(np)c(mf_\alpha) = 1.
    \]
    Thus \(n = m = 1\) so \(f_\alpha(x) \in \Z[x]\).
  \item This is similar to the previous one. Let \(g(x) \in \Z[x]\) be such that \(g(\alpha) = 0\). wlog \(g(x) \neq 0\) and \(c(g) = 1\). We deduce \(g(x) = q(x)f_\alpha(x)\) where \(q(x) \in \Q[x]\). Choose \(k \geq 1\) such that \(kq(x) \in \Z[x]\) and \(c(kq) = 1\). Then
    \[
      k = c(kg) = c(kq \cdot f_\alpha) = c(kq) c(f_\alpha) = 1
    \]
    so \(q(x) \in \Z[x]\).
  \item Reformulation of (2).
  \end{enumerate}
\end{proof}

\begin{corollary}
  If \(a \in \Q\), then \(\alpha\) is an algebraic integer if and only if \(\alpha \in \Z\).
\end{corollary}

\begin{proof}
  By the above lemma, \(\alpha\) is an algebraic integer if and only if \(f_\alpha(x) \in \Z[x]\). If \(\alpha \in \Q\) then \(f_\alpha(x) = x - \alpha\).
\end{proof}

\begin{notation}
  If \(L/\Q\) is a field extension, we write
  \[
    \O_L = \{\alpha \in L: \alpha \text{ is an algebraic integer}\}.
  \]
\end{notation}

\begin{proposition}
  If \(L/\Q\) is a field extension, \(\O_L\) is a ring.
\end{proposition}

\begin{proof}
  \(0, 1 \in \O_L\). If \(\alpha \in \O_L\) then
  \[
    f_{-\alpha}(x) = (-1)^{\deg f_\alpha} f_\alpha(-x)
  \]
  so \(-\alpha \in \O_L\). Easy. Now given \(\alpha, \beta \in \O_L\), we need to show \(\alpha + \beta, \alpha\beta \in \O_L\). First notice the following characterisation of algebraic integers: if \(\alpha \in \O_L\) then \(\Z[\alpha] \subseteq L\) is a finitely generated \(\Z\)-module: by definition, \(\Z[\alpha]\) is generated by \(1, \alpha, \alpha^2, \dots\). Let
  \[
    f_\alpha(x) = x^d + a_1x^{d - 1} + \dots + a_d \in \Z[x],
  \]
  then
  \[
    \alpha^d = -(a_1\alpha^{d - 1} + \dots + a_d) \in \sum_{i = 0}^{d - 1} \Z \alpha^i.
  \]
  Thus by induction, \(\alpha^n \in \sum_{i = 0}^{d - 1}\Z \alpha^i\) for all \(n \geq d\).

  Now take \(\alpha, \beta \in \O_L\) and let \(d = \deg f_\alpha, e = \deg f_\beta\). By definition, \(\Z[\alpha, \beta] = \Z[\alpha][\beta]\) is generated as an \(\Z\)-module by \(\{\alpha^i\beta^j\}_{i, j \in \N_0}\). The same argument shows that in fact the ring is generated as a \(\Z\)-module by \(\{\alpha^i\beta^j\}_{0 \leq i < d, 0 \leq j < e}\). Now use classification of finitely generated \(\Z\)-modules, there is an isomorphism
  \[
    \Z[\alpha, \beta] \cong \Z^r \oplus T
  \]
  for some \(r \geq 1\) and finite abelian group \(T\). In fact \(T = 0\): if \(\gamma \in T\) then \(|T|\gamma = 0\) by Lagrange's Theorem. But \(\Z[\alpha, \beta] \subseteq L\), a \(\Q\)-vector space, so this forces \(\gamma = 0\). We can therefore fix an isomorphism
  \[
    \Z[\alpha, \beta] \cong \Z^r
  \]
  for some \(r \geq 1\). Now there is a \(\Z\)-module endomorphism
  \begin{align}
    m_{\alpha\beta}: \Z[\alpha, \beta] &\to \Z[\alpha, \beta] \\
    \gamma &\mapsto \alpha\beta\gamma
  \end{align}
  \(m_{\alpha\beta}\) can be represented by an \(r \times r\) matrix \(A_{\alpha\beta} \in \matrixring_{r \times r}(\Z)\). Let
  \[
    F_{\alpha\beta}(x) = \det(x \cdot I_r - A_{\alpha\beta}) \in \Z[x]
  \]
  be the characteristic polynomial. Then by Cayley-Hamilton Theorem,
  \[
    F_{\alpha\beta}(m_{\alpha\beta}) = 0.
  \]
  Write
  \[
    F_{\alpha\beta}(x) = x^r + b_1x^{r - 1} + \dots + b_r \in \Z[x]
  \]
  so
  \[
    m_{\alpha\beta}^r + b_1m_{\alpha\beta}^{r - 1} + \dots + b_r \cdot \id = 0.
  \]
  Apply the above endomorphism to \(1 \in \Z[\alpha, \beta]\), we get
  \[
    (\alpha\beta)^r + b_1(\alpha\beta)^{r - 1} + \dots + b_r = F_{\alpha\beta}(\alpha\beta) = 0
  \]
  so \((\alpha\beta)^r \in \O_L\).

  The argument to show \(\alpha + \beta \in \O_L\) is identical, replacing \(m_{\alpha\beta}\) by
  \begin{align*}
    m_{\alpha + \beta}: \Z[\alpha, \beta] &\to \Z[\alpha, \beta] \\
    \gamma &\mapsto (\alpha + \beta)\gamma
  \end{align*}
\end{proof}

\begin{definition}[Ring of integers]\index{ring of integers}
  \(\O_L\) is the \emph{ring of algebraic integers} of \(L\).
\end{definition}

\begin{lemma}
  Let \(L/\Q\) be a number field and let \(\alpha \in L\). Then there exists \(n \in \Z, n \geq 1\) such that \(n \alpha \in \O_L\).
\end{lemma}

\begin{proof}
  Let \(f(x) \in \Q[x]\) be a monic polynomial such that \(f(\alpha) = 0\). Then there exists \(n \in \Z, n \geq 1\) such that \(g(x) = n^{\deg f} f(x/n) \in \Z[x]\) is monic. Then
  \[
    g(n\alpha) = n^{\deg f} f(\alpha) = 0
  \]
  so \(n\alpha \in \O_L\).
\end{proof}

\section{Complex Embeddings}

Let \(L\) be a number field.

\begin{definition}[Complex embedding]\index{complex embedding}
  A \emph{complex embedding} of \(L\) is a field homomorphism
  \[
    \sigma: L \to \C.
  \]
\end{definition}

\begin{note}
  In this case \(\sigma\) is injective and \(\sigma|_\Q\) is the unique embedding \(\Q \to \C\).
\end{note}

\begin{proposition}
  Let \(L/K\) be an extension of number fields, and let \(\sigma_0: K \to \C\) be a complex embedding. Then there exist exactly \([L:K]\) embeddings \(\sigma: L \to \C\) such that \(\sigma|_K = \sigma_0\).
\end{proposition}

\begin{proof}
  By induction on \([L:K]\). If \([L:K] = 1\) then \(L = K\).

  In general, choose \(\alpha \in L \setminus K\) and consider \(L/K(\alpha)/K\). By the Tower Law
  \[
    [L:K] = [L:K(\alpha)][K(\alpha):K]
  \]
  and \([K(\alpha):K] > 1\). By induction, it suffices to show that there are exactly \([K(\alpha):K]\) embeddings \(\sigma: K(\alpha) \to \C\) extending \(\sigma_0\). Let \(f_\alpha(x) \in K[x]\) be the minimal polynomial of \(\alpha\) over \(K\). Notice that there is an isomorphism of fields
  \begin{align*}
    K[x]/(f_\alpha(x)) &\to K(\alpha) \\
    x &\mapsto \alpha
  \end{align*}
  To get a complex embedding \(\sigma: K(\alpha) \to \C\) extending \(\sigma_0\), it's equivalent to give a root \(\beta\) of \((\sigma_0f_\alpha)(x)\) in \(\C\). We have
  \[
    [K(\alpha):K] = \deg f_\alpha = \deg \sigma_0f_\alpha
  \]
  so it suffices to show that \(\sigma_0f_\alpha\) has distinct roots in \(\C\). The polynomial \(f_\alpha(x) \in K[x]\) is irreducible so is prime to its derivative \(f_\alpha'(x)\). We can therefore find \(A(x), B(x) \in K[x]\) such that
  \[
    Af_\alpha + Bf_\alpha' = 1.
  \]
  Hence
  \[
    (\sigma_0 A)(\sigma_0f_\alpha) + (\sigma_0B)(\sigma_0f_\alpha') = 1.
  \]
  Hence if \(\beta \in \C\) and \((\sigma_0f_\alpha)(\beta) = 0\), \((\sigma_0f_\alpha')(\beta) \neq 0\).
\end{proof}






\printindex


\iffalse
Reading

Marcus, Number Fields
secret notes: https://www.dpmms.cam.ac.uk/~jat58/nfl2018
\fi
\end{document}
