\documentclass[a4paper]{article}

\def\npart{II}

\def\ntitle{Linear Analysis}
\def\nlecturer{R.\ Bauerschmidt}

\def\nterm{Michaelmas}
\def\nyear{2018}

\input{header}

\newtheorem*{fact}{Fact}

\newcommand{\K}{{\mathbb{K}}} % field

\begin{document}

\input{titlepage}

\tableofcontents

\section{Normed spaces and linear operators}

Unless stated, vector spaces are real or complex, and \(\K\) stands for \(\R\) or \(\C\).

\subsection{Normed vector spaces}

\begin{definition}[normed vector space]\index{normed vector space}
  A \emph{normed vector space} \((X, \norm{\cdot})\) is a vector space \(X\) with a norm \(\norm{\cdot}: X \to \R, x \mapsto \norm x\) satisfying
  \begin{enumerate}
  \item positive-definite: \(\norm x \geq 0\) for all \(x \in X\) and \(\norm x = 0\) if and only if \(x = 0\),
  \item positive homogeneity: \(\norm{\lambda x} = |\lambda| \norm x\) for all \(\lambda \in K\) and \(x \in X\),
  \item triangle inequality: \(\norm{x + y} \leq \norm x + \norm y\) for all \(x, y \in X\).
  \end{enumerate}
\end{definition}

In particular, every norm induces a \emph{metric} by \(d(x, y) = \norm{x - y}\).

\begin{fact}
Vector space operations and the norm are continuous maps, i.e.\ the following maps
\begin{align*}
  \K \times X &\to X \\
  (\lambda, x) &\mapsto \lambda x \\
  X \times X &\to X \\
  (x, y) &\mapsto x + y \\
  X &\to \R \\
  x &\mapsto \norm x
\end{align*}
are continuous and the metric is translation invariant: \(d(x, y) = d(x + z, y + z)\) for all \(x, y, z \in X\).
\end{fact}

\begin{proof}
  We only check scalar multiplication. The others are left as exercises. Since \(\K\) and \(X\) are both metric spaces, it suffices to check that \(\lambda_j \to \lambda\) in \(\K\) and \(x_j \to x\) in \(X\) implies \(\lambda_j x_j \to \lambda x\).

  Indeed,
  \begin{align*}
    &\norm{\lambda_j x_j - \lambda x} \\
    =& \norm{(\lambda_j - \lambda) x_j + \lambda(x_j - x)} \\
    \leq& \norm{(\lambda_j - \lambda) x_j} + \norm{\lambda(x_j - x)} \\
    =& |\lambda_j - \lambda| \norm{x_j} +|\lambda| \norm{x_j - x} \\
    \to& 0
  \end{align*}
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\ell_n^2 = (\R^n, \norm \cdot_2)\) where \(\norm x_2 = (\sum_{i = 1}^n |x_i|^2)^{1/2}\), i.e.\ Euclidean norm.
  \item \(\ell_n^1 = (\R^n, \norm \cdot_1)\) where \(\norm x_1 = \sum_{i = 1}^n |x_i|\).
  \item \(\ell_n^\infty = (\R^n, \norm \cdot_\infty)\) where \(\norm x_\infty = \max_i |x_i|\).
  \end{enumerate}
\end{eg}

It is often useful to consider the \emph{unit ball} \(B = B(X) = \{x \in X: \norm x \leq 1\}\). (Pictures)

\begin{fact}\leavevmode
\begin{enumerate}
\item \(B\) determines the norm through \(\norm x = \inf \{t > 0: x \in tB\}\).
\item \(B\) is \emph{convex}: for all \(x, y \in B, \lambda \in (0, 1), \lambda x + (1 - \lambda) y \in B\).
\end{enumerate}
\end{fact}

\begin{remark}
  Any set \(B \subseteq \R^n\) which is a closed, bounded, symmetric (\(x \in B \implies -x \in B\)) neighbourhood of \(0\) defines a norm by the same formula as above and \(B\) is the unit ball of that norm, although we will not use this fact in the course.
\end{remark}

\subsection{The space \(\mathcal l^p\)}

Let \(S = \{x = (x_i)_{i = 1}^\infty \subseteq \K\}\) be the set of scalar sequences with
\begin{align*}
  x + y &= (x_i)_i + (y_i)_i = (x_i + y_i)_i, \\
  \lambda x &= \lambda (x_i)_i = (\lambda x_i)_i.
\end{align*}

\begin{definition}
  For \(1 \leq p < \infty\), let \(\ell^p = \{x \in S: \sum_n |x_n|^p < \infty\}\) with norm \(\norm x_p = (\sum_n |x_n|^p)^{1/p}\). let \(\ell^\infty = \{x \in S: \sup_n |x_n| < \infty\}\) with norm \(\norm x_\infty = \sup_n |x_n|\). Finally, \(c_0 = \{x \in S: x_n \to 0\}\) with norm \(\norm x_\infty = \sup_n |x_n|\).
\end{definition}

We have yet proved \(\norm \cdot_p\) is a norm for general \(p\). The triangle inequality follows from Minkowski's inequality, discussed next.

Recall that \(f: \R^+ \to \R\) is \emph{convex} if
\[
  f(\lambda t + (1 - \lambda) s) \leq \lambda f(t) + (1 - \lambda) f(s)
\]
for all \(s, t \in \R^+, \lambda \in (0, 1)\). Graphically, the graph of \(f\) lies below the secant between any two points on the graph. \(f\) is concave if \(-f\) is convex. Note that \(\log: \R^+ \to \R\) is a concave function.

\begin{corollary}
  Let \(1 < p, q < \infty\) with \(\frac{1}{p} + \frac{1}{q} = 1\). Then
  \[
    \frac{1}{p} |x|^p + \frac{1}{q} |y|^q \geq |x| \cdot |y|
  \]
  for all \(x, y \in \K\).
\end{corollary}

\begin{proof}
  Set \(t = |x|^p, s = |y|^q, \lambda = \frac{1}{p}\). Then
  \begin{align*}
    &\frac{1}{p} |x|^p + \frac{1}{q} |y|^q \geq |x| |y| \\
    \iff& \lambda t + (1 - \lambda) s \geq t^\lambda s^{1 - \lambda} \\
    \iff& \log (\lambda t + (1 - \lambda) s) \geq \lambda \log t + (1 - \lambda) \log s
  \end{align*}
  which holds by concavity of \(\log\).
\end{proof}

\begin{theorem}[Hölder's inequality]\index{Hölder's inequality}
  Let \(1 < p, q < \infty\) with \(\frac{1}{p} + \frac{1}{q} = 1\), let \(x \in \ell^p, y \in \ell^q\). Then \(xy = (x_ny_n)_n \in \ell^1\) and
  \[
    \norm{xy}_1 \leq \norm x_p \norm x_q.
  \]
\end{theorem}

\begin{proof}
  It suffcies to assumes that \(\norm x_p = 1 = \norm y_q\). By Hölder's inequality,
  \[
    \sum_{n = 1}^N |x_n y_n| \leq \frac{1}{p} \sum_{n = 1}^N |x_n|^p + \frac{1}{q} \sum_{n = 1}^N |y_n|^q.
  \]
  Take \(N \to \infty\),
  \[
    \norm{xy}_1 \leq \frac{1}{p} + \frac{1}{q} = 1 = \norm x_p \norm y_q.
  \]
\end{proof}

\begin{theorem}[Minkowski's inequality]\index{Minkowski's inequality}
  Let \(1 < p < \infty\) and let \(x, y \in \ell^p\). Then \(x + y \in \ell^p\) and \(\norm{x + y}_p \leq \norm x_p + \norm y_p\).
\end{theorem}

\begin{proof}
  We call the power \(r\). Have
  \begin{align*}
    & \sum_n |x_n + y_n|^r \\
    =& \sum_n |x_n + y_n|^{r - 1}|x_n + y_n| \\
    \leq& \sum_n |x_n + y_n|^{r - 1} |x_n| + \sum_n |x_n + y_n|^{r - 1} |y_n| \\
    \intertext{Applying Hölder's inequality for \(p = \frac{r}{r - 1}, q = r\) to the first term and similarly to the second term,}
    \leq& \left( \sum_n |x_n + y_n|^r \right) ^{\frac{r - 1}{r}} \left( \sum_n |x_n|^r \right)^{\frac{1}{r}} + \left( \sum_n |x_n + y_n|^r \right) ^{\frac{r - 1}{r}} \left( \sum_n |y_n|^r \right)^{\frac{1}{r}}
  \end{align*}
  Divide by both sides by a common factor, get
  \[
    \norm{x + y}_r \leq \norm x_r + \norm y_r.
  \]
\end{proof}

\subsection{Banach spaces}

\begin{definition}[Banach space]\index{Banach space}
  A normed vector space is a \emph{Banach space} if it is \emph{complete} as a metric space, i.e.\ every Cauchy sequence converges.
\end{definition}

\begin{ex}
  For \(1 \leq p \leq \infty\), the space \(\ell^p\) is complete.
\end{ex}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Any finite dimensional normed space is a Banach space.
  \item Let \(S\) be a set and let \(B(S)\) be the vector space of bounded functions on \(S\). Then \(B(S)\) is a Banach space with norm \(\norm f_\infty = \sup_{s \in S} |f(s)|\).
  \item Let \(K\) be a compact Hausdorff space (for concreteness, take \([0, 1]\)) and let \(C(K)\) be the space of continuous functions on \(K\). Then \(C(K) \subseteq B(K)\) as every continuous function on \(K\) is bounded. Moreover \(C(K) \subseteq B(K)\) is closed as the uniform limit of a sequence of continuous functions is continuous. Therefore \(C(K)\) is a Banach space with norm \(\norm \cdot_\infty\).
  \item Let \(U \subseteq \R^n\) be open bounded and let \(C^k(\cl U)\) be the space of functions \(f: \cl U \to \K\) \(k\)-times continuously differentiable on \(U\). Then \(C^k(\cl U)\) is a Banach space with norm
    \[
      \norm f_{C^k(\cl U)} = \max_{|\alpha| < k} \norm{D^\alpha f}_\infty,
    \]
    where
    \[
      D^\alpha(f(x)) = \frac{\partial^{|\alpha|} f}{\partial x_1^{\alpha_1} \dots \partial x_n^{\alpha_n}}
    \]
    where \(\alpha = (\alpha_1, \dots, \alpha_n) \in \N_0^n, |\alpha| = \sum_{i = 1}^n \alpha_i\).
  \item Let \(X\) be the space of continuous functions on \([0, 1]\). Then for \(p \in [1, \infty)\),
    \[
      \norm f_p = \left( \int_0^1 |f(x)|^p dx \right)^{1/p}
    \]
    is a norm on \(X\). However, \(X\) is \emph{not} complete in this norm! In IID Probability and Measure, we will show that its completion has a very nice description, namely \(L^p\).
  \item Let \(D = \{z \in \C: |z| < 1\}\) and let \(A(\cl D)\) be the space of continuous functions \(f: \cl D \to \C\) that are analytic in \(D\). Then \(A(\cl D)\) is complete with \(\norm \cdot_\infty\) because the uniform limit of a sequence of analytic functions is analytic.
  \end{enumerate}
\end{eg}

In example 3 above we used the following fact:

\begin{fact}
  Let \(X\) be a normed space and \(Y \leq X\) a subspace. Then
  \begin{enumerate}
  \item if \(Y\) is complete then \(Y\) is closed in \(X\).
  \item if \(X\) is complete and \(Y\) is closed then \(Y\) is complete.
  \end{enumerate}
\end{fact}

\begin{proof}\leavevmode
  \begin{enumerate}
  \item Let \(x \in \cl Y\). Then there is \((y_n) \subseteq Y\) such that \(y_n \to x\). In particular, \((y_n)\) is Cauchy so converges to some \(y \in Y\) by completeness. Thus by uniqueness of limit \(x = y \in Y\).
  \item Suppose \((y_n) \subseteq Y\). Then \((y_n)\) is Cauchy in \(X\). By completeness there is \(x \in X\) such that \(y_n \to x\). Since \(Y\) is closed, in fact \(x \in Y\).
  \end{enumerate}
\end{proof}

\begin{definition}[separable]\index{separable}
  A topological space is \emph{separable} if it has a countable dense subset.
\end{definition}

\begin{ex}\leavevmode
  \begin{enumerate}
  \item For \(1 \leq p < \infty\), \(\ell^p\) is separable.
  \item \(\ell^\infty\) is not separable.
  \item \(c_0\) is separable.
  \end{enumerate}
\end{ex}

\subsection{Bounded operators and the dual space}

\begin{proposition}
  Let \(X, Y\) be normed spaces, \(T: X \to Y\) linear, then TFAE:
  \begin{enumerate}
  \item \(T\) is continuous.
  \item \(T\) is continuous at \(0\).
  \item \(T\) is bounded, i.e.\ there is \(C > 0\) such that \(\norm{Tx} \leq C \norm x\) for all \(x \in X\).
  \end{enumerate}
\end{proposition}

\begin{proof}\leavevmode
  \begin{itemize}
  \item \(1 \implies 2\): obvious.
  \item \(2 \implies 3\): since \(T\) is continuous at \(0\) and \(\{y \in Y: \norm y \leq 1\}\) is a neighbourhood of \(0 = T(0) \in Y\), there is \(\delta > 0\) such that \(\norm x < \delta\) implies that \(\norm{T x} \leq 1\). For any \(x \in X, x \neq 0\), by linearity,
    \[
      \norm{T x} = \frac{\norm x}{\delta} \norm{T \left(\delta \frac{x}{\norm x} \right)} \leq \frac{\norm x}{\delta}.
    \]
  \item \(3 \implies 1\): let \(\varepsilon > 0\). Set \(\delta = \frac{\varepsilon}{C}\). Then \(\norm{x - y} < \delta\) implies that
    \[
      \norm{Tx - Ty} = \norm{T(x - y)} \leq C \norm{x - y} \leq \varepsilon
    \]
    so \(T\) is (uniformly) continuous.
  \end{itemize}
\end{proof}

The infimum of such \(C\) is called

\begin{definition}[operator norm]\index{operator norm}
  For \(T: X \to Y\) bounded linear, the \emph{operator norm} is
  \[
    \norm T = \norm T_{\text{op}} = \sup_{\norm x \leq 1} \norm{Tx}.
  \]
\end{definition}

\begin{notation}
  \(B(X, Y) = \{T: X \to Y \text{ bounded and linear}\}\).
\end{notation}

\begin{fact}
  \(B(X, Y)\) is a normed space with norm given by the operator norm.
\end{fact}

\begin{proof}
  Let \(T, S \in B(X, Y)\). Then
  \[
    \norm{(T + S)x} = \norm{Tx + Sx}
    \leq \norm{Tx} + \norm{Sx}
    \leq (\norm T + \norm S) \norm x
  \]
  so \(\norm{T + S} \leq \norm T + \norm S\).

  The other axioms are clear.
\end{proof}

\begin{eg}
  Let \(p \in (1, \infty)\).
  \begin{enumerate}
  \item Define
    \begin{align*}
      T: \ell^p &\to \ell^p \\
      (x_1, x_2, \dots) &\mapsto (x_1, x_2, \dots, x_r, 0, 0, \dots)
    \end{align*}
    for some fixed \(r > 0\). Then \(T \in B(\ell^p, \ell^p)\) with \(\norm T = 1\).
  \item Define
    \begin{align*}
      T: \ell^p &\to \ell^p \\
      (x_1, x_2, \dots) &\mapsto (0, x_1, x_2, \dots ),
    \end{align*}
    called the right shift operator. Then \(T \in B(\ell^p, \ell^p)\) with \(\norm T = 1\). In fact, \(\norm{Tx} = \norm x\) for all \(x \in \ell^p\). This means that \(T\) is an isometry but not surjective.
  \item Similarly define
    \begin{align*}
      S: \ell^p &\to \ell^p \\
      (x_1, x_2, \dots) &\mapsto (x_2, x_3, \dots)
    \end{align*}
    with \(\norm S = 1\). Note that \(S\) is surjective but not injective. \(ST = \id \neq TS\).
  \item Let \(p, q \in [1, \infty]\) with \(\frac{1}{p} + \frac{1}{q} = 1\). Fix \(y \in \ell^q\) and define
    \begin{align*}
      \phi_y: \ell^p & \to \K \\
      x &\mapsto (x, y) := \sum_{n} x_yy_n
    \end{align*}
    i.e.\ \(\phi_y = (\cdot, y)\). By Hölder's inequality, this is well-defined and \(\norm{\phi_y} \leq \norm y_q\).
  \item An unbounded map: let \(F\) be the space of finite real sequences with \(\norm \cdot_1\). Define
    \begin{align*}
      T: F &\to \R \\
      (x_1, \dots, x_n, 0, 0, \dots) &\mapsto \sum_{i = 1}^n i x_i
    \end{align*}
    Then \(T\) is not bounded (i.e.\ not continuous) as \(\norm{T e_n} = n \to \infty\) as \(n \to \infty\).
  \item Define
    \begin{align*}
      T: \ell^1 &\to \ell^2 \\
      x &\mapsto x
    \end{align*}
    which has \(\norm T = 1\) because \(\sum_n |x_n| \leq 1\) implies \(\sum_n |x_n|^2 \leq 1\). But \(T\ell^1 \neq \ell^2\). Since \(T\ell^1\) is also dense in \(\ell^2\), \(T\ell^1\) is not closed in \(\ell^2\) and thus not complete.
  \end{enumerate}
\end{eg}

\begin{definition}[isomorphism, isometric isomorphism]\index{isomorphism}\index{isometric isomorphism}
  Let \(X\) and \(Y\) be normed spaces. Then
  \begin{enumerate}
  \item an \emph{isomorphism} from \(X\) to \(Y\) is a map \(T: X \to Y\) that is a linear homeomorphism. Thus \(T \in B(X, Y)\) and \(T^{-1} \in B(X, Y)\), i.e.\ there are \(C_1, C_2 > 0\) such that
    \[
      C_1 \norm x \leq \norm{Tx} \leq C_2 \norm x
    \]
    for all \(x \in X\).
  \item a bijective linear map \(T: X \to Y\) is an \emph{isometric isomorphism} if \(\norm{Tx} = \norm x\) for all \(x \in X\).
  \end{enumerate}

\end{definition}

\begin{definition}[dual space]\index{dual space}
  Let \(X\) be a normed space. Its \emph{dual space} is
  \[
    X^* = B(X, \K).
  \]

  A linear map \(X \to \K\) is called a \emph{functional}.
\end{definition}

\begin{theorem}
  Let \(X\) and \(Y\) be normed spaces with \(Y\) complete. Then \(B(X, Y)\) is also complete. In particular \(X^* = B(X, \K)\) is complete.
\end{theorem}

\begin{proof}
  Let \((T_n)_n \subseteq B(X, Y)\) be a Cauchy sequence. Then for every \(x \in X\), the sequence \((T_nx)_n \subseteq Y\) is Cauchy:
  \[
    \norm{T_n x - T_mx}
    = \norm{(T_n - T_m) x}
    \leq \underbrace{\norm{T_n - T_m}}_{< \frac{\varepsilon}{\norm x}} \norm x
    \leq \varepsilon
  \]
  Since \(Y\) is complete, there is \(y \in Y\) such that \(T_nx \to y\). Set \(Tx = y\). Need to check \(T \in B(X, Y)\) and \(\norm{T_n - T} \to 0\).
  \begin{itemize}
  \item \(T\) is linear:
    \begin{align*}
      &T(\lambda x + \mu y) \\
      =& \lim_{n \to \infty} T_n(\lambda x + \mu y) \\
      =& \lim_{n \to \infty} (\lambda T_n x + \mu T_n y) \\
      =& \mu T_x + \mu T_y
    \end{align*}
  \item \(T\) is bounded: for \(\norm x \leq 1\),
    \begin{align*}
      &\norm{Tx} \\
      \leq& \norm{T_nx} + \norm{(T_n - T) x} \\
      \leq& \norm{T_n} + \varepsilon \\
      \leq& \sup_n \norm{T_n}
    \end{align*}
    which is bounded as \((T_n)_n\) is Cauchy.
  \item \(T_n \to T\) in operator norm: for \(\norm x \leq 1\),
    \begin{align*}
      &\norm{T_n x - Tx} \\
      \leq& \norm{(T_n - T_m) x} + \norm{(T_m - T) x} \\
      \leq& \norm{T_n - T_m} + \varepsilon \\
      \leq& \limsup_{n \to \infty} \norm{T_n - T_m} \\
      \to& 0
    \end{align*}
  \end{itemize}
\end{proof}

\begin{eg}
  Let \(p, q \in (1, \infty)\) with \(\frac{1}{p} + \frac{1}{q} = 1\). Then the map
  \begin{align*}
    \phi: \ell^q &\to (\ell^p)^* \\
    y &\mapsto \phi_y = (\cdot, y)
  \end{align*}
  is an isometric isomorphism, i.e.\ \(\ell^q = (\ell^p)^*\).

\end{eg}

\begin{proof}
  Clearly \(\phi\) is linear. We have already seen that \(\norm{\phi_y} \leq \norm y_q\). Claim that \(\norm{\phi_y} \geq \norm y_q\): note that LHS is a supremum so suffices to find \(\norm x \leq 1\) such that \(|\phi_y(x)| \geq \norm y_q\). Take
  \[
    x_n =
    \begin{cases}
      |y_n|^{q/p - 1} \overline y_n & y_n \neq 0 \\
      0 & y_n = 0
    \end{cases}
  \]
  Then
  \[
    \norm x_p^p = \sum_n |x_n|^p = \sum_n |y_n|^q = \norm y_q^q < \infty
  \]
  so \(x \in \ell^p\). We have
  \[
    \phi_y(x) = (x, y) \geq \sum_{n} |y_n|^{q/p + 1} = \sum_n |y_n|^q = \norm y_q^q = \norm y_q \norm y_q^{q - 1}.
  \]
  Note that
  \[
    \norm y_q^{q - 1} = \norm x_p^{\frac{p}{q}(q - 1)} = \norm x_p^{p (1 - \frac{1}{q})} = \norm x_p
  \]
  so
  \[
    |\phi_y(x)| = \norm y_q \norm x_p.
  \]
  Thus \(\phi\) is an isometry. It remains to check that \(\phi\) is surjective. Let \(T \in (\ell^p)^*\). Set \(y_n = Te_n\). Claim that \(y \in \ell^q\) and \(\norm y_q \leq \norm T\): define
  \[
    x_n =
    \begin{cases}
      |y_n|^{q/p - 1} \overline y_n & n \leq N \text{ and } y_n \neq 0 \\
      0 & \text{otherwise}
    \end{cases}
  \]
  We want to proceed as before but we don't know if \(y \in \ell^q\) this time so we only take the first \(N\) terms. Then \(\norm x_p^p = \sum_{n = 1}^N |y_n|^q\) so \(x \in \ell^p\) and
  \[
     Tx
    = \sum_{n = 1}^N x_n Te_n
    = \sum_{n = 1}^N x_n y_n
    = \sum_{n = 1}^N |y_n|^q
  \]
  Rewrite the equation backward,
  \[
    \sum_{n = 1}^N |y_n|^q
    = Tx
    \leq \norm T \norm x_p
    = \norm T \left( \sum_{n = 1}^N |y_n|^q \right)^{1/p}
  \]
  so
  \[
    \left( \sum_{n = 1}^N |y_n|^q \right)^{1 - 1/p} \leq \norm T
  \]
  so \(\norm y_q \leq \norm T\).

  Finally, claim that \(T = \phi_y\): for all \(n\), by construction we know
  \[
    Te_n = \phi_y(e_n) = y_n.
  \]
  Since \(T\) and \(\phi_y\) are both continuous and linear, \(T = \phi_y\) on the span of \(\{e_n: n \geq 1\}\) which is just \(\ell^p\).
\end{proof}

\begin{remark}
  Similarly, \((\ell^1)^* = \ell^\infty\) and \(c_0^* = \ell^1\) by the same argument. But the argument does \emph{not} show \((\ell^\infty)^* = \ell^1\) since \(\{e_n\}\) is not dense in \(\ell^\infty\), i.e.\ it is not separable.
\end{remark}

\begin{corollary}
  For \(1 \leq p \leq \infty\), \(\ell^p\) is complete.
\end{corollary}

\subsection{Finite-dimensional vector spaces}

\begin{fact}
  Any finite-dimensional vector space can be identified with \(\K^n\) by choosing a basis. Here \(n\) is the dimension.
\end{fact}

\begin{definition}[equivalent]\index{equivalent}
  Two norms \(\norm \cdot\) and \(\norm \cdot'\) on a vector space \(X\) are \emph{equivalent} if there exists \(C > 0\) such that
  \[
    C^{-1} \norm x' \leq \norm x \leq C \norm x',
  \]
  i.e.\ \(\id: (X, \norm \cdot) \to (X, \norm \cdot ')\) is an isomorphism.
\end{definition}

\begin{theorem}
  Let \(X\) be a finite-dimensional vector space. Then all norms on \(X\) are equivalent.
\end{theorem}

\begin{proof}
  It suffcies to show that any \(\norm \cdot\) on \(\K^n\) is equivalent to \(\norm \cdot_2\). Claim that \(\norm x \leq C \norm x_2\) for all \(x \in \K^n\):
  \[
    \norm x
    = \norm*{\sum_{i = 1}^n x_i e_1}
    \leq \sum_{i = 1}^n |x_i| \norm{e_i}
    \leq \underbrace{n \max_i \norm{e_i}}_{C} \underbrace{\max_i|x_i|}_{\leq \norm x_2}
  \]
  Also claim that \(\norm x_2 \leq C' \norm x\) for all \(x\): let
  \[
    S = \{x: \norm x_2 = 1\}
  \]
  and define \(f = \norm \cdot |_S: S \to \R\). Then \(f\) is continuous (w.r.t.\ \(\norm \cdot_2\)):
  \[
    |f(x) - f(y)|
    = |\norm x - \norm y|
    \leq \norm{x - y}
    \leq C\norm{x - y}_2
  \]
  Note also that \(S\) is compact (w.r.t.\ \(\norm \cdot_2\)) as it is closed and bounded. Therefore \(f\) assumes its minimum on \(S\), i.e.\ there exists \(\delta > 0\) such that \(f(x) \geq \delta\) for all \(x \in S\). Then for all \(x \in \K^n\), have
  \[
    \norm x = \norm*{\frac{x}{\norm x_2}} \cdot \norm x_2 = f(\frac{x}{\norm x_2}) \cdot \norm x_2
    \geq \delta \norm x_2.
  \]
\end{proof}

\begin{corollary}
  Let \(X\) and \(Y\) be normed spaces with \(\dim X < \infty\). Then every linear map \(T: X \to Y\) is continuous.
\end{corollary}

\begin{proof}
  Define a new norm on \(X\) by
  \[
    \norm x' = \norm x + \norm{T x}.
  \]
  Since all norms on \(X\) are equivalent, there is \(C > 0\) such that
  \[
    \norm x' \leq C \norm x,
  \]
  i.e.\ \(\norm{T x} \leq (C - 1) \norm x\) for all \(x\). Thus \(T\) is bounded and thus continuous.
\end{proof}

\begin{corollary}
  Let \(X\) and \(Y\) be finite-dimensional vector spaces and \(T: X \to Y\) is a linear bijection. Then \(T\) is an isomorphism.

  In particular for any \(X\) and \(Y\) if \(\dim X = \dim Y < \infty\) then \(X\) and \(Y\) are isomorphic.
\end{corollary}

\begin{corollary}\leavevmode
  \begin{enumerate}
  \item Every finite-dimensional normed space is complete (as it is true in \(\norm \cdot_2\)).
  \item Every finite-dimensional subspace of a normed space is closed.
  \end{enumerate}
\end{corollary}

\begin{corollary}
  Let \(X\) be a finite-dimensional normed space. Then \(\overline B(X)\), the closed unit ball, is compact.
\end{corollary}

\begin{proof}
  Closed and bounded in \(\norm \cdot_2\) (because this holds in \(\norm \cdot\)). Thus \(\overline B(X)\) is compact in \(\norm \cdot_2\) so compact in \(\norm \cdot\).
\end{proof}

The converse is also true:
\begin{theorem}
  Let \(X\) be a normed space such that \(\overline B(X)\) is compact. Then \(X\) is finite-dimensional.
\end{theorem}

\begin{proof}
  Since \(\overline B_1(0) = \overline B(X)\) is compact, there are \(x_1, \dots, x_n \in X\) such that
  \[
    \overline B_1(0) \subseteq \bigcup_{i = 1}^n B_{1/2}(x_i).
  \]
  Let \(Y\) be the span of \(x_i\)'s. Then \(\dim Y \leq n\). Also
  \[
    B_1(0) \subseteq Y + B_{1/2}(0)
  \]
  so
  \[
    B_1(0) \subseteq Y + \frac{1}{2} (Y + B_{1/2}(0))
    = Y + B_{1/4}(0)
    \subseteq \dots
    \subseteq Y + B_{2^{-n}}(0)
  \]
  for all \(m \in \N\). Therefore \(B_1(0) \subseteq \cl Y = Y\). Since \(X\) is linear, \(X \subseteq Y\). Thus \(\dim X \leq n\).
\end{proof}

\subsection{Completion, products, quotients}

\subsubsection{Completion}

\begin{proposition}
  Let \(X\) be a metric space. The \emph{completion} of \(X\) is a complete metric space \(\tilde X\) containing a dense subset that is isometric to \(X\).
\end{proposition}

\begin{proof}
The construction is as follow. For two Cauchy sequences \(x = (x_n), y = (y_n) \subseteq X\), define \(x \sim y\) if and only if \(d(x_n, y_n) \to 0\). This is an equivalence relation. Denote the equivalence class of a Cauchy seuqence \(x\) by \(\tilde x\). Define
\[
  \tilde X = \{\tilde x: x \text{ Cauchy in } X\}
\]
and define a metric
\[
  \tilde d(\tilde x, \tilde y) = \lim_{n \to \infty} d(x_n, y_n).
\]
The limit exists and is independent of the representatives. Then \(\tilde d\) is a metric: if \(\tilde d(\tilde x, \tilde y) = 0\) then \(d(x_n, y_n) \to 0\) so \(x \sim y\) so \(\tilde x = \tilde y\). Symmetry and triangle inequality follow from those for \(d\).

Now we show \(X \embed \tilde X\). For \(x \in X\), define \(j(x) \in \tilde X\) as the equivalence class of \((x, x, \dots)\). Then
\[
  \tilde d(j(x), j(y)) = d(x, y)
\]
so \(j\) is an isometry. The image of \(j\) is dense in \(\tilde X\) since if \((x_n)\) is Cauchy in \(X\) then \((j(x_n))\) in \(\tilde X\) is Cauchy and \(j(x_n) \to \tilde x\).

Finally, to show \(\tilde X\) is complete, let \((\tilde x^k) \subseteq \tilde X\) be Cauchy. Let \((x^k_n) \subseteq X\) be a representative for \(\tilde x^k\). Choose \(n_k\) such that \(d(x_n^k, x_m^k) \leq 2^{-k}\) for \(n, m \geq n_k\). Define \(x_k = x_{n_k}^k \in X\). Claim that \(x = (x_k) \subseteq X\) is Cauchy and \(\tilde x^k \to \tilde x\) in \(\tilde X\). It is left as an exercise.
\end{proof}

\begin{definition}[completion]\index{completion}\index{normed vector space!completion}
  \(\tilde X\) is called the \emph{completion} of \(X\) and we regard \(X \subseteq \tilde X\).
\end{definition}

In the case of normed spaces, the metric completion has more structure:

\begin{theorem}
  Let \(X\) be a normed space. Then there is a Banach space \(\tilde X\) containing \(X\) as a dense subspace.
\end{theorem}

\begin{proof}
  Let \(\tilde X\) be the metric space completion of \(X\). For \(\tilde x, \tilde y \in \tilde X\), choose \((x_n), (y_n) \subseteq X\) such that \(x_n \to \tilde x\) and \(y_n \to \tilde y\) (in \(\tilde X\)). For any \(\lambda, \mu \in \K\), \(\lambda x_n + \mu y_n\) is Cauchy. Set \(\lambda \tilde x + \mu \tilde y = \lim_{n \to \infty} (\lambda x_n + \mu y_n)\). This makes \(\tilde X\) a vector space. Moreover,
  \[
    \norm{\tilde x} = \lim_{n \to \infty} \norm{x_n} = \lim_{n \to \infty} d(0, x_n) = \tilde d (0, \tilde x)
  \]
  is a norm on \(\tilde X\) and since \(\tilde d\) is complete, this makes \(\tilde X\) a Banach space.
\end{proof}

\begin{proposition}
  Let \(X\) and \(Y\) be normed spaces and let \(T \in B(X, Y)\). Then there is a unique \(\tilde T \in B(\tilde X, \tilde Y)\) such that
  \[
    \tilde T|_X = T, \norm{\tilde T} = \tilde T.
  \]
\end{proposition}

\begin{proof}
  For \(\tilde x \in \tilde X\), choose \((x_n) \subseteq X\) such that \(x_n \to \tilde x\). Then \((x_n)\) is Cauchy, and since \(T\) is bounded, \((Tx_n) \subseteq Y\) is Cauchy as well. By completeness of \(\tilde Y\), there is \(\tilde y \in \tilde Y\) such that \(Tx_n = \tilde y\). Set \(\tilde T \tilde x = \tilde y\). Note that \(\tilde T\) is well-defined, linear and \(\tilde T|_X = T\). Also
  \[
    \norm{\tilde T \tilde x} = \lim_{n \to \infty} \norm{T x_n} \leq \norm T \lim_{n \to \infty} \norm{x_n} = \norm T \norm{\tilde x},
  \]
  so \(\norm{\tilde T} = \norm T\) so equality. Uniqueness follows from continuity and density of \(X\) in \(\tilde X\).
\end{proof}

\begin{remark}
  The completion \(\tilde X\) is unique in the sense that if \(\tilde X'\) is another completion of \(X\) then there is an isometric isomorphism \(\tilde X \to \tilde X'\) restricting to identity on \(X\).
\end{remark}

\subsubsection{Product}

\begin{definition}[product]\index{normed vector space!product}
Let \(X\) and \(Y\) be normed spaces. Then \(X \times Y\) can be made into a normed space with one of the following equivalent norms:
\[
  \norm{(x, y)} = (\norm x^p + \norm y^p)^{1/p}, p \in [1, \infty)
\]
or
\[
  \norm{(x, y)} = \max \{\norm x, \norm y\}.
\]
\end{definition}

They are equivalent for precisely the same reason that norms on finite-dimensional spaces are equivalent. Thus henceforth we will just use ``norm on \(X \times Y\)'' to mean any of the equivalent norms.

As expected for a product construction, the projections \(\pi_X: X \times Y \to X\), and \(\pi_Y: X \times Y \to Y\) are continuous.

\begin{fact}
  If \(X\) and \(Y\) are complete then \(X \times Y\) is complete and \(X \cong X \times \{0\} \subseteq X \times Y\) and \(Y \cong \{0\} \times Y \subseteq X \times Y\) are closed subspaces.
\end{fact}

\subsubsection{Quotient}

\begin{definition}[quotient]\index{normed vector space!quotient}
  Let \(X\) be a normed space and let \(Y \subseteq X\) be a \emph{closed} subspace. Then \(x \sim x'\) if \(x - x' \in Y\) defines an equivalence relation with equivalence classes \([x] = x + Y\). Let \(X / Y\) be the collection of all equivalence classes and define
  \[
    \norm{[x]} = \inf_{y \in Y} \norm{x + y}.
  \]
\end{definition}

\begin{proposition}\leavevmode
  \begin{enumerate}
  \item \(\norm \cdot\) is a norm on \(X / Y\).
  \item \(\pi: X \to X/Y, x \mapsto x + Y\) is continuous.
  \item If \(X\) is complete then \(X / Y\) is complete.
  \end{enumerate}
\end{proposition}

\begin{proof}\leavevmode
  \begin{enumerate}
  \item Suffices to show positive definiteness as the other axioms are trivial. Assume that
    \[
      \norm{\pi(x)} = \inf_{y \in Y} \norm{x + y} = 0,
    \]
    then there exist \((x_n) \subseteq X\) such that \(x_n \to 0\) and \(\pi(x_n) = \pi(x)\), i.e.\ \(x - x_n \in Y\). Thus \(x \in \cl Y = Y\).
  \item
    \[
      \norm{\pi(x)} = \inf_{y \in Y} \norm{x + y} \leq \norm x
    \]
    so \(\norm \pi \leq 1\).
  \item Let \((x_n) \subseteq X\) be such that \(\pi(x_n) \subseteq X / Y\) is Cauchy. Claim that there exists a subsequence \((n_k) \subseteq \N\) and \((y_n) \subseteq Y\) such that \((x_{n_k} + y_{n_k})_k\) is Cauchy in \(X\): by passing to a subsequence \((n_k)\) we can assume that \(\norm{\pi(x_{n_{k + 1}}) - \pi(x_{n_k})} \leq 2^{-k - 1}\). Now choose \((z_k) \subseteq Y\) such that
    \[
      \norm{x_{n_{k + 1}} - x_{n_k} + z_k} \leq 2^{-k}.
    \]
    Define \(y_1 = 0\) and \(y_k = z_1 + \dots + z_{k - 1} \in Y\), then
    \[
      \norm{(x_{n_{k + 1}} + y_{k + 1}) - (x_{n_k} + y_k)}
      = \norm{x_{n_{k + 1}} - x_{n_k} + z_k}
        \leq 2^{-k}
    \]
    so \((x_{n_k} + y_k)_k\) is Cauchy.

    Claim that \((\pi(x_n)) \subseteq X / Y\) converges: since \(X\) is complete, there is \(x \in X\) such that \(x_{n_k} + y_k \to x\) in \(X\). Then
    \[
      \norm{\pi(x_{n_k}) - \pi(x)}
      = \inf_{y \in Y} \norm{x - (x_{n_k} + y)}
      \leq \norm{x - (x_{n_k} + y_k)}
      \to 0
    \]
    which implies convergence of \((\pi(x_n))\) along a subsequence, ergo the original sequence.
  \end{enumerate}
\end{proof}

\section{Completeness of the Baire category}

\subsection{Baire category}

Recall that if \(X\) is a metric space, then \(Y \subseteq X\) is \emph{dense} if \(\cl Y = X\), i.e.\ \(Y \cap B_r(X) \neq \emptyset\) for all \(x \in X, r > 0\).

\begin{theorem}[Baire category theorem]\index{Baire category theorem}
  \label{thm:BCT}
  Let \(X\) be a \emph{complete} metric space. For any sequence of open dense subsets \(U_j \subseteq X\), \(j \in \N\), the intersection \(\bigcap_{j = 1}^\infty U_j\) is dense in \(X\).
\end{theorem}

\begin{proof}
  Let \(U = \bigcap_{j = 1}^\infty U_j\). Given any \(r \in X, r > 0\), we need to show that \(B_r(x) \cap U = \emptyset\). Since \(U_1\) is dense, there is \(x_1 \in X, r \in (0, 1)\) such that
  \[
    \cl B_{r_1}(x_1) \subseteq B_{2r_1}(x_1) \subseteq U_1 \cap B_r(x).
  \]
  Likewise choose \(x_2 \in X, r_2 \in (0, \frac{1}{2})\) such that
  \[
    \cl B_{r_2}(x_2) \subseteq U_2 \cap B_{r_1}(x_1)
  \]
  and in general \(x_n \in X, r \in (0, \frac{1}{n})\) such that
  \[
    \cl B_{r_n}(x_n) \subseteq U_n \cap B_{r_{n - 1}}(x_{n - 1}).
  \]
  Then \(r_n \to 0\) and a nested chain of open balls
  \[
    B_{r_1}(x_1) \supseteq B_{r_2}(x_2) \supseteq \dots
  \]
  so \(d(x_n, x_m) < r_n\) if \(m \geq n\), i.e.\ \((x_n)\) is a Cauchy sequence. Since \(X\) is complete, there is \(y \in X\) such that \(x_n \to y\). Note that \(y \in \cl B_{r_k}(x_k) \cap U_k\) for all \(k\). Thus
  \[
    y \in \bigcap_{j = 1}^\infty U_j = U
  \]
  and \(y \in \cl B_{r_1}(x_1) \subseteq B_r(x)\) so \(y \in U \cap B_r(x)\).
\end{proof}

The following corollary is equivalent to Baire category theorem is often used in practice:

\begin{corollary}
  Let \(X\) be a complete metric space. Let \(A_j \subseteq X\) be a sequence of closed subsets such that \(\bigcup_j A_j\) has nonempty interior, i.e.\ it contains some ball, then at least one of the \(A_j\)'s has nonempty interior.
\end{corollary}

\begin{proof}
  Let \(U_j = X \setminus A_j\). Since \(\bigcup_j A_j\) has nonempty interior,
  \[
    X \setminus \bigcup_j A_j = \bigcap_j U_j
  \]
  is not dense. Since the \(U_j\)'s are open, by \Cref{thm:BCT} at least one of the \(U_j\)'s cannot be dense, say \(U_k\). Thus \(A_k = X \setminus U_k\) has nonempty interior.
\end{proof}

\begin{definition}[nowhere dense, meagre, residual, set of first/second category]\index{nowhere dense}\index{meagre}\index{residual}\index{first category}\index{second category}
  Let \(X\) be a metric space.
  \begin{enumerate}
  \item A subset \(Y \subseteq X\) is \emph{nowhere dense} if \(\operatorname{Int}(\cl Y) = \emptyset\), i.e.\ if \(Y\) is not dense in any ball.
  \item A subset \(Z \subseteq X\) is \emph{meagre} or \emph{of the first category} if there are countably many sets \(Y_j \subseteq X\) which are nowhere dense and \(Z = \bigcup_j U_j\).
  \item A subset \(U \subseteq X\) is \emph{nonmeagre} or \emph{of the second category} if it is not meagre.
  \item A subset \(R \subseteq X\) is \emph{residual} if its complement is meagre.
  \end{enumerate}
\end{definition}

\begin{remark}
  TFAE:
  \begin{itemize}
  \item \(Y \subseteq X\) is nowhere dense.
  \item \(\cl Y\) is nowhere dense.
  \item \(X \setminus \cl Y\) is dense.
  \end{itemize}
\end{remark}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\Q = \bigcup_{x \in \Q} \{x\} \subseteq \R\) is meagre in \(\R\).
  \item Any countable union of meagre sets is meagre.
  \end{enumerate}
\end{eg}

\begin{remark}
  There is a similarity of the concepts of meagre, nonmeagre, residual, with those of null sets, sets of positive measure, sets of full measure in measure theory. For metric spaces that are also measure spaces, such as \(\R\) with Lebesgue measue, one could ask if there is a closer correspondence. The answer is negative, in general. There exists a meagre set \(A\) and a Lebesgue null set \(B\) such that \(R = A \cup B\).
\end{remark}

Yet another formulation of Baire category theorem is

\begin{corollary}
  Let \(X\) be a complete metric space. Then \(X\) is of the second category.
\end{corollary}

\begin{proof}
  Let \(Y_j \subseteq X\) be nowhere dense. It suffices to show that \(X \neq \bigcup_j \cl Y_j\). But \(U_j = X \setminus \cl Y_j\) is open dense so by \Cref{thm:BCT}
  \[
    \bigcap_j U_j = X \setminus \bigcup_j \cl Y_j
  \]
  is dense, in particular not empty.
\end{proof}

\begin{corollary}
  Let \(X\) be a complete metric space. Then residual sets are nonmeagre and dense.
\end{corollary}

\begin{proof}
  Let \(Z \subseteq X\) be meagre and suppose that \(R = X \setminus Z\) was meagre. Then \(X = Z \cup R\) would be meagre as a union of two meagre sets. But since \(X\) is complete, it is not. So \(R\) is nonmeagre.

  To show that \(R\) is dense, we can suppose \(Z = \bigcup_j Y_j\) with \(Y_j\) nowhere dense. Then \(U_j = X \setminus \cl Y\) is open dense. So \(R \supseteq \bigcup_j U_j\) is dense by \Cref{thm:BCT}.
\end{proof}

\begin{corollary}
  Let \(X\) be a complete metric space and \(U \subseteq X\) open. Then \(U = \emptyset\) or \(U\) is of the second category.
\end{corollary}

\begin{proof}
  Assume that \(U\) is open and meagre. Then \(X \setminus U\) is closed and residual so dense. So \(X \setminus U = X\), i.e.\ \(U = \emptyset\).
\end{proof}

\subsection{Principle of uniform boundedness}

\begin{theorem}[principle of uniform boundedness]\index{principle of uniform boundedness}
  Let \(X\) be a complete metric space. Let \((f_\lambda)_{\lambda \in \Lambda}\) be a family of continuous functions \(f_\lambda: X \to \R\). If \((f_\lambda)_{\lambda \in \Lambda}\) is pointwise bounded, i.e.\ for all \(x \in X\), \(\sup_{\lambda \in \Lambda} |f_\lambda(x)| < \infty\), then ther is a ball \(B_r(x_0) \subseteq X\) on which \(f_\lambda\) is uniformly bounded, i.e.
  \[
    \sup_{\lambda \in \Lambda} \sup_{x \in B_r(x_0)} |f_\lambda(x)| < \infty.
  \]
\end{theorem}

\begin{proof}
  Let
  \[
    A_k = \{x \in X: |f_k(x)| \leq k \text{ for all } \lambda \in \Lambda\}
    = \bigcap_{\lambda \in \Lambda} \{x \in X: |f_\lambda(x)| \leq k\}.
  \]
  Since \(f_\lambda\)'s are continuous, \(A_k\) is closed. Since \((f_\lambda)\) is pointwise bounded,
  \[
    \bigcup_{k \in \N} A_k = X.
  \]
  By Baire category theorem, at least one of the \(A_k\)'s must contain a ball \(B_r(x_0)\). Thus \((f_\lambda)\) is uniformly bounded on that ball.
\end{proof}

\begin{theorem}[Banach-Steinhaus]\index{Banach-Steinhaud theorem}
  Let \(X\) be a Banach space and let \(Y\) be a normed space. Let \((T_\lambda)_{\lambda \in \Lambda} \subseteq B(X, Y)\) be pointwise bounded, i.e.\ for all \(x \in X\), \(\sup_{\lambda \in \Lambda} \norm{T_\lambda x} < \infty\). Then \((T_\lambda)\) is uniformly bounded, i.e.
  \[
    \sup_{\lambda \in \Lambda} \norm{T_\lambda} < \infty.
  \]
\end{theorem}

\begin{proof}
  Set \(f_\lambda: X \to \R, x \mapsto \norm{Tx}\). Then \(f_\lambda\) is continuous and \((f_\lambda)\) is pointwise bounded. By the principle of uniform boundedness, there is \(B_r(x_0) \subseteq X\) on which
  \[
    \sup_{\lambda \in \Lambda} \sup_{\norm{x - x_0} < r} \norm{T_\lambda x} < \infty.
  \]
  But since the \(T_\lambda\)'s are linear, for any \(x \in X\) with \(\norm x \leq 1\),
  \[
    \norm{T_\lambda x}
    = \frac{1}{r} \norm{T_\lambda(rx + x_0) - T_\lambda(x_0)}
    \leq \frac{1}{r} \sup_{\lambda \in \Lambda} \sup_{\norm{x - x_0} < r} \norm{T_\lambda x} + \frac{1}{r} \sup_{\lambda \in \Lambda} \norm{T_0x}.
  \]
  The second term is bounded since \(T_\lambda\) is pointwise bounded. Thus
  \[
    \sup_{\lambda \in \Lambda} \norm{T_\lambda} < \infty.
  \]
\end{proof}

The point of the theorem is not so much of finding a uniform bound on the functionals, as the proof (of Baire category theorem) requires axiom of choice and is nonconstructive. Rather it shows that pointwise boundedness implies uniform boundedness so we don't risk losing anything by trying to prove uniform boundedness from onset. As we'll see, in most cases pointwise bound gives uniform bound straightaway. % TODO: check and revise

\subsection{Open mapping theorem}

\begin{definition}[open map]\index{open map}
  A map between topological spaces is \emph{open} if it maps open sets to open sets.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(f: \R\to \R, x \mapsto x^2\) is continuous but not open.
  \item \(f: \R^2 \to \R, (x, y) \to x + \operatorname{sgn}(y)\) is open but not continuous.
  \end{enumerate}
\end{eg}

\begin{theorem}[open mapping theorem]\index{open mapping theorem}
  \label{thm:open mapping theorem}
  Let \(X, Y\) be Banach spaces and \(T \in B(X, Y)\). Then
  \begin{enumerate}
  \item if \(T\) is surjective then it is open.
  \item if \(T\) is bijective then \(T^{-1} \in B(Y, X)\).
  \end{enumerate}
\end{theorem}

\begin{lemma}
  Let \(X, Y\) be normed spaces. Then \(T: X \to Y\) linear is open if
  \[
    T(B_1(0)) \supseteq B_r(0)
  \]
  for some \(r > 0\).
\end{lemma}

\begin{proof}
  Let \(U \subseteq X\) be open and \(x \in U\). As \(U\) is open, choose \(\delta > 0\) such that \(x + B_\delta(0) \subseteq U\). Then
  \[
    T(U) \supseteq T(x + B_\delta(0)) = Tx + \delta T(B_1(0)) \supseteq Tx + r \delta B_1(0).
  \]
  Thus \(T(U)\) contains an open ball around any element \(T(x)\), therefore open.
\end{proof}

\begin{lemma}
  Let \(X\) be a Banach space, \(Y\) a normed space and \(T \in B(X, Y)\). If
  \[
    \cl{T(B_1(0))} \supseteq B_1(0).
  \]
  then
  \[
    T(B_1(0)) \supseteq B_1(0).
  \]
\end{lemma}

\begin{proof}
  Let \(y_0 \in B_1(0) \subseteq Y\). We need to find \(x \in B_1(0)\) such that \(Tx = y_0\). We construct \(x\) as the limit of a Cauchy sequence. Let \(x_1 \in B_{1/2}(0) \subseteq X\) such that
  \[
    \norm{Tx_1 - y_0} < \frac{1}{2}.
  \]
  This is possible since there exists \(\tilde y_0 \in B_{1/2}(0) \cap B_{1/2}(y_0)\) and we can find \(x_1 \in B_{1/2}(0)\) such that \(\norm{Tx_1 - \tilde y_0}\) is arbitrarily small by density of \(T(B_{1/2}(0))\) in \(B_{1/2}(0)\).

  Set \(y_1 = y_0 - Tx_1 \in B_{1/2}(0)\). By induction, if \(y_1, \dots, y_k\) and \(x_1, \dots, x_k\) are such that
  \[
    \norm{x_i} < 2^{-i}, y_i = y_{i - 1} - Tx_i \in B_{2^{-i}}(0) \subseteq Y,
  \]
  can choose \(x_{k + 1} \in B_{2^{-k - 1}}(0) \subseteq X\) such that
  \[
    y_{k + 1} = y_k - Tx_{k + 1} \in B_{2^{-k - 1}}(0) \subseteq Y
  \]
  so
  \[
    \sum_{k = 1}^\infty \norm{x_k} < 1
  \]
  and \(x = \sum_{k = 1}^\infty x_k \in B_1(0)\) exists since \(X\) is complete and
  \[
    y_0 - Tx = \lim_{n \to \infty} \left( y_0 - \sum_{k = 1}^n Tx_k \right)
    = \lim_{n \to \infty} \left( y_1 - \sum_{k = 2}^n Tx_k \right)
    = \dots
    = \lim_{n \to \infty} y_n
    = 0
  \]
  so \(y_0 \in T(B_1(0))\) for any \(y_0 \in B_1(0)\). Thus \(T(B_1(0)) \supseteq B_1(0)\).
\end{proof}

\begin{proof}[Proof of \nameref{thm:open mapping theorem}]\leavevmode
  \begin{enumerate}
  \item By the previous two lemmas, it suffices to show that
    \[
      \cl{T(B_1(0))} \supseteq B_r(0)
    \]
    for some \(r > 0\). We use Baire category theorem to do this. Since \(T\) is surjective, \(Y = \bigcup_{k = 1} \cl{T(B_k(0))}\). Since \(Y\) is complete, the Baire category theorem implies that there is \(k_0 \in \N\) such that \(\cl{T(B_{k_0}(0))}\) has nonempty interior, i.e.\ ther is \(r_0 > 0, y_0 = Tx_0\) such that
    \[
      B_{r_0}(y_0) \subseteq \cl{T(B_{k_0}(0))}.
    \]
    By linearlity,
    \begin{align*}
      &B_{r_0}(0) = B_{r_0}(y_0) - Tx_0 \subseteq \cl{T(B_{k_0}(0))} - Tx_0 \\
      =& \cl{T(B_{k_0}(-x_0))} \subseteq \cl{T(B_{k_0 + \ell_0}(0))} = (k_0 + \ell_0) \cl{T(B_1(0))}
    \end{align*}
    where \(\ell_0 \geq \norm{x_0}\). Now take \(r = \frac{r_0}{k_0 + \ell_0}\).
  \item If \(T\) is bijective, then \(T\) is open means that \(T^{-1}\) is continuous.
  \end{enumerate}
\end{proof}

\begin{remark}
  The completeness of \(X\) and \(Y\) are both necessary. See example sheet. We can however do a quick counterexample here. Let
  \[
    F = \{(x_n): x_n = 0 \text{ except for finitely many } n\}
  \]
  with \(\norm x_\infty = \max_n |x_n|\). Define
  \begin{align*}
    T: F &\to F \\
    (x_n) &\mapsto (x_n/n)
  \end{align*}
  Then \(\norm T \leq 1\) so \(T\) is continuous and bijective. But \((T^{-1}x)_n = (nx_n)\) is unbounded. In particular \(F\) is not complete.
\end{remark}

\begin{remark}
  The basic problem in linear PDE is the following one: given \(f \in Y\), e.g.\ \(Y = L^2(\Omega)\) for some nice \(\Omega \subseteq \R^d\), and a linear partial differential operator \(L: X \to Y\), say \(X = H_0^2(\Omega)\) and \(L = \Delta\), is there a unique solution \(u \in X\) to \(Lu = f\)? The typical procedure is to show that for \(f\) ``nice'', say \(f \in C^\infty(\Omega)\), spanning a a dense subspace of \(Y\), there is a unique solution such that
  \[
    \norm u \leq C \norm f.
  \]
  such an \emph{a priori} estimate allows us to solve \(Lu = f\) for general \(f \in Y\) by approximation. This implies that \(L\) is surjective. The open mapping theorem guarantees that this strategy works if \(L\) is surjective.
\end{remark}

\subsection{Closed graph theorem}

\begin{theorem}[closed graph theorem]
  Let \(X, Y\) be Banach spaces and \(T: X \to Y\) linear. Then \(T\) is bounded if and only if the graph
  \[
    \Gamma = \{(x, Tx): x \in X\} \subseteq X \times Y
  \]
  is closed.
\end{theorem}

\begin{proof}
  Let \(T\) be bounded and \((x_k, y_k) \subseteq \Gamma\) be a sequence such that \(x_k \to x, y_k = Tx_k \to y\). Since \(T\) is continuous,
  \[
    Tx = y,
  \]
  so \((x, y) \in \Gamma\). So \(\Gamma\) is closed.

  Conversely, suppose that \(\Gamma\) is closed. We want to show that \(T\) is continuous. Since \(X \times Y\) is a Banach space with norm
  \[
    \norm{(x, y)} = \norm x + \norm y
  \]
  and since \(\Gamma\) is closed, it is also a Banach space with the induced norm. The projections
  \begin{align*}
    \pi_X: \Gamma &\to X \\
    (x, Tx) &\mapsto x \\
    \pi_Y: \Gamma &\to Y \\
    (x, Tx) &\mapsto Tx
  \end{align*}
  are continuous and \(\pi_X\) is also a bijection. By the open mapping theorem, \(\pi_X^{-1} \in B(X, \Gamma)\). Thus
  \[
    T = \pi_Y \compose \pi_X^{-1} \in B(X, Y).
  \]
\end{proof}

\begin{remark}
  As a consequence, to prove that \(T: X \to Y\) is bounded, if \(X\) and \(Y\) are Banach spaces, it suffices to check if \(x_k \to x, Tx_k \to y\) then \(Tx = y\), instead of the stronger requirement that if \(x_k \to x\) then \(Tx_k \to y\) and \(y = Tx\).
\end{remark}

\section{The space of continuous functions on a compact space}

\subsection{Normed topological spaces}

Recall that a topological space \(X\) is \emph{Hausdorff} if for any \(x, y \in X, x \neq y\), there exist open neighbourhodds \(U\) of \(x\) and \(V\) of \(y\) such that \(U \cap V \neq \emptyset\).

\begin{proposition}
  Let \(X\) be a Hausdorff space and \(K_1, K_2 \subseteq X\) are compact sets with \(K_1 \cap K_2 = \emptyset\). Then there exist open \(U_1 \supseteq K_1, U_2 \supseteq K_2\) such that \(U_1 \cap U_2 = \emptyset\).
\end{proposition}

\begin{proof}
  This a mundane exercise in general topology. For any \(x \in K_1, y \in K_2\), let \(U_{xy}\) and \(V_{xy}\) be open neighbourhoods such that \(x \in U_{xy}, y \in V_{xy}\) and \(U_{xy} \cap V_{xy} = \emptyset\). Then \(K_1 \subseteq \bigcup_{x \in K_1} U_{xy}\). Since \(K_1\) is compact, there are finitely many points \(x_1, \dots, x_n \in K_1\) such that \(K_1 \subseteq \bigcup_{i = 1}^n U_{x_iy}\). Set \(U_y = \bigcup_{i = 1}^n U_{x_iy}\) and \(Y_y = \bigcap_{i = 1}^n V_{x_iy}\). Then \(U_y \cap V_y = \emptyset\) and \(K_1 \subseteq U_y, y \in V_y\) for all \(y \in Y\). Then \(K_2 \subseteq \bigcup_{y \in K_2} V_y\). Again by compactness there exist \(y_1, \dots y_m \in K_2\) such that \(K_2 \subseteq \bigcup_{i = 1}^m V_{y_i}\). Set
  \[
    V = \bigcup_{i = 1}^m V_{y_i}, U = \bigcap_{i = 1}^m U_{y_i}.
  \]
  The sets \(U\) and \(V\) are open, \(U \cap V = \emptyset\) and \(U \supseteq K_1, V \supseteq K_2\) by construction.
\end{proof}














\printindex
\end{document}

% http://www.statslab.cam.ac.uk/~rb812/teaching/la2018/index.html