\documentclass[a4paper]{article}

\def\npart{III}

\def\ntitle{Differential Geometry}
\def\nlecturer{A.\ Kovalev}

\def\nterm{Michaelmas}
\def\nyear{2018}

\input{header}

\DeclareMathOperator{\Gr}{Gr} % Grassmannian
\DeclareMathOperator{\Lie}{Lie} % Lie functor

\begin{document}

\input{titlepage}

\tableofcontents

\section{Manifolds}

We want to generalise curves and surfaces in \(\R^2\). A curve is a map \(\gamma: \R \supseteq I \to \R^2\) or \(\R^3\) that satisfies certain properties we'll find out in a minute. Clearly continuity is necessary but not sufficent, as evidenced by the famous Peano space-filling curve. Smoothness is not quite enough either, as \(t \mapsto (t^2, t^3)\) has a cusp at the origin. The correct requirement will be that \(\gamma\) has regular parameterisation, i.e.\ \(|\dot \gamma(t)| \neq 0\) for all \(t\).

Similarly, a surface should be defined as as a map \(r: \R^2 \supseteq D \to \R^3\) with a regular parameterisation, i.e.\ \(r \in C^\infty(D)\) and \(\left| \frac{\p r}{\p u} \times \frac{\p r}{\p v} \right| \neq 0\) for all \((u, v) \in D\).

We may follow this route and generalise to (hyper)surfaces in \(\R^n\), which will be a generalisation of classical differential geometry of curves and surfaces in \(\R^3\). The good thing is that we can readily apply calculus and it is easy to construct these objects. However, it does suffer from the prolblem of different parameterisations give rise to different geometric objects, as well as some surface requiring more than one parameterisation. Although these can be bypassed more or less, the more serious drawback is the extra technical complexity determined by the higher dimension of the ambient space.

A better concept is \emph{smooth manifolds}. We first begin with a review of topological structure, which every manifold possesses.

\begin{definition}[topological space]
  A \emph{topological space} \(M\) is a choice of class of the \emph{open sets} such that
  \begin{enumerate}
  \item \(\emptyset\) and \(M\) are open,
  \item if \(U\) and \(U'\) are open then so is \(U \cap U'\),
  \item for anly collection of open sets, the union is open.
  \end{enumerate}
\end{definition}

In this course, we always require a topological space to be Hausdorff and second countable.

\begin{definition}[local coordinate chart]\index{chart}
  A \emph{local coordinate chart} on a topological space \(M\) is a homeomorphism \(\varphi: U \to V\) where \(U \subseteq M\) and \(V \subseteq \R^d\) are open. \(U\) is a \emph{coordinate neighbourhood}.
\end{definition}

\begin{definition}[\(C^\infty\)-differentiable structure]\index{differentiable structure}\index{atlas}
  A \emph{\(C^\infty\)-differentiable structure} on a topological space \(M\) is a collection of charts \(\{\varphi_\alpha: U_\alpha \to V_\alpha\}\) where \(V_\alpha \subseteq \R^d\) for all \(\alpha\) such that
    \begin{enumerate}
    \item \(\{U_\alpha\}\) covers \(M\), i.e.\ \(M = \bigcup U_\alpha\),
    \item compatibility condition: for all \(\alpha, \beta\), \(\varphi_\beta \compose \beta_\alpha^{-1}\) is \(C^\infty\) wherever defined, i.e.\ on \(\varphi_\alpha(U_\alpha \cap U_\beta)\),
    \item maximality: if \(\varphi\) is compatible with all the \(\varphi_\alpha\)'s then \(\varphi\) is in the collection.
    \end{enumerate}
    
    The collection of charts is called an \emph{atlas}.
\end{definition}

Note that 2 implies that \(\varphi_\beta \compose \varphi_\alpha^{-1}\) is a diffeomorphism.

\begin{definition}[manifold]\index{manifold}
  A \emph{manifold} is a Hausdorff, second countable topological space with a \(C^\infty\)-differentiable structure.
\end{definition}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item In practice, we almost never specify the topological structure. Instead, we can induce a topology from a \(C^\infty\) structure by declaring \(D \subseteq M\) open if and only if for all \((\varphi_\alpha, U_\alpha)\), \(\varphi_\alpha(U_\alpha \cap D)\) is open in \(\R^d\).
  \item We may replace \(C^\infty\) by \(C^k\) for \(k > 0\) finite. If we set \(k = 0\), the objects become topological manifolds. On the other hand, use \(\C^n\) and holomorphic maps we get complex manifolds.
  \item Requirement of being Hausdorff and second countable are for rather technical reasons. In some cases we may drop Hausdorffness requirement, and such examples do arise naturally. However in that case we lose uniqueness of limits. Similarly non-second countable space, such as the disjoint union of uncountably many \(\R^n\), can become manifold-like structure if we relax the definition.
  \end{enumerate}
\end{remark}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\R^d\) covered by the single chart \(\varphi = \id\).
  \item Unit sphere \(S^n = \{\V x = (x_0, \dots, x_n) \in \R^{n + 1}: \sum_{i = 0}^n x_i^2 = 1\}\). The charts are stereographic projections
    \begin{align}
      \varphi(\V x) &= \frac{1}{1 - x_0} (x_1, \dots, x_n) \\
      \psi(\V x) &= \frac{1}{1 + x_0} (x_1, \dots, x_n)
    \end{align}
    where \(\varphi\) is defined for all points on \(S^n\) except \((1, 0, \dots, 0)\) and similar for \(\psi\). Suppose \(\varphi(P) = u, \psi(P) = v\), then by basic geometry \(v = \psi \compose \varphi^{-1}(u) = \frac{u}{\norm{u}^2}\).
  \item Given \(M_1, M_2\) manifolds of dimension of \(d_1\) and \(d_2\), \(M_1 \times M_2\) is a manifold of dimension \(d_1 + d_2\). We define the \emph{\(n\)-torus} to be \(T_n = \underbrace{S^1 \times \dots \times S^1}_{n}\).
  \item An open subset \(U\) of a manifold \(M\) is a manifold.
  \item The \emph{real projective space},
    \[
      \R P^n = \{\text{all straight lines through \(0\) in } \R^{n + 1}\}.
    \]
    The points in the space are \(x_0 : \dots : x_n\) where \(x_i\)'s are not all zero. Note that
    \[
      x_0 : \dots : x_n = \lambda x_0 : \dots \lambda x_n
    \]
    for all \(\lambda \neq 0\). As per a previous remark, we shall induce the topology by a \(C^\infty\) structure. The charts are \((U_i, \varphi_i)\) where \(U_i = \{x_i \neq 0\}\), and
    \[
      \varphi_i(x_0 : \dots : x_n) = (\frac{x_0}{x_i}, \dots, \hat i, \dots, \frac{x_n}{x_i})
    \]
    where \(\hat i\) denotes that the \(i\)th coordinate is omitted. The \(U_i\)'s cover \(\R P^n\) so we are left to check compatibility. For \(i < j\),
    \[
      \varphi_j \compose \varphi_i^{-1} : (y_1, \dots, y_n)
      \mapsto y_1 : \dots, \underbrace{1}_{i\text{th}} : y_n
      \mapsto (\frac{y_1}{y_j}, \dots, \frac{1}{y_j}, \dots, \hat j, \dots, \frac{y_n}{y_j})
    \]
    is smooth. Since \(i\) and \(j\) are arbitrary, \(\R p^n\) is a \(n\)-manifold.

    Similarly we can check \(\C P^n\) is a \(2n\)-manifold, and \(\H P^n\) is a \(4n\)-manifold (but this is a bit tricky due to noncommutativity).
  \item Grassmannians (over \(\R\) or \(\C\)): we define \(\Gr(k, n)\) to be all \(k\)-dimensional subspaces of the \(n\)-dimensional vector space, which generalises the projective space. For real vector spaces for example, \(\R P^n = \Gr(1, n + 1)\). We can check \(\Gr(k, n)\) is a manifold of dimension \(k(n - k)\).

    The construction is a bit technical so we will give example of one chart. Let \(U\) be the \(k\)-subspaces obtainable as the span of rows of \(k \times n\) matrices of the form \((I_k \quad *)\), and the local coordinate maps a basis of such \(k\)-subspace to the \(k \times (n - k)\) block \(*\). Since the frist \(k\) rows are linearly independent, we call \(U = U_{1 < 2 < \dots < k}\). More generally the domain of charts take the form \(U_{1 \leq i_1 < \dots < i_k \leq n}\). It is an exercise to check that this gives a valid \(C^\infty\) structure.
  \item A non-example: define an equivalence relation \((x, y) \sim (\lambda x, \frac{y}{\lambda})\) for all \(\lambda \neq 0\) and define \(X := \R^2/\sim\). \(\{xy = c\}\) is one equivalence class if \(c \neq 0\). If \(c = 0\), \(\{xy = 0\}\) is three classes \(\{(x, 0): x \neq 0\}, \{(0, 0)\}, \{(0, y): y \neq 0\}\). Thus
    \[
      X \cong (-\infty, 0) \cup \{0', 0'', 0'''\} \cup (0, \infty).
    \]
    Define charts
    \[
      \varphi_i: (-\infty, 0) \cup 0^{(i)} \cup (0, \infty) \to \R
    \]
    in the obvious ways. We can check that it gives \(X\) a valid \(C^\infty\) structure, except that the induced topology is non-Hausdorff!
  \item For a non-second countable example, see example sheet 1 Q12.
  \end{enumerate}
\end{eg}

\begin{definition}[smooth map]\index{smooth map}
  Let \(M, N\) be manifolds, a continuous map \(f: M \to N\) is \emph{smooth} or \(C^\infty\) if for any \(p \in M\), there exists charts \((U, \varphi)\) on \(M\), \((V, \psi)\) on \(N\) such that \(p \in U, f(p) \in V\) and
  \[
    \psi \compose f \compose \varphi^{-1}
  \]
  is smooth wherever it is defined, i.e.\ on \(\varphi(U \cap f^{-1}(V)) \subseteq \R^n\) where \(n = \dim M\).
\end{definition}

\begin{remark}
  Note that by continuity, \(\varphi(U \cap f^{-1}(V))\) is necessarily open. Of course we can do it differently by not requiring \(f\) to be continuous a priori but instead ask the above set to be open.
\end{remark}

For any charts \(\tilde \varphi, \tilde \psi\),
\[
  \tilde \psi \compose f \compose \tilde \varphi^{-1} = (\tilde \psi \compose \psi^{-1}) \compose (\psi \compose f \compose \varphi^{-1}) \compose (\varphi \compose \tilde \varphi^{-1})
\]
is a composition of smooth map so is smooth. Thus smoothness of a map is independent of charts.

\begin{definition}[diffeomorphism]\index{diffeomorphism}
  A smooth map \(f: M \to N\) is a \emph{diffeomorphism} if \(f\) is bijective and \(f^{-1}\) is smooth. If such \(f\) exists, \(M\) and \(N\) are \emph{diffeomorphism}.
\end{definition}

\begin{remark}\leavevmode
\begin{enumerate}
\item Our definition of smoothness is a generalisation of that in calculus. More precisely, \(f: \R^n \to \R^m\) is smooth if and only if it is smooth in the calculus sense.
\item Any chart \(\varphi: U \to \R^d\) is a diffeomorphism onto its image.
\item Composition of smooth maps is smooth.
\end{enumerate}
\end{remark}

\section{Matrix Lie groups}

We can view \(\GL(n, \R)\) as an array of numbers and thus embed it in \(\R^{n^2}\). Furthermore, by considering the determinant function it is an open subset so is an \(n^2\)-manifold. Matrix multiplication is obviously smooth. In the same vein we have \(\GL(n, \C)\), \(\SL(n, \R)\) etc as mannifolds with smooth multiplications.

\begin{definition}[Lie group]\index{Lie group}
  A group \(G\) is a \emph{Lie group} if \(G\) is a manifold and has a compatible group structure, i.e.\ the map \((\sigma, \tau) \mapsto \sigma\tau^{-1}\) is smooth.
\end{definition}

Before Lie groups, let's have a short digression in analysis to discuss the exponential map. For a complex \(n \times n\) matrix \(A = (a_{ij})\), define a norm
\[
  |A| = n \cdot \max_{ij} |a_{ij}|
\]
where the \(n\) in front is such that \(|AB| \leq |A| \cdot |B|\). We now define
\[
  \exp(A) := I + A + \frac{1}{2} A^2 + \dots + \frac{1}{n!} A^n + \dots
\]

Of course we have to check the series makes sense: in fact \(\exp A\) is absolutely convergent for all \(A\) as \(\left| \frac{A^n}{n!} \right| \leq \frac{|A|^n}{n!}\). The series is also uniformly convergent on any compact set, by Weierstrass \(M\)-test. Therefore \(\exp\) is a well-defined continuous map.

In fact, the map is smooth although the proof is technical. A sketch of the proof is like this: note that \(f: A \to A^m\) is smooth for all \(m \in \N\). For \(m = 2\), \(df_A: H \mapsto HA + AH\) so \(\norm{df_A} \leq 2 |A|\) so for all \(m\),
\[
  \norm{df_A} \leq m |A|^{m - 1}
\]
We can thus term-by-term differentiate \(\exp\) and get a locally uniformly convergent series and use the above estimate to bound derivatives.

It is easy to check that:
\begin{enumerate}
\item \(\exp (A^t) = (\exp A)^t\) where \(A^t\) is the transpose of \(A\).
\item \(\exp (CAC^{-1}) = C (\exp A) C^{-1}\) for \(C\) nonsingular.
\item \(\exp (A + B) \neq \exp A \exp B\) unless \(AB = BA\).
\item \(\exp A \exp (-A) = I\) for any matrix \(A\).
\end{enumerate}

The second property prompts us to put \(A\) into Jordan normal form before computing \(\exp A\).

Using the series
\[
  \log (I + A) = A - \frac{A^2}{2} + \dots + (-1)^{n + 1} \frac{A^n}{n} + \dots
\]
we can tackle this similarly to \(\exp\) to check \(\log(I + A)\) is smooth on \(\{|A| < 1\}\). We can also check
\[
  \exp (\log A) = A
\]
if \(|A - I| < 1\), with a proof given by manipulation of double indexed series, which is valid due to absolute convergence. The expression \(\log (\exp A)\) is more subtle. Clearly we need \(|\exp A - I| < 1\). But it is not sufficient: if
\[
  A_\theta =
  \begin{pmatrix}
    0 & -\theta \\
    \theta & 0
  \end{pmatrix}
\]
where \(\theta \in \R\), then
\[
  \exp(A_\theta) =
  \begin{pmatrix}
    \cos \theta & - \sin \theta \\
    \sin \theta & \cos \theta
  \end{pmatrix}
\]
Put \(\theta = 2\pi\), \(\exp A - I = 0\) but
\[
  \log (\exp A_{2\pi}) = 0 \neq A_{2\pi}.
\]
The reason is that the series is no longer absolutely convergent. If we add the additional condition that \(|A| < \log 2\) then
\[
  \log (\exp A) = A.
\]
It is left as an exercise. (Hint: \(|\exp |A| - 1| < 1\) implies absolute convergence.)

\begin{eg}[orthogonal group]
  Recall that
  \[
    O(n) = \{A \in \GL(n, \R), AA^t = I\}.
  \]
  Let \(A \in O(n)\) with \(|A - I| < 1\). Let \(B = \log A\) so \(e^B = A\). There exists \(0 < \varepsilon < 1\) such that whever \(|A - I| < \varepsilon\), have \(|B| < \log 2\) using continuity of \(\log\). Then
  \[
    e^B e^{B^t} = AA^t = I
  \]
  so
  \[
    e^B = A = (A^t)^{-1} = (e^{B^t})^{-1} = e^{-B^t}.
  \]
  Now \(|B^t| = |B| = \log 2\). Taking \(\log\), we find that \(B = -B^t\) so \(B\) is a skew-symmetric matrix.

  Conversely, if \(B = - B^t\), \(|B| < \log 2\) then
  \[
    (e^B)^t = e^{B^t} = e^{-B} = (e^B)^{-1}
  \]
  so \(A = e^B \in O(n)\).

\begin{proposition}
  \(O(n)\) has a \(C^\infty\) structure making it a manifold and Lie group of dimension \(\frac{n(n - 1)}{2}\).
\end{proposition}

\begin{proof}
  Put
  \[
    V_0 := \{B: B \text{ skew-symmetric}, |B| < \log 2\}
  \]
  and \(U := \exp (V_0)\), an open neighbourhood of \(I \in O(n)\). Let
  \begin{align*}
    h: U &\to V_0 \\
    A &\mapsto \log A
  \end{align*}
  which is a well-defined homeomorphism onto \(V_0\), an open subset of the skew-symmetric matrices, which can be identified with \(\R^{n(n - 1)/2}\).

  Now we construct the charts \((U_C, h_C)\). For all \(C = O(n)\), put \(U_C := \{CA: A \in U\}\), i.e.\ left translation of \(U\) by \(C\). Define
  \begin{align*}
    h_C: U_C &\to V_0 \\
    A &\mapsto \log (C^{-1}A)
  \end{align*}
  which is a homeomorphism % ?
  . To check they form an atlas, first note that \(C \in U_C\) so \(O(n) = \bigcup_{C \in O(n)} U_C\). Furthermore
  \[
    h_{C_2} \compose h_{C_1}^{-1} (B) = h_{C_2} (C_1 e^B) = \log (C_2^{-1}C_1 e^B)
  \]
  which is smooth since it is the composition of smooth maps. Thus \(O(n)\) is a manifold.

  To check compatibility of group axioms, define
  \begin{align*}
    F: O(n) \times O(n) &\to O(n) \\
    (A_1, A_2) &\mapsto A_1A_2^{-1}
  \end{align*}
  In local coordinates, it is
  \begin{align*}
    &h_{A_1A_2^{-1}} (F(h_{A_1}^{-1}(B_1), h_{A_2}^{-1}(B_2))) \\
    =& \log [(A_1A_2^{-1})^{-1}A_1 e^{B_1} (A_2 e^{B_2})^{-1}] \\
    =& \log (A_2 e^{B_1} e^{-B_2} A_2^{-1})
  \end{align*}
  which is smooth.
\end{proof}
\end{eg}

The same construction works for other classical groups of matrices. See example sheet 1 Q4.

\section{Tangent space to manifolds}

Consider a curve in \(\R^n\), defined by a smooth parameterisation
\[
  x(t) = (x_i(t))_{i = 1}^n
\]
such that \(x(0) = p \in \R^n\). Then a tangent to the curve is velocity
\[
  \dot x(t) \in T_p\R^n \cong \R^n.
\]
Let \(y = y(x)\) be a \(C^\infty\) change of variables, i.e.\ a local coordinates. Then
\[
  \frac{d}{dt} \Big|_{t = 0} y(x(t)) = \underbrace{\frac{D y}{D x}}_{\text{Jacobian}}(p) \dot x(0)
  = \left( \sum_{j = 1}^n \frac{\p y_i}{\p x_j} a_j \right)_{i = 1}^n
\]

\begin{definition}
  A \emph{tangent vector} \(a\) to a manifold \(M\) at a point \(p \in M\) is the assignment to each chart \((U, \varphi)\), \(p \in U\) a \(n\)-tuple \((a_1, \dots, a_n) \in \R^n\) where \(n = \dim M\) so that for another chart \((U', \varphi')\), \(p \in U'\) with local coordinates \((x_1, \dots, x_n)\) and \((x_1', \dots, x_n')\), we have
  \[
    a_i' = \sum_{j = 1}^n \frac{\p x_i'}{\p x_j} (p) a_j.
  \]
\end{definition}

This is sometimes known as the tensorial definition of tangent space. Other equivalent definitions involve flows or using derivation on germs of smooth functions.

\begin{definition}[tangent space]\index{tangent space}
  The \emph{tangent space} \(T_pM\) is the set of all tangent vectors to \(M\) at \(p\).
\end{definition}

It follows that \(T_pM\) is an \(n\)-dimensional real vector space. Thus \(T_pM \cong \R^n\) although this isomorphism is not canonical. But given a local coordinate chart with coordinates \((x_1, \dots, x_n)\), the tuple \((0, \dots, 1, \dots, 0)\) with \(1\) in \(i\)th position in \(\R^n\) has image under isomorphism \(\frac{\p}{\p x_i} (p)\). Recall the chain rule for partial derivatives:
\[
  \frac{\p}{\p x_j'} = \sum_{i = 1}^n \frac{\p x_i}{\p x_j'} \frac{\p}{\p x_i}
\]
where \((x_1', \dots, x_n')\) is another chart. This is precisely the reason we impose upon tangent vectors the transformation rule, namely so that tangent vectors become a well-defined derivation of smooth functions at \(p\): let \(a = \sum_i a_i \frac{\p}{\p x_i} (p) \in T_pM\) where \(x_i\)'s are local coordinates around \(p\). Then a first order \emph{derivation} at \(p\) is
\begin{align*}
  a: C^\infty(M) &\to \R \\
  f &\mapsto \sum_i a_i \frac{\partial f}{\partial x_i} 
\end{align*}
(where we assume the same charts on RHS) is a well-defined map independent of choice of coordinates. We can interpret, with the \(x_i\)'s,
\[
  a(f) = \frac{d}{dt} \Big|_{t = 0} f(x(t))
\]
for all \(x: (-\varepsilon, \varepsilon) \to M\) smooth, \(x(0) = p\) and \(\dot x(0) = a\).

Now for another choice \(\tilde x_i\) of local coordinates,
\[
  \frac{d}{dt} \Big|_{t = 0} f(\tilde x(t))
  = \sum_j \frac{\partial f}{\partial \tilde x_j} (p) \dot{\tilde x}_j(0)
  = \sum_{j, i} \frac{\partial f}{\partial \tilde x_j}(p) \frac{\partial \tilde x_j}{\partial x_i}(p) \dot x_i(0)
\]
by the transformation law for tangent vectors.% Thus the tensor transformation law is 

The derivations satisfy Leibniz rule, i.e.\
\[
  a(fg) = a(f)g(p) + f(p)a(g).
\]
Conversely, every linear map \(a: C^\infty(M) \to \R\) satisfying the Leibniz rule arises from some \(a \in T_pM\). This is left as an exercise.

\begin{eg}
  An example from classical differential geometry. Consider a surface \(r = r(u, v): D \to S\) where \(D \subseteq \R^2\) and \(S = r(D) \subseteq \R^3\). Then \(S\) is a manifold with \(\varphi = r^{-1}\) as a chart. Then \(r_u, r_v\) at \(p \in S\) corresponds to \(\frac{\partial}{\partial u}, \frac{\partial}{\partial v}\) in our theory.
\end{eg}

\subsection{Lie algebra}

For a Lie group, the tangent spaces get an ``infinitesimal'' version of the group multiplication.

\begin{definition}
  A \emph{Lie algebra} is a vector space with a bilinear multiplication \([\cdot, \cdot]\), i.e.\ a Lie bracket such that
  \begin{enumerate}
  \item anticommutativity: \([a, b] = -[b, a]\),
  \item Jacobi identity: \([[a, b], c] + [[b, c], a] + [[c, a], b] = 0\).
  \end{enumerate}
\end{definition}

\begin{theorem}
  Let \(G\) be a Lie group of \(n \times n\) (real or complex) matrices such that \(\log\) defines a coordinate chart near \(I \in G\), i.e.\ the image of \(\log\) near \(I\) is an open set in some real vector subspace of \(\R^{n^2}\). Identify \(\mathfrak g = T_IG\) with the above open subset. Then \(\mathfrak g\) is a Lie algebra with
  \[
    [B_1, B_2] := B_1B_2 - B_2B_1
  \]
  for \(B_1, B_2 \in \mathfrak g\).
\end{theorem}

\begin{proof}
  Check that \(\mathfrak g\) is a vector space and \([\cdot, \cdot]\) is anticommutative. The Jacobi identity holds for matrices (straightforward check).

  What is left is to show \(B_1, B_2 \in \mathfrak g\) then \([B_1, B_2] \in \mathfrak g\). Consider
  \[
    A(t) = \exp (B_1 t) \exp (B_2 t) \exp(-B_1t) \exp (-B_2t),
  \]
  the commutator of two elements in \(G\). Then \(A(0) = I\). Expand \(\exp\), we get
  \[
    A(t) = I + [B_1, B_2] t^2 + o(t^2)
  \]
  as \(t \to 0\) so
  \[
    B(t) = \log A(t) = [B_1, B_2] t^2 + o(t^2).
  \]
  In addition \(\exp B(t) = A(t)\) holds for \(|t|\) sufficiently small so \(B(t) \in \mathfrak g\) as it is in the image of the \(\log\) chart. It follows that \(\frac{B(t)}{t^2} \in \mathfrak g\) for \(t \neq 0\) as \(\mathfrak g\) is a vector space. Thus
  \[
    [B_1, B_2] = \lim_{t \to 0} \frac{B(t)}{t^2} \in \mathfrak g
  \]
  as every vector subspace of matrix \(n, \C\) is a closed subset.
\end{proof}

\begin{eg}
  For \(G = O(n)\), have \(\mathfrak g = \mathfrak o(n) = \{\text{skew-symmetric \(n \times n\) matrices}\}\) by previous work.
\end{eg}

\begin{definition}
  \(\mathfrak g\) is called the \emph{Lie algebra} of \(G\), write \(\mathfrak g = \Lie(G)\).
\end{definition}

In fact we can show \(\Lie\) is a functor but we won't pursue in that direction.

\begin{definition}[tangent bundle]\index{tangent bundle}
  Let \(M\) be a smooth manifold. Then \(TM = \coprod_{p \in M} T_pM\) is the \emph{tangent bundle} of \(M\).
\end{definition}

\begin{theorem}
  \(TM\) has a natural \(C^\infty\) structure, making it into a smooth manifold of \(\dim TM = 2 \dim M\).
\end{theorem}

\begin{proof}
  We shall induce the topology from the \(C^\infty\) structure. Let \((U, \varphi)\) be a chart on \(M\). Consider \(U_T = \coprod_{p \in U} T_pM\) so \(TM = \bigcup U_T\). For \(a \in T_pM, \varphi(p) = (x_1, \dots, x_n)\) so that \(a = \sum_i a_i \frac{\partial  }{\partial x_i}\). Now define
  \begin{align*}
    \varphi_T: U_T &\to \R^n \times \R^n \\
    a &\mapsto (\varphi(p), (a_i))
  \end{align*}

  To show compatibility, suppose \((U', \varphi')\) is another chart on \(M\) with local coordinates \(x_i'\) and efine \(\tilde \varphi'\) as above. Then
  \[
    \varphi_T' \compose \varphi_T^{-1}(x, a)
    = (x', a')
  \]
  where \(x' = \varphi' \compose \varphi^{-1}(x)\) and \(a'\) is given by the translation law
  \[
    a' = \sum_j \frac{\partial x_i'}{\partial x_j} (x) a_j,
  \]
  so is smooth wherever defined.

  Hausdorffness and second countability follows from that \(M\) and \(\R^n\) are manifolds.
\end{proof}

\begin{note}
  Some remarks on the final statement regarding topological properties:
  \begin{enumerate}
  \item \(M\) is \(\sigma\)-compact, i.e.\ every open cover has a countable subcover.
  \item A basis of topology of \(TM\) is given by \(\{B_1 \times B_2\}\) where \(B_1\) is open in some coordinate neighbourhood \(U \subseteq M\) and \(B_2\) is open in \(\R^n\).
  \end{enumerate}
\end{note}

\begin{corollary}
  The projection
  \begin{align*}
    \pi: TM &\to M \\
    (p, a) &\mapsto p
  \end{align*}
  is smooth.
\end{corollary}

\begin{remark}
  \(TM\) has locally a product structure but in general \(TM\) is not diffeomorphic to \(M \times \R^n\).
\end{remark}

\begin{definition}[vector field]\index{vector field}
  A \emph{vector field} on a manifold \(M\) is a smooth map \(X: M \to TM\) such that \(\pi \compose X = \id_M\), i.e.\ \(X(p) \in T_pM\) for all \(p \in M\).
\end{definition}

Note that \(X\) is smooth at \(p\) if and only if for any coordinate neighbourhood \(U\) of \(p\) with local coordinates \((x_1, \dots, x_n)\), \(X = \sum_{i = 1}^n a_i(x) \frac{\partial  }{\partial x}\) where \(a_i \in C^\infty(U)\) for all \(i\).

\begin{eg}
  Every manifold has at least one vector field: sending every point to \(0\). This is not the most interesting example, however.
\end{eg}

\begin{theorem}
  Suppose \(\dim M = n\). Then there exists smooth vector fields \(X^{(1)}, \dots, X^{(n)}\) on \(M\) such that for all \(p \in M\), \(X^{(1)}(p), \dots, X^{(n)}(p)\) is a basis of \(T_pM\), then \(TM\) is isomorphic to \(M \times \R^n\).
\end{theorem}

Here ``isomorphic'' means that there is a diffeomorphism \(\Phi: TM \to M \times \R^n\) such that \(\Phi|_{T_pM}: T_pM \to \{p\} \times \R^n\) is a linear isomorphism.

\begin{definition}[parallelisable]\index{parallelisable}
  A manifold satisfying the hypothesis is called \emph{parallelisable}.
\end{definition}

\begin{proof}
  Consider \(p \in M\) so \(\pi(a) = p\) for all \(a \in T_pM\). Then \(a = \sum_{i = 1}^n a_iX^{(i)}(p)\) for some unique \(a_i \in \R\). Put
  \[
    \Phi(a) := (\pi(a), (a_1, \dots, a_n)) \in M \times \R^n
  \]
  which is clearly a bijection and \(\Phi|_{T_pM}\) is a linear isomorphism. Thus suffices to check \(\Phi\) is a diffeomorphism. We use chart \((U, \varphi)\) on \(M\) and let \((\pi^{-1}(U), \varphi_T)\) be the corresponding chart on \(TM\). Then
  \[
    (\varphi, \id_{\R^n}) \compose \Phi \compose \varphi_T^{-1}:
    (x, (b_i)_{i = 1}^n) \mapsto (x, (a_i)_{i = 1}^n)
  \]
  such that
  \[
    a = \sum_i a_i X^{(i)}(p) = \sum_j b_j \frac{\p}{\p x_j}(p).
  \]
  It is then obvious that these \(a_i\)'s and \(b_j\)'s differ by a change-of-basis transformation. Explicitly, write \(X^{(i)}\) in local basis as
  \[
    X^{(i)}|_U = \sum_j X_j^{(i)} (x) \frac{\partial  }{\partial x_j}
  \]
  and so
  \[
    b_j = \sum_i a_i X_j^{(i)}(x)
  \]
  so \(\Phi\) is smooth. To check the inverse, note that \((X_j^{(i)}(x))\) is a non-singular matrix smooth in \(x\) so \(\Phi^{-1}\) also has a smooth local expression.
\end{proof}

\begin{remark}\leavevmode
  \begin{enumerate}
  \item The converse is easily seen to be true, in which case vector fields on \(M\) are simply \(C^\infty(M, \R^n)\).
  \item The parallelisable hypothesis is quite restrictive. For example, it implies that each \(X^{(i)}\) is never-zero. Some manifolds, such as \(S^2\) do not have such vector fields at all. In fact, \(S^n\) is parallelisable if only if \(n = 1, 3, 7\).
  \item Every orientable \(3\)-dimensional vector field is parallelisable.
  \end{enumerate}
\end{remark}

\begin{ex}
  Show \(S^{2n + 1}\) has a never-zero vector field.
\end{ex}

\begin{definition}[differential]\index{differential}
  Let \(F: M \to N\) be a smooth map. Then the \emph{differential} of \(F\) at \(p \in M\) is a linear map
  \[
    dF_p: T_pM \to T_{F(p)}N
  \]
  such that if \(x_i\) is a local coordinate near \(p\) and \(y_i\) is a local coordinate near \(F(p)\), then
  \[
    dF_p : \frac{\partial  }{\partial x_i} \mapsto \sum_j \frac{\partial \hat F_j}{\partial x_i}(x(p)) \frac{\partial  }{\partial y_j} (F(p))
  \]
  where \(\hat F = \psi \compose F \compose \phi^{-1}\) is the coordinate representation of \(F\).
\end{definition}

Now we have to check that it is independent of coordinate representation. Recall that
\[
  \frac{\partial  }{\partial x_k'}(p) = \sum_i \frac{\partial x_i}{\partial x_k'}(x'(p)) \frac{\partial  }{\partial x_i}(p)
\]
and similar for \(\frac{\partial  }{\partial y_j}(F(p))\). So
\[
  df_p: \frac{\partial  }{\partial x_k'}(p) \mapsto \sum_{i, j, \ell} \underbrace{\frac{\partial x_i}{\partial x_k'} \frac{\partial y_j}{\partial x_i} \frac{\partial y_\ell'}{\partial y_j}}_{\frac{\partial y_\ell'}{\partial x_k'} \text{ by chain rule}} \frac{\partial  }{\partial y_\ell'} (F(p))
\]
so \(dF_p\) is indeed invariantly defined.

\begin{ex}[geometer's chain rule]
  For \(M \xrightarrow{F} N \xrightarrow{G} Z\), we have
  \[
    d(G \compose F)_p = dG_{F(p)} \compose dF_p.
  \]
\end{ex}

Now suppose \(F: M \to N\) is a diffeomorphism and \(X\) is a vector field on \(M\). Then \((dF)X\) is a valid vector field on \(N\).

\begin{remark}
  In general a vector field does not admit a pushforward. We need surjectivity so \((dF)X\) is everywhere defined and injectivity to avoid conflicting values on target points. Finally we need the inverse to be smooth to ensure \((dF)X\) is smooth.
\end{remark}

Every vector field \(X\) defines a linear map from \(C^\infty(M)\) to itself. More precisely, it is a first order derivation with \(p \in M\) varying. Locally, if \(X = \sum_i X_i(x) \frac{\partial  }{\partial x_i}\) then \(Xh\) is given by
\[
  Xh = \sum_i X_i(x) \frac{\partial h}{\partial x_i}(x)
\]
It is an easy exercise to check that it is invariantly defined.

On the other hand, a smooth function on \(N\) can always be pulled back by \(F\). Suppose \(f \in C^\infty(N)\). Then \(f \compose F \in C^\infty(M)\). Thus in any local coordinates \(x_i\) on \(M\), \(y_i\) on \(N\), have
\[
  \frac{\partial  }{\partial x_i}(p) (f \compose F) = \sum_j \frac{\partial f}{\partial y_j} (y(F(p)) \frac{\partial y_j}{\partial x_i} (x(p)).
\]
Thus we have a coordinate-free formula
\[
  X(f \compose F) = ((dF)X f) \compose F.
\]
Equivalently, the following diagram commutes:
\[
  \begin{tikzcd}
    C^\infty(N) \ar[r, "F^*"] \ar[d, "(dF) X"] & C^\infty(M) \ar[d, "X"] \\
    C^\infty(N) \ar[r, "F^*"] & C^\infty(M)
  \end{tikzcd}
\]

Let \(X\) and \(Y\) be two vector fields on \(M\) considered as first order linear differential operators. The composition \(XY\) is \emph{not} a vector field. However,
\[
  Z := [X, Y] := XY - YX
\]
is a vector field. In local coordinates, it is
\[
  \sum_{i, k} \left( X_i \frac{\partial Y_k}{\partial x_i} - Y_i \frac{\partial X_k}{\partial x_i} \right) \frac{\partial  }{\partial x_k}
\]
where \(X = \sum_i X_i \frac{\p}{\p x_i}, Y = \sum_i Y_i \frac{\p}{\p x_i}\). Check that second order derivatives vanish (because of symmetry of mixed partials). We can check that \(Z\) is a vector field and as a map \(C^\infty(M) \to C^\infty(M)\) it is linear over \(\R\) and satisfy
\[
  Z(fg) = (Zf) g + f Zg.
\]

Thus vector fields on \(M\) form a Lie algebra, which is infinite-dimensional. Denote it by \(V(M)\).

\subsection{Left-invariant vector field}

Let \(G\) be a Lie group and \(e \in G\) the identity element. Let \(\mathfrak g = T_eG\). Given \(g \in G\), the left translation by \(g\)
\begin{align*}
  L_g: G &\to G \\
  h &\mapsto gh
\end{align*}
is a smooth map and since it has inverse \(L_{g^{-1}}\), it is a diffeomorphism.

Given \(\xi \in \mathfrak g\), we can define a vector field by
\[
  X_\xi(g) := (dL_g)_e(\xi) \in T_gG.
\]
We can do this because for every point there is a diffeomorphism sending \(e\) to it, and therefore we can construct a vector field using only its information at \(e\). We will soon find out there are lots of symmetry involved.

\begin{lemma}
  The map \(X_\xi: G \to TG, g \mapsto (dL_g)_e(\xi)\)  is smooth so \(X_\xi\) is a smooth vector field.
\end{lemma}

\begin{proof}
  As usual, check smoothness in local coordinates. Consider group multiplication \(L: G \times G \to G\). Fix \(g_0 \in G\), then around \((g_0, e) \in G \times G\), given charts \(\varphi_e\) around \(e\) whose image is \(V_e\) and \(\varphi_{g_0}\) around \(g_0\) whose image is \(V_{g_0}\), the local expression \(\hat L\) is
  \begin{align*}
    V_{g_0} \times V_e &\to V_{g_0}' \\
    \hat L &= \varphi_{g_0} (L(\varphi_{g_0}^{-1}(\cdot), \varphi_e^{-1}(\cdot)))
  \end{align*}
  Then \(\hat L_g = \hat L(\varphi_{g_0}(g), \cdot): V_e \to V_{g_0}'\).% ?
  Thus \(D_2\hat L\), the derivative of the \(V_e\) variables, gives the coordinate expression for \((dL_g)_e\). But \(D_2\hat L\) depends smoothly on the \(V_{g_0}\) variables as \(L\) is a \(C^\infty\) map. Therefore \(X_\xi\) is a smooth map around \(g_0\). As \(g_0\) is arbitrary \(X_\xi\) is smooth.
\end{proof}

We have shown that, identifying \(\mathfrak g = T_eG\), that
\[
  (dL_g)_e: \mathfrak g \to T_gG
\]
is smooth. In fact, it is a linear isomorphism. Thus we have

\begin{proposition}
  If \(\xi_1, \dots, \xi_n\) are linearly independent (form a basis, respectively) in \(\mathfrak g\) then for all \(g \in G\), \(X_{\xi_1}(g), \dots, X_{\xi_n}(g)\) are linearly independent (form a basis, respectively) in \(T_gG\).
\end{proposition}

As a consequence we have

\begin{theorem}
  Every Lie group \(G\) is parallelisable, i.e.\ \(TG \cong G \times \R^{\dim G}\) where the diffeomorphism restricts to \(T_gG\) is an isomorphism onto \(\{g\} \times \R^{\dim G}\) for all \(g \in G\).
\end{theorem}

There is another symmetry for a Lie group \(G\). For all \(g, h \in G\), for all \(\xi \in \mathfrak g\),
\[
  (dL_g)_h X_\xi(h)
  = (dL_g)_h (dL_h)_e \xi
  = (dL_{gh})_e \xi
  = X_\xi(gh),
\]
i.e.\
\[
  \label{eqn:left invariant vector field}
  (dL_g) X_\xi = X_\xi \compose L_g,
  \tag{\ast}
\]
which, if we view \(X_\xi: M \to TM\) as a global section of the projection map, may also be written as \((dL_g) X_\xi = X_\xi\).

\begin{definition}[left-invariant vector field]\index{left-invariant}
  A vector field \(X\) on a Lie group satisfying the \eqref{eqn:left invariant vector field} is called \emph{left-invariant}. Denote the subspace of all left-invariant vector fields by \(\ell(G)\).
\end{definition}

One important observation is that \(\ell(G)\) is a finite-dimensional subspace of \(V(G)\): it is easy to see that for all \(X \in \ell(G)\), there exists a unique \(\xi \in \mathfrak g\) such that \(X = X_\xi\). This induces an isomorphism \(\ell(G) \cong \mathfrak g\) so \(\dim \ell(G) = \dim G\). Even better, \(\ell(G)\) is closed under Lie bracket so

\begin{theorem}
  \(\ell(G)\) is a Lie subalgebra of \(V(G)\).
\end{theorem}

\begin{proof}
  One way to show this is to use
  \[
    X(f \compose F) = ((dF) X f) \compose F
  \]
  with \(F = L_g, X = X_\xi\) and \(f \in C^\infty(G)\). See example sheet.

  Alternatively, for any vector fields \(X, Y\) and diffeomorphism \(F\), in example sheet 1 Q6 we show that
  \[
    (dF) [X, Y] = [(dF) X, (dF) Y].
  \]
  Let \(f \in C^\infty(G), g \in G, \xi, \eta \in \mathfrak g\). Then
  \begin{align*}
    & ((dL_g) [X_\xi, X_\eta] f) \compose L_g \\
    =& ([(dL_g) X_\xi, (dL_g) X_\eta] f) \compose L_g \\
    =& ([X_\xi \compose L_g, X_\eta \compose L_g] f) \compose L_g \\
    =& (([X_\xi, X_\eta] \compose L_g) f) \compose L_g
  \end{align*}
  % why \compose L_g in the end?
  which is saying
  \[
    (dL_g) [X_\xi, X_\eta] = [X_\xi, X_\eta] \compose L_g
  \]
  which is precisely \eqref{eqn:left invariant vector field}.
\end{proof}

We now have, in the case of ``good'' matrix Lie groups, two definitions making \(\mathfrak g\) into a Lie algebra. In fact, they are equivalent.

\begin{theorem}
  Let \(G\) be a matrix Lie group with \(\log\) defining  a chart around \(e \in G\). Then
  \begin{align*}
    T_eG &\to \ell(G) \\
    \xi &\mapsto X_\xi
  \end{align*}
  is an isomorphism of the Lie algebras (using the ``matrix'' definition on LHS).
\end{theorem}
We will prove the theorem in the next chapter.

\section{Submanifolds}

Let \(M\) be a manifold, \(N \subseteq M\) and \(N\) is itself a manifold (not a priori to be have restriction of smooth structure on \(M\)). Denote \(\iota: N \to M\) the inclusion map.

\begin{definition}[embedded submanifold]\index{embedded submanifold}
  If \(\iota\) is smooth, \(d\iota_p: T_pN \to T_pM\) is injective for all \(p \in N\) and \(\iota\) is a homeomorphism onto its image, then we say \(N\) is an \emph{embedded submanifold} of \(M\).
\end{definition}

\begin{definition}[immersed submanifold]\index{immersed submanifold}
  If we drop the requirement that \(\iota\) is a homeomorphism then \(N\) is a \emph{immersed submanifold} of \(M\).
\end{definition}

At this point, the topological requirement may seem a bit mysterious and not clear what it entails. It is equivalent to the statement that \(D \subseteq N\) is open in \(N\) if and only if \(D = U \cap N\) for some \(U \subseteq M\) open. It excludes situation like mapping an open interval to figure 8.

A variant of the definition may omit \(N \subseteq M\) and instead require \(\psi: N \to M\) to be an embedding. If \(\psi\) is injective and the three properties hold then \(\psi(N) \subseteq M\) is an embedded submanifold.

\begin{convention}
  From now on submanifold means by default embedded submanifold.
\end{convention}

\begin{notation}
  For manifolds \(M\) and \(N\) and \(\psi: N \to M\) an embedding, write \(\psi: N \embed M\), i.e.\ \(\psi(N)\) is a submanifold of \(M\).
\end{notation}

\begin{remark}
  An immersion \(\psi: N \to M\) means that \(d\psi\) is injective everywhere. In this way we may obtain \(\psi(N) \subseteq M\) ``immersed with self-intersections''.
\end{remark}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item For curves and surfaces in \(\R^3\), \(\gamma: (0, 1) \to \R^3\) and \(r: U \to \R^3\) where \(U \subseteq \R^2\), the conditions mean that
    \begin{enumerate}
    \item \(\gamma\) and \(r\) are smooth,
    \item they are regular parameterisations,
    \item depending on what we are interested in, we may require them to be (topological) embeddings.
    \end{enumerate}
  \item The figure 8 example mentioned to distinguish embedded vs.\ immersed manifold may seem contrived. However, immersed (and not embedded) manifolds emerge naturally from \emph{irrational twist flow}. Consider the map
    \begin{align*}
      \R &\to S^1 \times S^1 \\
      t &\mapsto (e^{it}, e^{i\alpha t})
    \end{align*}
    where \(\alpha \in \R \setminus \Q\). We can check that the map is injective and the image is dense in \(S^1 \times S^1\). In particular it is not a toplogical emedding so this is an immersion but not an embedding.
  \end{enumerate}
\end{eg}

One frequently asked question is: is a submanifold of \(\R^n\) the same as \(f^{-1}(0)\) for some smooth map \(f: \R^n \to \R^k\)? In general, no! \(f^{-1}(0) \subseteq \R^n\) is closed. One can check that for every closed \(E \subseteq \R^2\) there exists a smooth \(f: \R^2 \to \R\) such that \(f^{-1}(0) = E\).

\begin{definition}[regular value]\index{regular value}
  Let \(f: M \to Y\) be a smooth map. \(q \in Y\) is a \emph{regular value} of \(f\) if for all \(p \in M\) such that \(f(p) = q\), \(df_p\) is surjective.
\end{definition}
Note that under this definition if \(q \notin f(M)\) then \(q\) is vacuuously a regular value of \(f\).

\begin{theorem}
  Let \(f: M \to Y\) be a smooth map and \(q \in Y\) is regular value of \(f\). If \(f^{-1}(q) \neq \emptyset\) then \(N = f^{-1}(q)\) is an embedded submanifold with
  \[
    \dim N = \dim M - \dim Y.
  \]
\end{theorem}
This is geometer's implicit function theorem, also known as preimage theorem. We assume this theorem without proof, which can be found in the lecturer's online notes.

\begin{remark}
  By a result in differential topology, suppose \(M\) is a manifold and \(N \subseteq M\) is equipped with subspace topology. If there exists a smooth structure on \(N\) such that \(N \subseteq M\) is submanifold then this structure is unique. Thus it makes sense to say \(N\) is or isn't a submanifold of \(M\).
\end{remark}

% TODO
% check this proposition and its proof

\begin{proposition}
  Let \(N \embed M\) and \(p \in N\). Then there eixsts a neighbourhood \(U\) of \(p\) in \(M\) and a smooth map \(f: U \to \R^d\) where \(d = \dim M - \dim N\) such that \(N \cap U = f^{-1}(0)\). \(d\) is called the \emph{codimension}\index{codimension} of \(N\) in \(M\).
\end{proposition}

\begin{proof}
  Let \(\varphi: U_0 \to \R^n\) is a chart on \(M\) where \(\varphi(p) = 0\) with local coordinates \((x_1, \dots, x_n)\). Let \(\psi: V_0 \to \R^\ell\) be a chart on \(N\) where \(\psi(p) = 0\) with local coordinates \((y_1, \dots, y_\ell)\). Then the inclusion \(\iota: N \to M\) has local exression
  \[
    x_i = x_i(y).
    %?
  \]
  The derivative at \(0\)
  \[
    \left( \frac{\partial x_i}{\partial y_j} (0) \right)_{n \times \ell}
  \]
  has rank \(\ell\). wlog we may assume the top \(\ell \times \ell \) submatrix is nonsingular. Then by Inverse function theorem,
  \[
    y_j = y_j(x_1, \dots x_\ell)
  \]
  which is well-defined and smooth near \(0\). Then for \(i > \ell\),
  \[
    x_i = x_i(y(x_1, \dots, x_\ell))
    = h_i(x_1, \dots, x_\ell).
  \]
  Then
  \[
    f_i(x) := x_i - h_i(x_1, \dots, x_\ell)
  \]
  for \(i > \ell\) gives a required \(f: U \to \R^d\) where \(d = n - \ell\), with Jacobian
  \[
    \frac{\partial f}{\partial x} =
    \begin{pmatrix}
      & & 1 & & 0 \\
      & * & & \vdots \\
      & & 0 & & 1
    \end{pmatrix}
  \]
  so a regular value.
\end{proof}

This result cannot be improved: let \(M = \R P^2\) and \(N = \{x_0: x_1: x_2 \in \R P^2: x_2 = 0\}\) which can be identified with \(\R P^1 \cong S^1\). But \(N \neq f^{-1}(q)\) for all smooth \(f: \R P^2 \to P\) where \(P\) is a one-dimensional manifold, with \(q\) a regular value. A sketch of proof: if there exists such an \(f\) then there exsits some chart \(\psi\) on \(U\) around \(q\), \(\psi \compose f: U \to (-1, 1)\) and \(U \supseteq N\). Suppose for contradiction \(N = \{p: (\psi \compose f) (p) = 0\}\). \(\R P^2 \setminus N\) is homeomorphic to an open disk in \(\R^2\). \(\psi \compose f\) has \(0\) as a regular value, implying that \(\psi \compose f\) takes both positive and negative values. But \(\R P^2 \setminus N\) is connected so contradiction.

\begin{theorem}[Whitney embedding theorem]\index{Whitney embedding theorem}
  Every \(n\)-dimensional manifold \(M\) admits a smooth embedding to \(\R^{2n}\).
\end{theorem}

It is a hard theorem but it is very easy to show that there exists \(N\) such that \(M\) is a submanifold of \(\R^N\). In example sheet 1 Q9 we showed this for \(M\) compact. It is also not too difficult to set \(N = 2n + 1\), basically by embedding it in a sufficiently large space and whittle down the dimension. However the last step of improvement is truely an ingenious piece of work. The remarkability of this theorem is not to say that the intrinsic defintion of manifolds coincide with the extrinsic one, but the optimal dimension \(\R^{2n}\) of ambient space. This is a topological invariant measuring how ``complicated'' an geometric object is. For example, \(S^n\) can be embedded in \(\R^{n + 1}\) but \(\R p^2\) cannot be embedded in \(\R^3\). The Klein bottle does not embed in \(\R^3\) either.

Restatement of an earlier theorem:
\begin{theorem}
  Suppose \(G \subseteq \GL(n, \C)\) is a subgroup and a Lie group with \(C^\infty\) structure of \(G\) given by \(\log\) charts (i.e.\ \(\log\) maps an open neighbourhood \(U_I\) of the idenity \(I\) onto a neighbourhood of \(0\) is some real subspace \(V_0\) of \(\operatorname{Mat}(n, \C)\)), then
  \begin{align*}
    \mathfrak g &\to \ell(G) \\
    \xi &\mapsto X_\xi
  \end{align*}
  is a Lie algebra isomorphism. Here \(\mathfrak g = T_IG \subseteq \operatorname{Mat}(n, \C)\) is the span of \(V_0\) over \(\R\).
\end{theorem}

\begin{proof}
  We have shown earlier
  \[
    [X_\xi, X_\eta] = X_\zeta
  \]
  for some \(\zeta \in \mathfrak g\). Now want to show that
  \[
    \zeta = [\xi, \eta] = \xi\eta - \eta \xi
  \]
  as \emph{matrices} in \(\mathfrak g\). First \(G = \GL(n) = \operatorname{Mat}(n)\) over \(\R\) or \(\C\) so \(\mathfrak g = mat(n)\). Then for \(g \in \GL(n)\), \(L_g\) is a linear map so \((dL_g)_h\) for all \(g, h\) in the usual matrix multiplication %?
  The local expression for \(L_g\) around \(I \in \GL(n)\) is
  \[
    (\hat L_g) B = g \cdot \exp B = g \cdot (I + B + \frac{1}{2!} B^2 + \dots)
  \]
  so
  \[
    (d \hat L_g)_0 C = gC
  \]
  Therfore for all \(g = (g^i_j) \in \GL(n), A = (A^i_j) \in \mathfrak g = T_IGL(n)\), we have
  \[
    X_A(g)
    = \sum_{i, j} X^i_j(g) \frac{\partial  }{\partial g^i_j}
    = \sum_{i, j, k} g^i_k A^k_j \frac{\partial  }{\partial g^i_j}.
  \]
  Now the chain rule follows from straightforard calculation. Using formula for Lie brackets of vector fields,
  \[
    g^i_k \left( A^k_j \frac{\partial  }{\partial g^i_j} (g^\ell_p B^p_q) - B^k_j \frac{\partial  }{\partial g^i_j} (g^\ell_p A^p_q) \right) \frac{\partial  }{\partial g^\ell_q}
    = g^i_k (AB - BA)^k_j \compose \frac{\partial  }{\partial g^i_k}.
  \]

  For the general case \(G \subseteq \GL(n)\), note that the \(\log\) chart hypothesis implies that \(\iota: G \embed \GL(n)\). In fact we'll use \(U_I \embed \GL(n)\) where \(U_I \subseteq G\). For all \(g \in G\), \(L_g: G \to G\) is the restriction of \(L_g: \GL(n) \to \GL(n)\). Furthermore for all \(h \in G\), \((dL_g)_h: T_hG \to T_{gh}G\) is the corresponding restriction of \((dL_g)_h\) on \(\GL(n)\). Therefore \(X_\xi \in \ell(G)\) is a restriction of \(X_\xi \in \ell(\GL(n))\). Then
  \[
    [X_\xi|_G, X_\eta|_G] = [X_\xi, X_\eta]|_G
  \]
  which can be verified in ``adapted'' local coordinates using local test functions only depending on coordinates along \(G\) and constant in the normal direction (graph)

  But on \(\GL(n)\) we know \([X_\xi, X_\eta] = X_{[\xi, \eta]}\), also for all \(\xi, \eta \in \mathfrak g\), \([\xi, \eta] \in \mathfrak g\). Now the theorem for \(G\) follows too.
\end{proof}

\section{Differential forms}

\begin{definition}[cotangent space]\index{cotangent space}
  Suppose \(M\) is an \(n\)-dimensional manifold and \(p \in M\). The dual of \(T_pM\), consisting of all linear funcitons \(T_pM \to \R\), is call the \emph{cotangent space} at \(p\) and denoted by \(T_p^*M\).
\end{definition}
If \(x_i\)'s are local coordinates then we have \(\frac{\p}{\p x_i}\Big|_p\) as a basis for \(T_pM\). The \emph{dual basis} of \(T_p^*M\) is denoted by \((\mathrm d x_i)_p\), i.e.
\[
  \mathrm dx_i(\frac{\partial  }{\partial x_j}) = \delta_{ij}.
\]
Therefore for all \(a \in T_p^*M\), we can express uniquely as
\[
  a = \sum_{i = 1}^n a_i (\mathrm dx_i)_p.
\]

Recall transformation rule for tangent space: if \(x_i'\) is another coodinates then
\[
  \frac{\partial  }{\partial x_i'} = \sum \frac{\partial x_k}{\partial x_i'} \frac{\partial  }{\partial x_k}
\]
so by linear algebra
\[
  \mathrm dx_i = \sum \frac{\partial x_i}{\partial x_j'} \mathrm d x_j'
\]
so
\[
  a = \sum_i a_i \mathrm dx_i = \sum_j a_j' dx_j'
\]
and we obtain a transformation law
\[
  a_j' = \sum_i \frac{\partial x_i}{\partial x_j'} a_i
\]
which is \emph{not} the same as that for tangent space.

\begin{definition}[cotangent bundle]\index{cotangent bundle}
  The \emph{cotangent bundle} of a manifold \(M\) is defined by
  \[
    T^*M = \coprod_{p \in M} T^*_pM.
  \]
\end{definition}

\begin{theorem}
  \(T^*M\) is a smooth manifold of twice the dimension of that of \(M\). Moreover the natural projection map \(\pi: T^*M \to M\) is smooth.
\end{theorem}

\begin{proof}
  Similar to that of tangent bundle.
\end{proof}

\begin{definition}[differential \(1\)-form]\index{differential form}
  A \emph{(smooth) differential \(1\)-form}, also know as \(1\)-form \(\alpha\) is a smooth map \(\alpha: M \to T^*M\) that is a section of \(\pi: T^*M \to M\), i.e.\ \(\alpha(p) \in T_p^*M\) for all \(p \in M\).
\end{definition}

Similar to vector fields, a \(1\)-form \(\alpha = \sum_i \alpha_i \mathcal dx_i\) is smooth if and only if \(\alpha_i\) is smooth in all local coordinates, if and only if for all \(X \in V(M)\), \(\alpha(X) \in C^\infty(M)\).

To define general \(k\)-forms, we need to take a crash course in multilinear algebra. For \(r = 0, 1, \dots\), the \(r\)th \emph{exterior product}
\[
  \Lambda^r T_p^*M
\]
consists of functions \((T_p^*M)^r \to \R\) that are totally antisymmetric and linear in each of the \(r\) arguments. For example, \(\Lambda^0T_p^*M = \R, \Lambda^1T_p^*M = T_p^* M\) and \(\Lambda^2 T_p^* M\) are antisymmetric bilinear forms. It is obvious that for \(r > \dim M\), \(\Lambda^r T_p^*M = 0\).


















\printindex
\end{document}

% https://www.dpmms.cam.ac.uk/~agk22/teaching.html