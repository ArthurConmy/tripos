\documentclass[a4paper]{article}

\def\npart{III}

\def\ntitle{Profinite Groups}
\def\nlecturer{G.\ R.\ Wilkes}

\def\nterm{Lent}
\def\nyear{2020}

\input{header}

\renewcommand{\c}[1]{\mathbf{#1}} % category
\DeclareMathOperator{\Mat}{Mat} % matrix group

\begin{document}

\input{titlepage}

\tableofcontents

\setcounter{section}{-1}

\section{Introduction}

Question: how can we tell when two objects are different? This is in general a difficult question and to answer it we need a variety of techniques.

\begin{itemize}
\item \(\N \cong \Q\) is easier thatn \(\Q \ncong \R\).
\item To show two finite dimensional vector spaces are not isomorphic we can compute their dimensions.
\item For simplicial complexes, we can compute that homology groups \(H_n(X)\). Note that this is a partial invariant, in contrast to dimensiona which is a complete invariant for finite dimensional spaces.
\item We can also consider \(\pi_1(X)\). However in contrast to \(H_1(X)\), \(\pi_1(X)\) is not necessarily abelian. The Adian-Rabin theorem says that there can be no algorithm which decides if a finitely presented group is trivial or not. Can we build algorithm which sometimes work? We can solve the problem for finite groups. For infinite groups we can build upon this idea. We can write out the lists of finite quotiesnts of two groups \(G_1\) and \(G_2\) and compare them. The question: when does this work?

  Before we answer this question, note that a list of quotient groups is a very unpleasant object. Instead, we can combine this list into a single ``limiting'' object, called the profinite completion. This technique works in other situations:
  \begin{itemize}
  \item \(p\)-adic integers \(\Z_p\) being the ``limit'' of \(\Z/p^n\Z\),
  \item Galois theory: let
    \begin{align*}
      K &= \Q(n\text{th root of unit for all } n) \\
      K_N &= \Q(n\text{th root of unit for } n \leq N)
    \end{align*}
    Then \(K = \bigcup K_N\) and is a Galois extension over \(\Q\) so we can consider \(\gal(K/\Q)\), which is the ``limit'' of \(\gal(K_n/\Q)\).
  \item Ã©tale fundamental groups in algebraic geometry.
  \end{itemize}
\end{itemize}

Aside from profinite groups, we will also study group cohomolgy in this course. It is another invariant of groups. This is related to the homology of a simplicial complex and gives abelian invariants. Among other things, it tells if a group is free. It answers the question: given a group \(G\) and an abelian group \(A\), how many groups \(E\) exists such that \(A \normal E\) and \(E/A \cong G\)?

\section{Inverse limits}

\subsection{Categories \& Limits}

Recap on categories and limits. Refer to III Category Theory.

\subsection{Inverse limits and profinite groups}

\begin{definition}[profinite completion]\index{profinite completion}
  Let \(G\) be a group. Let \(\c N\) be the category whose objects are finite index normal subgroups \(N \normal_f G\) and with an arrow \(N_1 \to N_2\) if and only if \(N_1 \subseteq N_2\). This is a poset category.

  The assignment
  \begin{align*}
    N &\mapsto G/N \\
    (N_1 \to N_2) &\mapsto (G/N_1 \to G/N_2)
  \end{align*}
  is a functor \(\c N \to \c{Grp}\).

  The limit of this diagram is a group called the \emph{profinite completion} \(\hat G\) of \(G\).
\end{definition}

\begin{notation}
  \(\hat G\) is equipped with homomorphisms making the following diagram commutes:
  \[
    \begin{tikzcd}
      \hat G \ar[d] \ar[dr] \\
      G/N_1 \ar[r] & G/N_2
    \end{tikzcd}
  \]
  In this course we refer to them as \emph{projection maps} and the horizontal map as \emph{transition map}. In addition, we have a \emph{canonical map} \(i: G \to \hat G\) which exists by the definition of limit.
\end{notation}

We haven't shown profinite completion exists. We will prove it shortly in a more general context, by showing that it is an exmaple of a particular kind of, in some sense well-behaved, limit.

\begin{definition}[inverse system]\index{inverse system}
  A poset \((J, \preceq)\) is called an \emph{inverse system} if for all \(i, j \in J\) exists \(k \in J\) such that \(k \preceq i\) and \(k \preceq j\).
\end{definition}

\begin{eg}
  In \(\c{N}\), \(N_1 \cap N_2\) is a subgroup of both \(N_1\) and \(N_2\).
\end{eg}

\begin{definition}[inverse system, inverse limit]\index{inverse system}\index{inverse limit}
  An \emph{inverse system} (of groups, sets etc) is a functor \(\c J \to \c C\) where \(\c J\) is the poset category corresponding to an inverse system.

  If \(F: \c J \to \c{Grp}\) is an inverse system, the limit of \(F\) is called the \emph{inverse limit} of the objects \(F(j)\).
\end{definition}

Since this is the central subject of this course, we spell out this definition explicitly

\begin{definition}
  An \emph{inverse system of groups}, indexed over an inverse system \((J, \preceq)\), consists of
  \begin{itemize}
  \item a group \(G_j\) for all \(j \in J\),
  \item for all \(i \preceq j\), a transition map \(\phi_{ij}: G_i \to G_j\) such that \(\phi_{ii} = \id_{G_i}, \phi_{jk} \compose \phi_{ij} = \phi_{ik}\).
  \end{itemize}
  The \emph{inverse limit of the system} \((G_j)_{j \in J}\) is a group \(\varprojlim_{j \in J} G_j\) with projection maps \(p_j: \varprojlim G_j \to G_j\) such that \(\phi_{ij} \compose p_i = p_j\) and such that for any \(Z\) with \(q_j: Z\to G_j\), a map \(q: Z \to \varprojlim G_j\) such that \(p_j \compose q = q_j\).
\end{definition}

\begin{definition}[profinite group]\index{profinite group}
  A \emph{profinite group} is the inverse limit of an inverse system of finite groups.
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item The profinite completion of a group \(G\) is a profinite group.
  \item \(\Z_p\), the \(p\)-adic integers, is \(\varprojlim \Z/p^n\Z\).
  \end{enumerate}
\end{eg}

\begin{proposition}
  Let \((G_j)_{j \in J}\) be an inverse system of groups indexed by an inverse system \(J\). \(\varprojlim G_j\) exists and is equal to
  \[
    L = \{ (g_j)_{j \in J} \in \prod_{j \in J} G_j: \varphi_{ij} (g_i) = g_j \}.
  \]
\end{proposition}

\begin{proof}
  Let \(p_j: L \to G_j\) be the restriction of the projection \(\prod G_j \to G_j\). Then \(\varphi_{ij} \compose p_i = p_j\). Now let \(q_j: Z \to G_j\) be a cone. There is a unique map \(f: Z \to \prod G_j\) such that \(p_j \compose f = q_j\) and \(f(Z) \subseteq L\).
\end{proof}

Note that we do not use any properties of inverse system or posets. The construction works equally well for sets (except that the resulting inverse limit is not a group). We will see that the finiteness and inverse system requirement ensures that the construction gives a nonempty set. To do so we need to bring in topology.

\subsection{Topology on a profinite group/set}

Give each finite group \(G_j\) in an inverse system the discrete topology. Then give \(\prod G_j\) the product topology and \(\varprojlim G_j \subseteq \prod G_j\) the subspace topology. \(\prod G_j\) is Hausdorff and compact (Tychonoff). It follows that \(\varprojlim G_j\) is Hausdorff. Since the conditions defining the subgroup are closed conditions, it is also compact.

\begin{proposition}
  If \((X_j)_{j \in J}\) is an inverse system of nonempty finite sets that \(\varprojlim X_j \ne \emptyset\).
\end{proposition}

\begin{proof}
  Consider the set
  \[
    Y_I = \{(x_j) \in \prod X_J: \phi_{ij}(x_i) = x_j \text{ for all } i, j \in I\}
  \]
  where \(I \subseteq J\). The \(Y_I\)'s are closed and \(\bigcup_{I \text{ finite}} Y_I = \varprojlim X_j\).

  To show for \(I\) finite, \(Y_I \ne \emptyset\), by definition of inverse system exists \(k \in J\)  such that \(k \leq i\) for all \(i \in I\). Now \(X_k\) is nonempty so exists \(x_k \in X_K\). For \(i \in J\), set \(X = \varphi_{ki}(x_k)\). For \(j \notin I\), set \(x_j\) to be arbitrary. Then this gives a sequence \((x_i) \in Y_I\).

  Now use finite intersection property: suppose \(I_1, \dots, I_m\) are are finite, then
  \[
    Y_{I_1} \cap \cdots \cap Y_{I_m} \supseteq Y_{I_1 \cup \cdots \cup I_m} \ne \emptyset
  \]
  so \(\varprojlim X_j = \bigcup_{I \subseteq J \text{ finite}} Y_I \ne \emptyset\).
\end{proof}

It is perhaps psychologically comforting to point out that the topology on a profinite group is metrisable, thanks to

\begin{proposition}
  If \((X_i)\) is a countable family of metric spaces then \(\prod X_i\) is a metric space.
\end{proposition}

\begin{proof}
  IB Metric and Topological Spaces.
\end{proof}

In applications to profinite completions this is often implied by

\begin{proposition}
  If \(\Gamma\) is a finitely generated group then it has only countably many finite index subgroups.
\end{proposition}

\begin{proof}
  Omitted.
\end{proof}

\begin{proposition}
  Let \(G\) be a profinite group. Then multiplication \(\mu: G \times G \to G\) and inversion \(i: G \to G\) are continuous maps.
\end{proposition}

\begin{proof}
  Example sheet 1.
\end{proof}

Thus \(G\) is a \emph{topological group}\index{topological group}.

\begin{definition}
  A \emph{isomorphism of topological groups} is an isomorphism \(f: G \to H\) which is also a homeomorphism.
\end{definition}

From now on we only consider homomorphism between profinite groups which are continuous.

\begin{lemma}
  Let \(H\) be a topological group and let \(G = \varprojlim G_j\) be an inverse limit of finite groups with projections \(p_j: G \to G_j\). Then a homomorphism \(f: H \to G\) is continuous if and only if \(p_j \compose f: H \to G_j\) is continuous, if and only if \(\ker(p_j \compose f)\) is an open subgroups of \(H\).
\end{lemma}

\begin{proof}
  The first iff is by definition of the product topology on \(\prod G_j\). For the second, let \(f_j = p_j \compose f\). If \(f_j: H \to G_j\) is continuous the \(\ker f_j = f_j^{-1}(1)\) is open. Conversely, if \(\ker f_j = f^-j^{-1}(1)\) is open. Then \(f_j^{-1}(g_i) = h \cdot \ker(f_j)\), where \(h \in f_j^{-1}(g_i)\) if nonempty, is open for all \(g_j \in G_j\). Thus \(f_j^{-1}(U)\) is open for all \(U \subseteq G_j\).
\end{proof}

\begin{proposition}
  Let \(G\) be a compact topological group. Then a subgroup \(U \subseteq G\) is open if and only if it is closed and has finite index.
\end{proposition}

\begin{proof}
  Example sheet 1.
\end{proof}

\begin{proposition}
  Let \(G = \varprojlim G_j\) be an inverse system of finite groups. Then the open subgroups \(U_j = \ker p_j\) form a basis of open neighbourhoods of the identity.
\end{proposition}

\begin{proof}
  Let \(V \ni 1\) be open. By definition of the product topology, \(V\) contains a basic open set of the form \(p_{j_1}^{-1}(X_{j_1}) \cap \cdots \cap p_{j_m}^{-1}(X_{j_m}) \ni 1\), where \(X_{j_i} \subseteq G_{j_i}\) open. Then \(1 \in X_{j_i} \subseteq G_{j_i}\) so by shrinking wlog \(X_{j_i} = \{1\}\). Thus \(1 \in \ker p_{j_1} \cap \cdots \cap \ker p_{j_m}\). Now can find \(k \in J\) such that \(k \leq j_i\) for all \(i\). Then \(1 \in U_k \subseteq \ker p_{j_1} \cap \cdots \cap \ker p_{j_m} \subseteq V\).
\end{proof}

\begin{corollary}
  A basis of open sets in \(G\) is \(\{p_j^{-1}(g_j): j \in J, g_j \in G_j\}\).
\end{corollary}

\begin{corollary}
  Let \(S \subseteq G = \varprojlim G_j\) be a subset. Then \(S\) is dense in \(G\) if and only if \(p_j(S) = p_j(G)\).
\end{corollary}

\begin{proof}
  If \(S\) is not dense then exist nonempty open set \(U\) such that \(U \subseteq X = \emptyset\). wlog \(U = p_j^{-1}(g_j)\). Then \(g_j \in p_j(G) \setminus p_j(S)\). Similarly if \(S\) is dense and \(U\) is nonempty open, wlog \(U = p_j^{-1}(g_j)\), then \(g_j \in p_j(G) = p_j(X)\) so \(S \cap U \ne \emptyset\).
\end{proof}

\begin{eg}
  If \(\Gamma\) is an abstract group, \(\hat \Gamma\) its profinite completion with \(i: \Gamma \to \hat \Gamma\). Then \(p_j(i(\Gamma)) = \Gamma/N_j = p_j(\hat \Gamma)\), so \(i(\Gamma)\) is dense in \(\hat \Gamma\).
\end{eg}

\subsection{Change of inverse system}

\subsubsection{Surjective inverse system}

Let \((G_j)_{j \in J}\) be an inverse system with transition funcitons \(\varphi_{ij}\) and projections \(p_j\).

\begin{definition}[surjective inverse system]\index{inverse system!surjective}
  An inverse system is \emph{surjective} if the transition maps \(\varphi_{ij}\) are all surjective.
\end{definition}

\begin{proposition}
  Let \((X_j)\) be a surjective inverse system of nonempty finite sets. Then all projections \(p_j: \varprojlim X_j \to X_j\) are surjective.
\end{proposition}

\begin{proof}
  Example sheet 1.
\end{proof}

\begin{proposition}
  Let \((X_j)\) be an inverse system of finite sets. Then there exists a surjective inverse system with the same inverse limit.
\end{proposition}

\begin{proof}
  Recall that
  \[
    \varprojlim X_j = \left\{ (x_j) \in \prod X_j: \varphi_{ij}(x_i) = x_j \right\}.
  \]
  Define \(Y_j = p_j(\varprojlim X_j)\). Then \(Y_j\) with transition maps \(\varphi_{ij}|_{Y_i}\) form an inverse system: if \(y_i \in Y_i\) then \(\varphi_{ij}(y_i) \in Y_J\). Then \(\varprojlim Y_j = \varprojlim X_j\), and this is a surjective inverse system.
\end{proof}

\subsubsection{Cofinal subsystems}

\begin{definition}[cofinal]\index{cofinal}
  If \(J\) is an inverse system, \(I \subseteq J\) is \emph{cofinal} if for all \(j \in J\) exists \(i \in I\) such that \(i \leq j\).
\end{definition}
Therefore \(I\) is also an inverse system.

\begin{eg}\leavevmode
  \begin{enumerate}
  \item In the system of finite index subgroups of \(\Z\), one cofinal system is \(\{n! \Z\}\).
  \item If \(k \in J\), then \(J_{\leq k} = \{j \in J: j \leq k\}\) is a \emph{principal cofinal system}.
  \item A cofinal system of \(\N^{\text{op}}\) is the same as an increasing sequence of integers.
  \end{enumerate}
\end{eg}

\begin{definition}[linearly ordered inverse system]\index{inverse system!linearly ordered}
  An inverse system is \emph{linearly ordered} if it is isomorphic to \(\N^{\text{op}}\).
\end{definition}

\begin{proposition}
  Let \(J\) be a countable inverse system. Then \(J\) has a linearly ordered cofinal system.
\end{proposition}

\begin{proof}
  Example sheet 1.
\end{proof}

\begin{proposition}
  Let \((X_j)\) be an inverse system of (finite) sets. Let \(I \subseteq J\) be a cofinal system. Then \(\varprojlim_{j \in J} X_j \cong \varprojlim_{i \in I} X_i\).
\end{proposition}

\begin{proof}
  We prove the proposition for profinite groups. Let \(G = \varprojlim_{j \in J} G_j, H = \varprojlim_{i \in I} G_i\). The map \(\prod G_j \to \prod G_i\) is a continuous homomorphism and restricts to a map \(f: G \to H\). Remains to check this is a bijection. Suppose \((g_j) \in \ker f\), then \(p_i(g) = g_i = 1\) for all \(i \in I\). For every \(j \in J\) exists \(i \in I\) such that \(i \leq j\) so \(g_j = \varphi_{ij}(g_i) = 1\). Thus \((g_j) = 1\). For surjectivity, let \((g_i) \in H\). For \(j \notin I\), let \(i \in I\) be such that \(i \leq j\) and set \(g_j = \varphi_{ij}(g_i)\). It is well-defined and \((g_j) \in G\).
\end{proof}

\section{Profinite groups}

\subsection{\(\Z_p\), the \(p\)-adic integers}

Let \(p\) be a prime. Consider the inverse system
\[
  \begin{tikzcd}
    \cdots \ar[r] & \Z/p^n \ar[r] & \cdots \ar[r] & \Z/p^2 \ar[r] & \Z/p \ar[r] & 1
  \end{tikzcd}
\]
of finite rings. The inverse limit is the profinite ring \emph{\(p\)-adic integers}\index{\(p\)-adic integer}
\[
  \Z_p = \varprojlim \Z/p^n.
\]
An element \(\alpha \in \Z_p\) is a sequence \((a_n)\) of elements of \(\Z/p^n\) such that \(a_n = a_m \bmod{p^n}\) if \(n \geq m\), where \(a_n = \alpha \pmod{p^n} = p_n(a)\).

Addition and multiplication are done component-wise. One way to get such \(\alpha\) is to take \(a \in \Z\) and let \(a_n\) be reductions mod \(p^n\) of \(a\). This gives \(\iota: \Z \to \Z_p\).

\begin{definition}[pro-\(p\) group, pro-\(p\) completion]\index{pro-\(p\) group}\index{pro-\(p\) completion}
  A \emph{pro-\(p\) group} is an inverse limit of \(p\)-groups.

  The \emph{pro-\(p\) completion} of \(\Gamma\) is
  \[
    \hat \Gamma_{(p)} = \varprojlim_{\substack{N \normal \Gamma \\ \Gamma/N \text{ a \(p\)-group}}} \Gamma/N.
  \]
\end{definition}

Therefore \(\Z_p = \hat \Z_{(p)}\). Usually we suppress \(\iota\) and regard \(\Z \subseteq \Z_p\).

There is a natural metric on \(\Z_p\): let \(\alpha = (a_n), \beta = (b_n)\). If \(\alpha = \beta\) then \(d(\alpha, \beta) = 0\). Otherwise let \(n\) be the smallest integer such that \(a_n \ne b_n\) and set \(d(\alpha, \beta) = p^{-n}\). The restriction of this metric to \(\Z\) is the ``\(p\)-adic metric'' on \(\Z\).

The open ball is
\begin{align*}
  B(0, r)
  &= \{(a_n): a_m = 0 \text{ for } p^{-m} \geq r\} \\
  &= \{(a_n): a_m = 0 \text{ for } m \leq -\log_p r\} \\
  &= \ker(\Z_p \to \Z/p^{\floor{-\log_p r}})
\end{align*}
which is an open subgroup of \(\Z_p\).

\begin{proposition}
  \(\Z_p\) is abelian and torsion-free.
\end{proposition}

\begin{proof}
  Abelian is obvious. For torsion-free, let \(\alpha = (a_n) \in \Z_p\) with \(\alpha \ne 0\) and \(m\alpha = 0\) for some \(m > 0\). Write \(m = p^rs\) where \(s\) is coprime to \(p\). As \(\alpha \ne 0\), exists \(n\) such that \(\alpha \ne 0 \pmod{p^n}\), i.e.\ \(a_n \ne 0 \in \Z/p^n\). As \(m \ne 0\), \(s \ne 0\). Now consider \(ma \pmod{p^{n + r}}\). Claim this is nonzero: if \(p^{n + r} \divides ma_{n + r}\) then \(p^n \divides  a_{n + r}\), hence \(a_{n + r} = 0 \pmod{p^n} = a_n \pmod{p^n}\).
\end{proof}

\begin{proposition}
  The ring \(\Z_p\) is an integral domain.
\end{proposition}

\begin{proof}
  Example sheet 1.
\end{proof}

\subsection{The profinite integers \(\hat \Z\)}

\begin{proposition}
  \(\hat \Z\) is abelian and torsion-free.
\end{proposition}

\begin{proposition}
  \(\hat \Z\) has zero divisors.
\end{proposition}

Both follow from

\begin{theorem}[Chinese remainder theorem]
  There an isomorphism of topological rings
  \[
    \hat \Z \cong \prod_{p \text{ prime}} \Z_p.
  \]
\end{theorem}

\begin{proof}
  There is a continuous homomorphism \(\hat \Z \to \Z_p\) for every \(p\) as
  \[
    \begin{tikzcd}
      \hat \Z \ar[d] \ar[dr] \\
      \Z/p^n \ar[r] & \Z/p^m
    \end{tikzcd}
  \]
  We thus have a continuous homomorphism \(f: \hat \Z \to \prod_{p \text{ prime}} \Z_p\).

  \(f\) is surjective if and only if \(\im f \subseteq \prod \Z_p\) is dense, if and only if \(\im f\) intersects all basic open sets non-trivially. A basic open set has the form \(\varphi^{-1}(x_1, \dots, x_r)\) where \(\phi: \prod_p \Z_p \to \Z/p_1^{n_1} \times \dots \times \Z/p_r^{n_r}\). Now invoke the classical Chinese remainder theorem: let \(m = p_1^{n_1} \cdots p_r^{n_r}\), then we have a commutative diagram
  \[
    \begin{tikzcd}
      \hat \Z \ar[r, "f"] \ar[d, two heads] & \prod \Z_p \ar[d, "\phi"] \\
      \Z/m \ar[r, "\cong"] & \Z/p_1^{n_1} \times \cdots \times \Z/p_r^{n_r}
    \end{tikzcd}
  \]
  As \((x_1, \dots, x_r) \in \im (\phi \compose f)\), have \(\im f \cap \phi^{-1}(x_1, \dots, x_r) \ne \emptyset\).
  
  Now suppose \(g \in \hat \Z \setminus \{0\}\). Then exists \(m\) such that the image of \(g\) in \(\hat \Z \to \Z/m\) is nonzero. Now use injectivity of the isomorphism to conclude \(f\) must be injective.
\end{proof}

\subsection{Profinite matrix group}

If \(R\) is a commutative ring with 1 then there is a matrix ring \(\Mat_n(R)\) of \(n \times n\) matrices whose entries are in \(R\). In particular
\begin{align*}
  \Mat_n(\Z_p) &\cong \varprojlim \Mat_n(\Z/p^m) \\
  \Mat_n(\hat \Z) &\cong \varprojlim \Mat_n(\Z/m)
\end{align*}
for similar argument as above.

Define
\begin{align*}
  \SL_n(R) &= \{A \in \Mat_n(R): \det A = 1\} \\
  \GL_n(R) &= \{A \in \Mat_n(R): \det A \in R^\times\}
\end{align*}
As \(\det: \Mat_n(\Z_p) \to \Z_p\) is a polynomial so continuous, \(\SL_n(\Z_p) \subseteq \Mat_n(\Z_p)\) is a closed subset and is a group under multiplication. We will show in example sheet that \(\Z_p^\times\) and \(\hat \Z^\times\) are closed subsets of \(\Z_p\) and \(\hat \Z\), and in fact they are isomorphic to \(\varprojlim (\Z/p^m)^\times\) and \(\varprojlim (\Z/m)^\times\). We have
\[
  \SL_n(\Z_p) = \varprojlim \SL_n(\Z/p^m)
\]
etc. A version of Chinese remainder theorem also holds.

Problem: consider the inclusion \(\SL_n(\Z) \subseteq \SL_n(\hat \Z)\). How does this inclusion look like? For example, is this inclusion dense? (the answer is yes, see example sheet 2). We know from general theory this holds if and only if \(\SL_n(\Z) \to \SL_n(\Z/m)\) is surjecitve. But this is not obvious at all. For example how can we find an element that is mapped to \(
\begin{psmallmatrix}
  7 & 9 \\
  4 & 9
\end{psmallmatrix}
\in \SL_2(\Z/13)\)?

Another question: do we have \(\SL_n(\hat \Z) = \widehat{\SL_n(\Z)}\), i.e.\ does \(\SL_n(\Z)\) have any other finite quotients other than \(\SL_n(\Z/m)\)? The answer is no for  \(n = 2\) (example sheet 2), and yes for \(n \geq 3\) (hard theorem of Bass-Lazard-Serre).

\subsection{Subgroups, quotients and homomorphisms}

A reminder that we are working in the category of topological groups so subgroups are closed and homomorphisms are continuous (non-closed subgroup can be pretty wild: \(\hat \Z \supseteq \prod \Z_p \supseteq \prod \Z\)).

\begin{proposition}
  Let \((G_j)\) be an inverse system of finite groups and \(G = \varprojlim G_j\). Let \(X \subseteq G\) be a subset. Then \(\overline X = \varprojlim X_j\) where \(X_j = p_j(X)\).
\end{proposition}

\begin{proof}
  Let
  \begin{align*}
    X'
    &= \varprojlim X_j
    = \{(g_i) \in \prod G_j: g_j \in X_j \text{ for all } j, \phi_{ij}(g_i) = g_j\} \\
    &= \bigcap p_j^{-1}(X_j) \\
    &= \bigcap p_j^{-1}(p_j(X))
  \end{align*}
  which is closed. \(X \subseteq X'\) so \(\overline X \subseteq X'\). Let \(g \in G \setminus \overline X\). Then exists a basic open set \(p_j^{-1}(g_j) \subseteq G \setminus \overline X\). Hence \(\overline X \cap p_j^{-1}(g_j) = \emptyset\), so \(g_j \notin X_j\), so \(g \notin X'\).
\end{proof}

\begin{corollary}
  \(X\) is closed if and only if \(X = \varprojlim X_j\).
\end{corollary}

Along the same line

\begin{proposition}
  Let \(G\) be a profinite group. Then
  \[
    \overline X = \bigcap_{N \normal_o G} XN.
  \]
\end{proposition}

\begin{proof}
  \[
    \mathrm{RHS} = \bigcap_{N \normal_f G} XN = \bigcap p_j^{-1}(p_j(X)) = \mathrm{LHS}.
  \]
\end{proof}

\begin{proposition}
  A closed subgroup of a profinite group is a profinite group.
\end{proposition}

\begin{proposition}
  Let \(G = \varprojlim G_j\) be a profinite group of a surjective inverse system, \(H \leq G\) a closed subgroup. Let \(H_j = p_j(H)\). Then \(H\) has finite index (i.e.\ open) if and only if \([G_j: H_j]\) is constant for \(j \in I\) for some cofinal subsystem \(I \subseteq J\), in which case \([G: H] = [G_j: H_j]\) for \(j \in I\).
\end{proposition}

\begin{proof}
  Exercise.
\end{proof}

\begin{proposition}
  Let \(G\) be a profinite group and \(N \normal_c G\). Then \(G/N\) equipped with the quotient topology is a profinite group.
\end{proposition}

\begin{proof}
  Let \(G = \varprojlim G_j\) be a surjective inverse system. Define \(N_j = p_j(N)\). Then \(N_j \normal G_j\) and define \(Q_j = G_j/N_j\). Exists \(\psi_{ij}\) such that the following diagram commutes:
  \[
    \begin{tikzcd}
      G_i \ar[r, "\phi_{ij}"] \ar[d] & G_j \ar[d] \\
      G_i/N_i \ar[r, "\psi_{ij}"] & G_j/N_j
    \end{tikzcd}
  \]
  Check that \((Q_j, \psi_{ij})\) is an inverse system. Let \(Q = \varprojlim Q_j\). There exists a continuous map \(\prod G_j \to \prod Q_j\) restricts to \(f: G \to Q\). \((g_j) \in \ker f\) if and only if \(g_j \in \ker (G_j \to Q_j) = N_j\) for all \(j\), if and only if \(g \in N\). Thus \(\ker f = N\). By first isomorphism theorem for groups, exists group isomorphism \(\overline f: G/N \to Q\) making the diagram commute
  \[
    \begin{tikzcd}
      G \ar[r, "f"] \ar[d] & Q \\
      G/N \ar[ur, "\overline f"', dashed]
    \end{tikzcd}
  \]
  \(\overline f\) is continuous by definition of quotient topology. \(\overline f\) is a homeomorphism because \(G/N\) is compact and \(Q\) is Hausdorff.
\end{proof}

\begin{theorem}[first isomorphism theorem for profinite groups]
  If \(G\) and \(Q\) are profinite groups, \(f: G \to Q\) is a continuous surjective homomorphism, then exists an isomorphism of topological groups \(\overline f: G/\ker f \to Q\) making the following diagram commute
  \[
    \begin{tikzcd}
      G \ar[r, "f"] \ar[d] & Q \\
      G/\ker f \ar[ur, "\overline f"', dashed]
    \end{tikzcd}
  \]
\end{theorem}

\begin{corollary}
  A (closed) quotient of a profinite group is a profinite group when given the quotient topology.
\end{corollary}

\begin{definition}[morphism of inverse system]\index{inverse system!morphism}
  Let \((G_j)\) and \((H_j)\) be inverse system of finite groups, indexed over the same poset \(J\). A \emph{morphism of inverse system} is a family of group homomorphisms \(f_j: G_j \to H_j\) such that for all \(i \leq j\), the following diagram commutes
  \[
    \begin{tikzcd}
      G_i \ar[r, "f_i"] \ar[d, "\varphi_{ij}^G"] & H_j \ar[d, "\varphi_{ij}^H"] \\
      G_j \ar[r, "f_j"] & H_j
    \end{tikzcd}
  \]
\end{definition}

\begin{proposition}
  Given a morphism of inverse systems as above, exists a unique continuous homomorphism \(f: G \to H\) such that
  \[
    \begin{tikzcd}
      G \ar[r, "f"] \ar[d, "p_j^G"] & H \ar[d, "p_j^H"] \\
      G_j \ar[r, "f_j"] & H_j
    \end{tikzcd}
  \]
  commutes for all \(j\).
\end{proposition}

\begin{proof}
  Exercise.
\end{proof}

\begin{proposition}
  Let \((G_j)_{j \in J}, (H_i)_{i \in I}\) be inverse systems of finite groups, \(G = \varprojlim G_j, H = \varprojlim H_j\). Let \(f: G \to H\) be a continuous homomorphism. Assume \(J\) and \(I\) are countable. Then there are cofinal subsystems \(J' \subseteq J, I' \subseteq I\) with an isomorphism \(\alpha: J' \to I'\) and a morphism \(f_{j'}: G_{j'} \to H_{\alpha(j')}\) of inverse system which induces \(f\).
\end{proposition}

\begin{proof}
  We may assume \(J\) and \(I\) are linearly ordered, i.e.\ isomorphic to \(\N^{\text{op}}\). Also we may assume \((G_j)_{j \in J}\) is surjective. Set \(I' = I\). Construct an increasing sequence \(k_n\) of natural numbers inductively as follows: the composition \(G \to H \to H_n\) is continuous so the kernel is open, hence containing a basic open subgroup \(\ker p_{k_n}^G\) of \(G\). As \(\ker p_{k_n}^G \subseteq \ker p_n^H f\), exists a quotient map \(f_n: G_{k_n} \to H_n\). Increase \(k_n\) if necessary so \(k_n > k_{n - 1}\). Set \(J' = \{k_n\}\).
\end{proof}








\printindex
\end{document}

% https://www.dpmms.cam.ac.uk/~grw46/partiiiprofinite.html