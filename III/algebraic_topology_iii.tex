\documentclass[a4paper]{article}

\def\npart{III}

\def\ntitle{Algebraic Topology}
\def\nlecturer{J.\ Rasmussen}

\def\nterm{Michaelmas}
\def\nyear{2019}

\input{header}

\graphicspath{{figures/}}

\DeclareMathOperator{\Map}{Map} % space of continuous maps between spaces
\renewcommand{\b}{\p}
\DeclareMathOperator{\Int}{Int} % interior

\begin{document}

\input{titlepage}

\tableofcontents

\setcounter{section}{-1}

\section{Homotopy}

\begin{definition}[homotopy]\index{homotopy}
  Suppose \(X, Y\) are topological spaces, \(f_0, f_1: X \to Y\) continuous. We say \(f_0\) is \emph{homotopic} to \(f_1\) is there is a continuous \(F: X \times I \to Y\) with \(F(x, 0) = f_0(x), F(x, 1) = f_1(x)\). We write \(f_0 \sim f_1\).
\end{definition}

Let \(f_t(x) = F(x, t)\). Then \(f_t\) is a path from \(f_0\) to \(f_1\) in \(\Map(X, Y) = \{f: X \to Y \text{ continuous}\}\).

\begin{convention}
  All spaces are topological spaces and all maps are continous.
\end{convention}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item Let \(f_0, f_1: \R^n \to \R^n\), \(f_0(x) = 0, f_1(x) = x\) then \(f_0 \sim f_1\) via \(f_t(x) = tx\).
  \item Let \(S^1 = \{z \in \C: |z| = 1\}\). Take \(f_0, f_1: S^1 \to S^1\), \(f_0(z) = z, f_1(z) = -z\). Then \(f_0 \sim f_1\) via \(f_t(z) = e^{i\pi t}z\).
  \item Let \(S^n = \{v \in \R^{n + 1}: \norm v = 1\}\). Take \(f_0, f_1: S^n \to S^n\), \(f_0(v) = v, f_1(v) = -v\) the \emph{antipodal map}. We already knew \(f_0 \sim f_1\) and we'll soon see \(f_0 \nsim f_1\).
  \item Let \(f_0, f_1: S^1 \to S^2\), \(f_0(x, y) = (0, 0, 1), f_1(x, y) = (x, y, 0)\). Then \(f_0 \sim f_1\) via \(f_t(x, y) = (tx, ty, \sqrt{1 - t^2})\).
  \item Let \(D^n = \{v \in \R^n: \norm v \leq 1\}\). Say \(f: S^{n - 1} \to Y\) extends to \(D^n\) if there exists \(F: D^n \to Y\) with \(F|_{S^{n - 1}} = f\). Then \(f\) extends to \(D^n\) if and only if \(f\) is homotopic to a constant map as we can define \(f_t(v) = F(tv)\).
  \end{enumerate}
\end{eg}

We state here some lemmas that will be assumed and whose proofs are omitted.

\begin{lemma}
  Homotopy is an equivalence relation on \(\Map(X, Y)\).
\end{lemma}

\begin{definition}
  We let \([X, Y]\) to be \(\Map(X, Y)/\sim\), i.e.\ the set of homotopy classes of maps \(X \to Y\). It is also the set of path components of \(\Map(X, Y)\). We write \([f]\) for the class of \(f\) in \([X, Y]\).
\end{definition}

\begin{lemma}
  Suppose \(f_0, f_1: X \to Y, g_0, g_1 : Y \to Z\). If \(f_0 \sim f_1, g_0 \sim g_1\) then \(g_0 \compose f_0 \sim g_1 \compose f_1\).
\end{lemma}

\begin{notation}
  If \(c \in Y\), we denote by \(c_X: X \to Y\) the constant map with image \(c\).
\end{notation}

\begin{corollary}
  Any \(f: X \to \R^n\) is homotopic to \(0_X\).
\end{corollary}

In other words, \([X, \R^n]\) has one element.

\begin{proof}
  We know \(\id_{\R^n} \sim 0_{\R^n}\) so
  \[
    f = \id_{\R^n} \compose f \sim 0_{\R^n} \compose f = 0_X.
  \]
\end{proof}

\begin{definition}[contractible]\index{contractible}
  \(X\) is \emph{contractible} if \(\id_X \sim c_X\) for some \(c \in X\).
\end{definition}

\begin{proposition}
  \(Y\) is contractible if and only if \([X, Y]\) has one element for all \(Y\).
\end{proposition}

\begin{proof}
  Only if is the same as the proof of the corollary. For the other direction, \([Y, Y]\) has one element so \(\id_Y \sim c_Y\) for any \(c \in Y\).
\end{proof}

\begin{definition}[homotopy equivalence]\index{homotopy equivalence}
  Spaces \(X\) and \(Y\) are \emph{homotopy equivalence} if there are maps \(f: X \to Y, g: Y \to X\) such that \(f \compose g \sim \id_Y, g \compose f \sim \id_X\). We write \(X \sim Y\).
\end{definition}

\begin{eg}
  \(X \sim \{p\}\) if and only if \(X\) is contractible.
\end{eg}

\begin{proof}
  The only map \(f: X \to \{p\}\) is \(f(x) = p\). Let \(g: \{p\} \to X, g(p) = c\). Then \(f \compose g = \id_{\{p\}}\) and \(g \compose f = c_X\). Then \(g \compose f \sim \id_X\) if and only if \(c_X \sim \id_X\) if and only if \(X\) is contractible.
\end{proof}

\begin{lemma}
  If \(X_1 \sim X_2, Y_1 \sim Y_2\) then there is a bijection between \([X_1, Y_1]\) and \([X_2, Y_2]\).
\end{lemma}

The basic questions that algebraic topology tries to answer is the follow: given spaces \(X\) and \(Y\), is \(X \sim Y\)? What is \([X, Y]\)?

One of the tools used is homotopy groups, which we mention briefly here.

\begin{definition}[map of pairs]\index{map of pairs}
  A map \(f: (X, A) \to (Y, B)\) means that
  \begin{itemize}
  \item \(A \subseteq X, B \subseteq Y\),
  \item \(f: X \to Y\),
  \item \(f(A) \subseteq B\).
  \end{itemize}
\end{definition}

If \(f_0, f_1: (X, A) \to (Y, B)\), we say \(f_0 \sim f_1\) is there exist \(F: (X \times I, A \times I) \to (Y, B)\) with \(F(x, 0) = f_0(x), F(x, 1) = f_1(x)\).

\begin{notation}
  We denote by \(*\) the point \((-1, 0, \dots, 0) \in S^n\).
\end{notation}

\begin{definition}[homotopy group]\index{homotopy group}
  If \(p \in X\), we define the \emph{\(n\)th homotopy group} of \((X, p)\) to be
  \[
    \pi_n(X, p) = [(S^n, *), (X, p)] = [(D^n, S^{n - 1}), (X, p)] = [(I^n, \b I^n), (X, p)]
  \]
  where the last equality is a homeomorphism and the second equality is induced by
  \begin{align*}
    \pi: D^n &\to D^n/S^{n -1} = S^n \\
    v &\mapsto (1 - 2 \norm v, v \sqrt{1 - (1 - 2\norm v)^2})
  \end{align*}
\end{definition}

For \(n > 0\), \(\pi_n(X, p)\) is a group. The identity is \(p_{S^n}\). For \(n > 1\), \(\pi_n(X, p)\) is abelian.

A pointed map between pointed spaces \(f: (X, p) \to (Y, q)\) induces
\begin{align*}
  f_*: \pi_n(X, p) &\to \pi_n(Y, q) \\
  [\gamma] &\mapsto [f \compose \gamma]
\end{align*}
which is well-defined by lemma 2.

This defines a functor between the cateogry of pointed spaces with pointed maps to the category of groups with homomorphisms: it sends a space \((X, p)\) to \(\pi_n(X, p)\) and a map \(f: (X, p) \to (Y, q)\) to the homomorphism \(f_*: \pi_n(X, p) \to \pi_n(Y, q)\), satisfying
\begin{enumerate}
\item \((\id_{(X, p)})_* = \id_{\pi_n(X, p)}\),
\item \((f \compose g)_* = f_* \compose g_*\).
\end{enumerate}
Furthermore \(f_*\) is homotopy invariant: if \(f \sim g\) then \(f_* = g_*\) since
\[
  f_*([\gamma]) = [f \compose \gamma] = [g \compose \gamma] = g_*([\gamma]).
\]

\begin{eg}
  \begin{table}[ht]
    \centering
    \begin{tabular}{c|c|c|c|c|c|c|c|c|c}
      & 1 & 2 & 3 & 4 & 5 \\ \hline
      \(\pi_n(S^1)\) & \(\Z\) &&&&&& \\ \hline
      \(\pi_n(S^2)\) & \(0\) & \(\Z\) & \(\Z\) & \(\Z/2\) & \(\Z/2\) & \(\Z/12\) &\(\Z/2\)
    \end{tabular}
    \caption{Homotopy groups of \(S^n\)}
  \end{table}
\end{eg}

\section{Homology}

The goal is to define functors \(H_n\) from the category of spaces with continuous maps to the category of abelian groups with homomorphisms, satifying
\begin{enumerate}
\item if \(f \sim g\) then \(f_* = g_8\),
\item dimension axiom: informally \(H_n(X) = 0\) if \(n > \dim X\).
\end{enumerate}

\subsection{Chain complexes}

Let \(R\) be a commutative ring (e.g.\ \(\Z, \Q, \Z/p\)).

\begin{definition}[chain complex]\index{chain complex}
  A \emph{chain complex} \((C_*, d)\) over \(R\) is
  \begin{enumerate}
  \item \(R\)-modules \(C_i\) for \(i \in \Z\), and
  \item homomorphisms \(d_i: C_i \to C_{i - 1}\) such that
  \item \(d_i \compose d_{i + 1} = 0\) for all \(i\).
  \end{enumerate}
  We usually write
  \[
    \begin{tikzcd}
      \cdots \ar[r] & C_{i + 1} \ar[r, "d_{i + 1}"] & C_i \ar[r, "d_i"] & C_{i - 1} \ar[r] & \cdots
    \end{tikzcd}
  \]
\end{definition}

\begin{notation}
  Note that \(C_*\) can mean two different things: it can either mean
  \[
    C_* =
    \begin{cases}
      \Z & * = 0 \\
      0 & \text{otherwise}
    \end{cases}
  \]
  or \(C_* = \bigoplus_{i \in \Z} C_i, d = \sum d_i: C_* \to C_{* - 1}\).
\end{notation}

\subsubsection{Chain complex of a simplex}

\begin{definition}[simplex]\index{simplex}
  The \emph{\(n\)-dimensional simplex} is
  \[
    \Delta^n = \{(v_0, \dots, v_n) \in \R^{n + 1}: v_i \geq 0, \sum_{i = 0}^n v_i = 1\}.
  \]
  For \(n < 0\) we set \(\Delta^n = \emptyset\).
\end{definition}

\begin{definition}[face]
  If \(I = \{i_0 < i_1 < \dots < i_k\} \subseteq \{0, 1, \dots n\}\) then
  \[
    f_I = \{v \in \Delta^n: v_i = 0 \text{ if } i \notin I\}
  \]
  is a \(k\)-dimensional \emph{face} of \(\Delta^n\). The \emph{face map} is
  \begin{align*}
    F_I: \Delta^k &\to f_I \\
    w &\mapsto v
  \end{align*}
  where
  \[
    v_i =
    \begin{cases}
      0 & i \notin I \\
      w_j & i = \varphi(j)
    \end{cases}
  \]
  where
  \begin{align*}
    \varphi: \{0, \dots, k\} &\to I \\
    j &\mapsto i_j
  \end{align*}
\end{definition}

\begin{definition}
  The \emph{reduced chain complex} of the simplex \(\Delta^n\) \(\widetilde S_*(\Delta^n)\) is the chain complex over \(\Z\) defined by
  \[
    \widetilde S_k(\Delta^n) = \langle f_I: |I| = k + 1 \rangle,
  \]
  the free abelian group with basis \(f_I\) for \(I\) a \(k\)-dimensional face, and
  \begin{align*}
    d_k: \widetilde S_k(\Delta^n) &\to \widetilde S_{k - 1}(\Delta^n) \\
    f_I &\mapsto \sum_{j = 0}^k (-1)^j f_{I \setminus \{i_j\}}
  \end{align*}
\end{definition}

\begin{eg}
  Take \(n = 2\). Then
  \begin{align*}
    C_2 &= \langle f_{012} \rangle \\
    C_1 &= \langle f_{01}, f_{02}, f_{12} \rangle \\
    C_0 &= \langle f_0, f_1, f_2 \rangle \\
    C_{-1} &= \langle f_\emptyset \rangle
  \end{align*}
  and for example we have
  \begin{align*}
    d(f_{012}) &= f_{12} - f_{02} + f_{01} \\
    d(f_{12}) &= f_2 - f_1 \\
    d(f_{02}) &= f_2 - f_0 \\
    d(f_{01}) &= f_1 - f_0
  \end{align*}
  so
  \[
    d^2(f_{012}) = 0.
  \]
\end{eg}

\begin{proposition}
  We have
  \[
    d^2 = 0
  \]
  so it is indeed a chain complex.
\end{proposition}

\begin{proof}
  Enough to check \(d^2(f_I) = 0\). \(d^2(f_I)\) is a sum of terms of the form \(f_{I \setminus \{i_j, i_{j'}\}}\) where \(i_j < i_{j'}\). The coefficient of \(f_{I \setminus \{i_j, i_{j'}\}}\) is
  \[
    (-1)^j (-1)^{j' - 1} + (-1)^{j'} (-1)^{j}
  \]
  where the first term is by omitting \(i_j\) first and then \(i_{j'}\), and the second by omitting \(i_{j'}\) first and then \(i_j\). Then have opposite signs.
\end{proof}

Note that if we have a chain complex then \(d^2 = 0\) so \(\im d_{i + 1} \subseteq \ker d_i\).

\begin{definition}[homology group]\index{homology group}
  If \((C_*, d)\) is a chain complex, its \emph{\(i\)th homology group} is
  \[
    H_i(C_*) = \frac{\ker d_i}{\im d_{i + 1}}.
  \]
  We let
  \[
    H_*(C_*) = \bigoplus_{i \in \Z} H_i = \frac{\ker d}{\im d}.
  \]
\end{definition}

\begin{eg}
  \(H_*(\widetilde S_*(\Delta^2)) = 0\).
\end{eg}

\begin{eg}[unreduced complex of a simplex]
  Define the unreduced complex to be
  \[
    S_*(\Delta^n) =
    \begin{cases}
      \widetilde S_k(\Delta^n) & k \geq 0 \\
      0 & k < 0
    \end{cases}
  \]
  Check that
  \[
    H_*(S(\Delta^2)) =
    \begin{cases}
      \Z & k = 0 \\
      0 & k \neq 0
    \end{cases}
  \]
\end{eg}

\begin{definition}[chain map]\index{chain map}
  If \((C, d)\) and \((C', d')\) are chain complexes over \(R\), a \emph{chain map} \(f: (C, d) \to (C', d')\) is homomorphisms \(f_i: C_i \to C_i'\) such that
  \[
    \begin{tikzcd}
      \cdots \ar[r] & \ar[r] C_{i + 1} \ar[r, "d_{i + 1}"] \ar[d, "f_{i + 1}"] & C_i \ar[r, "d_i"] \ar[d, "f_i"] & C_{i - 1} \ar[r] \ar[d, "f_{i - 1}"] & \cdots \\
      \cdots \ar[r] & \ar[r] C'_{i + 1} \ar[r, "d'_{i + 1}"] & C'_i \ar[r, "d'_i"] & C'_{i - 1} \ar[r] & \cdots
    \end{tikzcd}
  \]
  commutes. That is to say let \(f = \sum f_i: C_* \to C'_*\) then we have
  \[
    d'f = fd.
  \]
\end{definition}

\begin{eg}
  If \(f_I\) is a \(k\)-dim face of \(\Delta^n\) then there is a chain map
  \begin{align*}
    \varphi_I: \widetilde S_*(\Delta^k) &\to \widetilde S_*(\Delta^n) \\
    f_J &\mapsto f_{\varphi(J)}
  \end{align*}
  where \(\varphi(j) = i_j\) as before.
\end{eg}

If \(f: (C, d) \to (C', d')\) is a chain map then it follows that \(f(\ker d) \subseteq \ker d', f(\im d) \subseteq \im d'\), so there is a well-defined map
\begin{align*}
  f_*: H_*(C) &\to H_*(C') \\
  [z] &\mapsto [f(z)]
\end{align*}

\begin{lemma}\leavevmode
  \begin{enumerate}
  \item \(\id_C\) is a chain map and \((\id_C)_* = \id_{H_*(C)}\).
  \item If \(f: C \to C', g: C' \to C''\) are chain maps then so is \(g \compose f\) and \((g \compose f)_* = g_* \compose f_*\).
  \end{enumerate}
  In other words, there is a functor \(H_*\) from the category of chain complexes over \(R\) with chain maps to the category of \(R\)-modules.
\end{lemma}

\subsection{Singular chain complex}

Let \(X\) be a topological space. A \emph{singular \(k\)-simplex} in \(X\) is a map \(\sigma: \Delta^k \to X\). Thus a singular \(0\)-simplex is a point in \(X\) and a \(1\)-simplex is a curve in \(X\).

\begin{definition}[singular chain complex]\index{singular chain complex}
  A \emph{singular chain complex} \(C_*(X)\) is given by
  \[
    C_k(X) = \langle \sigma: \Delta^k \to X \text{ continuous} \rangle,
  \]
  the free abelian group generated by \(\sigma\)'s and for \(\sigma: \Delta^k \to X\),
  \[
    d(\sigma) = \sum_{j = 0}^k (-1)^j \sigma \compose F_{\{0, \dots, k\} \setminus \{j\}}.
  \]
\end{definition}

Elements of the chain groups are finite sums \(\sum_{i = 1}^N a_i \sigma_i\) where \(a_i \in \Z\).

\begin{lemma}
  \(d^2 = 0\) so this is a chain complex.
\end{lemma}

\begin{proof}
  If \(\sigma: \Delta^k \to X\), consider the homomorphism
  \begin{align*}
    \varphi_\sigma: S_*(\Delta^k) &\to C_*(X) \\
    f_I &\mapsto \sigma \compose F_I
  \end{align*}
  \(d\) was chosen so \(d \varphi_\sigma = \varphi_\sigma d\). Then
  \[
    d^2(\sigma) = d^2(\sigma \compose \id_{\Delta^k}) = d^2(\varphi_\sigma(f_{\{0, \dots, k\}}))
    = \varphi_\sigma(d^2(f_{\{0, \dots, k\}})) = \varphi_\sigma(0) = 0
  \]
  since \(d^2 = 0\) in \(S_*(\Delta^k)\).
\end{proof}

We have a variant called \emph{reduced singular chain complex} of \(X\) which is defined by
\[
  \widetilde C_k(X) = \langle \sigma: \Delta^k \to X \rangle
\] 
for \(k \geq -1\) and \(\widetilde C_k(X) = 0\) for \(k < -1\). We have
\[
  \widetilde C_k(X) =
  \begin{cases}
    C_k(X) & k \geq 0 \\
    \langle \sigma_\emptyset \rangle \cong \Z & k = -1
  \end{cases}
\]
and if \(\sigma: \Delta^0 \to X\) then \(d\sigma = \sigma_\emptyset\).

\begin{definition}[singular homology]\index{singular homology}
  \(H_n(X) = H_n(C_*(X))\) and \(\widetilde H_n(X) = H_n(\widetilde C_*(X))\) are the \(n\)th \emph{(reduced) singular homology groups} of \(X\).
\end{definition}

If \(f: X \to Y\) is a map, define
\begin{align*}
  f_\#: C_*(X) &\to C_*(Y) \\
  \sigma &\mapsto f \compose \sigma
\end{align*}
Then
\begin{align*}
  d(f_\#(\sigma)) &= \sum_{j = 0}^n (-1)^j (f \compose \sigma) \compose F_{\{0, \dots, k\} \setminus \{j\}} \\
  &= \sum_{j = 0}^k (-1)^j f \compose (\sigma \compose F_{\{0, \dots, k\} \setminus \{j\}}) \\
  &= f_\# (d \sigma)
\end{align*}
so \(f_\#\) is a chain map.

\begin{lemma}\leavevmode
  \begin{enumerate}
  \item \((\id_X)_\# = \id_{C_*(X)}\).
  \item \((f \compose g)_\# = f_\# \compose g_\#\).
  \end{enumerate}
  In other words, there is a functor from the category of topological spaces to the cateogory of chain complexes over \(\Z\).
\end{lemma}

\begin{notation}
  If \(f: X \to Y\), write \(f_*: H_*(X) \to H_*(Y)\) instead of \((f_\#)_*\).
\end{notation}

\begin{corollary}
  There is a functor from the category of topological spaces to the category of \(\Z\)-modules.
\end{corollary}

\begin{proof}
  Composition of functors is a functor.
\end{proof}

\begin{eg}
  Let \(X = S^1\) and \(\sigma \in C_1(S^1)\) be the loop starting at \(p\) and loops around \(S^1\) once. Then \(d \sigma = \sigma_p - \sigma_p = 0\). Let \(\sigma_1, \sigma_2\) be paths from \(p\) to \(q\) and from \(q\) to \(p\). It is an exercise to find \(\tau \in C_2(X)\) with \(d\tau = \sigma - (\sigma_1 + \sigma_2)\), so \([\sigma] = [\sigma_1 + \sigma_2]\).
  \begin{figure}[ht]
  \centering
  \begin{minipage}{0.5\textwidth}
    \centering
    \def\svgwidth{.8\columnwidth}
    \input{figures/singular1_on_S1.pdf_tex}
  \end{minipage}%
  \begin{minipage}{0.5\textwidth}
    \centering
    \def\svgwidth{.8\columnwidth}
    \input{figures/singular2_on_S1.pdf_tex}
  \end{minipage}
\end{figure}
\end{eg}

\begin{proposition}\leavevmode
  \begin{enumerate}
  \item If \(X\) is path-connected then \(H_0(X) \cong \Z\).
  \item If \(X\) is the singleton \(\{p\}\) then
    \[
      H_*(X) =
      \begin{cases}
        \Z & * = 0 \\
        0 & \text{otherwise}
      \end{cases}
    \]
    and \(\widetilde H_*(X) = 0\).
  \item Let \(\pi_0(X)\) be the set of path-components of \(X\). Then
    \[
      H_*(X) = \bigoplus_{P \in \pi_0(X)} H_*(P).
    \]
  \end{enumerate}
\end{proposition}

\begin{proof}\leavevmode
  \begin{enumerate}
  \item We have
    \begin{align*}
      \ker d_0 &= C_0(X) = \langle \sigma_p: p \in X \rangle \\
      \im d_1 &= \text{span} \{\sigma_p - \sigma_q: p, q \in X\}
    \end{align*}
    since \(X\) is path-connected. Thus
    \begin{align*}
      \ker d_0 &\to \Z \\
      \sum a_i \sigma_{p_i} &\mapsto \sum a_i
    \end{align*}
    is a surjective homomorphism with kernel \(\im d_1\).
  \item There is a unique map \(\sigma_n: \Delta^n \to X\) and
    \[
      d \sigma_n = \sum_{j = 0}^n (-1)^j \sigma_{n - 1} =
      \begin{cases}
        \sigma_{n - 1} & n \text{ even and } n > 0 \\
        0 & \text{otherwise}
      \end{cases}
    \]
    so
    \begin{align*}
      \ker d &= \langle \sigma_0, \sigma_1, \sigma_3, \dots \rangle \\
      \im d &= \langle \sigma_1, \sigma_3, \sigma_5, \dots \rangle
    \end{align*}
    so the result follows. The reduced homology is left as an exercise.
  \item Let \(\iota_P: P \embed X\) be the inclusion. Then we have
    \[
      j = \sum (C_p)_\#: \bigoplus_{P \in \pi_0(X)} C_*(P) \to C_*(X)
    \]
    an injective map. \(\Delta^k\) is path-connected so if \(\sigma: \Delta^k \to X\) then \(\im \sigma \subseteq P\) for some \(P \in \pi_0(X)\) so \(j\) is also surjective.

    In general, if \(\{(C^\alpha, d^\alpha)\}_{\alpha \in A}\) is a family of chain complexes then so is
    \[
      (C^{\text{tot}}, D) = (\bigoplus_{\alpha \in A} C^\alpha, \sum_{\alpha \in A} d^\alpha)
    \]
    and
    \begin{align*}
      \ker D &= \bigoplus_{\alpha \in A} \ker d^\alpha \\
      \im D &= \bigoplus_{\alpha \in A} \im d^\alpha
    \end{align*}
    so
    \[
      H_*(C^{\text{tot}}) \cong \bigoplus_{\alpha \in A} H_*(C^\alpha).
    \]
    Now apply this to \(j\).
  \end{enumerate}
\end{proof}

\subsection{Homotopy invariance}

If \(g_0, g_1: X \to Y\) are homotopic then we want to show \(g_{0*} = g_{1*}: H_*(X) \to H_*(Y)\).

\begin{definition}[chain homotopy]\index{chain homotopy}
  Two chain maps \(g_0, g_1: (C, d) \to (C', d')\) are \emph{chain homotopic}, written \(g_0 \sim g_1\), if there is a homomorphism \(h: C_* \to C_{* + 1}'\) such that
  \[
    d'h + hd = g_1 - g_0.
  \]
\end{definition}

\begin{lemma}
  Chain homotopy is an equivalence relation.
\end{lemma}

\begin{proposition}
  If \(g_0\) and \(g_1\) are chain homotopic then \(g_{0*} = g_{1*}: H_*(C) \to H_*(C')\).
\end{proposition}

\begin{proof}
  Suppose \([x] \in H_*(C)\). Then
  \begin{align*}
    g_{1*}[x] - g_{0*}[x]
    &= [g_1(x) - g_0(x)] \\
    &= [d'h(x) + hd(x)] \\
    &= [d'h(x)] \\
    &= 0
  \end{align*}
  since \(d'h(x) \in \im d'\).
\end{proof}

\begin{definition}[chain homotopy equivalent]\index{chain homotopy equivalent}
  Chain complexes \((C, d)\) and \((C', d')\) are \emph{chain homotopy equivalent}, written \(C \sim C'\) if there exist chain maps \(f: C \to C', g: C' \to C\) such that \(fg \sim \id_{C'}, gf \sim \id_C\).
\end{definition}

\begin{ex}
  If \(C \sim C'\) then \(H_*(C) \cong H_*(C')\).
\end{ex}

\subsubsection{Universal chain homotopy}

Let \(c_n, c_n': \Delta^n \to \Delta^n \times [0, 1]\), \(c_n(v) = (v, 0), c_n'(v) = (v, 1)\) and consider the chain maps \(\varphi_{c_n}, \varphi_{c_n'}: S_*(\Delta^n) \to C_*(\Delta^n \times [0, 1])\), \(\varphi_{c_n}(f_I) = c_n \compose F_I\).

\begin{notation}
  \(\Delta^n \times [0, 1]\) is a convex subset of \(\R^{n + 1} \times [0, 1]\). If \(p_0, \dots, p_k \in \Delta^n \times [0, 1]\), define a map
  \begin{align*}
    [p_0 \cdots p_k]: \Delta^k &\to \Delta^n \times [0, 1] \\
    v &\mapsto \sum_{i = 0}^k v_i p_i
  \end{align*}
  Then
  \[
    d[p_0 \cdots p_k] = \sum_{j = 0}^k (-1)^j [p_0 \cdots \hat p_j \cdots p_k]
  \]
  where the hat above \(\hat p_j\) means that \(p_j\) is omitted.

  Furthermore we call \(f_i \times 0 = i\) and \(f_i \times 1 = i'\).
\end{notation}

\begin{figure}[ht]
  \centering
  \def\svgwidth{.8\columnwidth}
  \input{figures/chain_homotopy.pdf_tex}
  \caption{\(\Delta^1 \times [0, 1]\)}
  \label{fig:chain homotopy}
\end{figure}

The intuition for chain homotopy is illustrated by \Cref{fig:chain homotopy}. Suppose we set \(h(f_0), h(f_1)\) to be the segments \(0 \times [0, 1]\) and \(1 \times [0, 1]\), and \(h(f_{01})\) the square \(\Delta^1 \times [0, 1]\). Then
\begin{align*}
  dh(f_0) &= \varphi_{c'}(f_0) - \varphi_c(f_0) \\
  hd(f_0) &= h(0) = 0
\end{align*}
so \(dh(f_0) + hd(f_0) = \varphi_{c'}(f_0) - \varphi_c(f_0)\) and
\begin{align*}
  dh(f_{01}) &= (\text{top} + \text{bottom}) + (\text{sides}) \\
  hd(f_{01}) &= - (\text{sides})
\end{align*}
so again
\[
  dh(f_{01}) + hd(f_{01}) = \text{top} + \text{bottom} = \varphi_{c'}(f_{01}) - \varphi_c(f_{01}).
\]
Thus \(h\) would be a chain homotopy if it didn't map \(f_{01}\) to the square, which is not a simplex. To overcome this problem we cut the square into triangles \(00'1'\) and \(011'\). It is worthwhile to pause for a second to think what a chain homotopy for \(\Delta^2\) looks like.

\begin{proposition}
  \(\varphi_{c_n} \sim \varphi_{c_n'}\).
\end{proposition}

\begin{proof}
  Define
  \begin{align*}
    U_n: S_*(\Delta^n) &\to C_{* + 1}(\Delta^n \times [0, 1]) \\
    f_I &\mapsto \sum_{j = 0}^k (-1)^j [i_0 \dots i_j i_j' \cdots i_k']
  \end{align*}
  for \(I = \{i_0 < i_1 < \dots < i_k\}\). Then
  \begin{align*}
    U_n d(f_I) &= \sum_{a < b} (-1)^{a + b - 1} [i_0 \cdots \hat i_a i_b i_b' \cdots i_k'] \\
               &+ \sum_{a > b} (-1)^{a + b} [i_0 \cdots i_b i_b' \cdots \hat i_a' \cdots i_k'] \\
    dU_n(f_I) &= \sum_{a < b} (-1)^{b + a} [i_0 \cdots \hat i_a \cdots i_b i_b' \cdots i_k'] \\
               &+ \sum_{a > b} (-1)^{b + a + 1} [i_0 \cdots i_b i_b' \cdots \hat i_a \cdots i_k'] \\
               &+ \sum_{b = 0}^k (-1)^{b + b} [i_0 \cdots i_{b - 1} i_b' \cdots i_k'] \\
               &+ \sum_{b = 1}^{k + 1} (-1)^{b - 1 + b} [i_0 \cdots i_{b - 1} i_b' \cdots i_k']
  \end{align*}
  so almost everything cancels out and we have
  \[
    (dU_n + U_nd) (f_I) = [i_0' \cdots i_k'] - [i_0 \cdots i_k] = \varphi_{c_n'} (f_I) - \varphi_{c_n}(f_I).
  \]
\end{proof}

\begin{notation}
  Let \(\overline F_I = F_I \times \id_{[0, 1]}: \Delta^k \times [0, 1] \to \Delta^n \times [0, 1]\).
\end{notation}

\begin{lemma}
  The following diagram commutes:
  \[
    \begin{tikzcd}
      S_*(\Delta^k) \ar[r, "\varphi_I"] \ar[d, "U_k"] & S_*(\Delta^n) \ar[d, "U_n"] \\
      C_{* + 1}(\Delta^k \times [0, 1]) \ar[r, "\overline F_{I \#}"] & C_{* + 1} (\Delta^n \times [0, 1])
    \end{tikzcd}
  \]
\end{lemma}

\begin{proof}
  Checking definitions.
\end{proof}

\begin{theorem}
  Suppose \(g_0, g_1: X \to Y\) are homotopic then \(g_{0\#} \sim g_{1\#}\).
\end{theorem}

\begin{proof}
  Let \(G: X \times [0, 1] \to Y\) be the homotopy. Define
  \begin{align*}
    G_\sigma: \Delta^n \times [0, 1] &\to Y \\
    (v, t) &\mapsto G(\sigma(v), t)
  \end{align*}
  Then \(G_{\sigma \compose F_I} = G_\sigma \compose \overline F_I\). Define
  \begin{align*}
    h: C_*(X) &\to C_{* + 1}(Y) \\
    \sigma &\mapsto G_{\sigma \#} (U_n (f_{0 \cdots n}))
  \end{align*}
  then
  \begin{align*}
    dh(\sigma) &= d G_{\sigma \#} (U_n (f_{0 \cdots n})) = G_{\sigma \#} (d U_n(f_{0 \cdots n})) \\
    hd(\sigma) &= h (\sum (-1)^j \sigma \compose F_{\hat j}) \\
               &= \sum (-1)^j G_{\sigma \compose F_{\hat j} \#} (U_{n - 1} (f_{0 \cdots n - 1})) \\
               &= \sum (-1)^j G_{\sigma \#} \overline F_{\hat j\#} (U_{n - 1}(f_{0 \cdots n - 1})) \\
               &= \sum (-1)^j G_{\sigma \#} (U_n(\varphi_{\hat j} (f_{0 \cdots n - 1}))) \quad \text{by lemma} \\
               &= G_{\sigma \#} (U_n (\sum (-1)^j \varphi_{\hat j} (f_{0 \cdots n - 1}))) \\
               &= G_{\sigma \#} (U_n d(f_{0 \cdots n}))
  \end{align*}
  so
  \begin{align*}
    (dh + hd)(\sigma) &= G_{\sigma \#} (U_nd + dU_n) (f_{0 \cdots n}) \\
                      &= G_{\sigma \#} ((\varphi_{i_n'} - \varphi_{i_n}) (f_{0 \cdots n})) \\
                      &= G_{\sigma \#} (i_n' - i_n) \\
                      &= g_1 \compose \sigma - g_0 \compose \sigma \\
                      &= g_{1\#}(\sigma) - g_{0\#}(\sigma)
  \end{align*}
\end{proof}

\begin{corollary}
  If \(g_0, g_1: X \to Y\) are homotopic then \(g_{0*} = g_{1*}: H_*(X) \to H_*(Y)\).
\end{corollary}

\begin{corollary}
  If \(X\) are \(Y\) are homotopy equivalent then \(H_*(X) \cong H_*(Y)\).
\end{corollary}

\begin{proof}
  \(X \sim Y\) so we have \(f: X \to Y, g: Y \to X\) with \(f \compose g \sim \id_Y, g \compose f \sim \id_X\). Then
  \[
    f_* \compose g_* = (f \compose g)_* = (\id_Y)_* = \id_{H_*(Y)}
  \]
  and similarly \(g_* \compose f_* = \id_{H_*(X)}\) so \(g_*\) and \(f_*\) are inverses to each other.
\end{proof}

\begin{corollary}
  If \(X\) is contractible then
  \[
    H_*(X) =
    \begin{cases}
      \Z & * = 0 \\
      0 & * > 0
    \end{cases}
  \]
\end{corollary}

\subsection{Homology of a pair}

\subsubsection{Exact sequence}

Suppose we have a sequence
\[
  \begin{tikzcd}
    \cdots \ar[r] & A_{i + 1} \ar[r, "f_{i + 1}"] & A_i \ar[r, "f_i"] & A_{i - 1} \ar[r, "f_{i - 1}"] & \cdots
  \end{tikzcd}
\]
where \(A_i\)'s are \(R\)-modules and \(f_i\)'s are homomorphisms.

\begin{definition}[exact sequence]\index{exact sequence}
  We say the sequence is \emph{exact} at \(A_i\) if \(\ker f_i = \im f_{i + 1}\). We say the sequence is \emph{exact} if it is exact at all \(A_i\).
\end{definition}

In other words, the sequence is exact is the same as saying \((A_*, f)\) is a chain complex with \(H_*(A) = 0\).

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(
    \begin{tikzcd}
      0 \ar[r] & A \ar[r, "\iota"] & B 
    \end{tikzcd}
  \) is exact at \(A\) if and only if \(\iota\) is injective.

\item \(
    \begin{tikzcd}
      B \ar[r, "\pi"] & C \ar[r] & 0
    \end{tikzcd}
  \) is exact at \(C\) if and only if \(\pi\) is surjective.
\item \(
  \begin{tikzcd}
    0 \ar[r] & A \ar[r] & 0
  \end{tikzcd}
  \) is exact if and only if \(A = 0\).
\item \(
  \begin{tikzcd}
    0 \ar[r] & A \ar[r, "f"] & B \ar[r] & 0
  \end{tikzcd}
  \) is exact if and only if \(f: A \to B\) is an isomorphism.
\item \(
  \begin{tikzcd}
    0 \ar[r] & A \ar[r, "\iota"] & B \ar[r, "\pi"] & C \ar[r] & 0
  \end{tikzcd}
  \) is exact if and only if \(\iota: A \embed B \) and \(\pi: B \to C\) is a surjection with kernel \(\im A\). This is called a \emph{short exact sequence} (SES). In particular, a long exact sequence gives a bunch of short exact sequences
  \[
    \begin{tikzcd}
      0 \ar[r] & \coker f_{i + 2} \ar[r, "f_{i + 1}"] & A_i \ar[r, "f_i"] & \ker f_{i - 1} \ar[r] & 0
    \end{tikzcd}
  \]
  \end{enumerate}
\end{eg}

\begin{definition}
  A sequence
  \[
    \begin{tikzcd}
      0 \ar[r] & A_* \ar[r, "\iota"] & B_* \ar[r, "\pi"] & C_* \ar[r] & 0
    \end{tikzcd}
  \]
  is a \emph{SES of chain complexes} if
  \begin{enumerate}
  \item \(A_*, B_*, C_*\) are chain complexes arnd \(\iota, \pi\) are chain maps.
  \item \(
    \begin{tikzcd}
      0 \ar[r] & A_i \ar[r, "\iota"] & B_i \ar[r, "\pi"] & C_i \ar[r] & 0
    \end{tikzcd}
    \) is a exact for all \(i\).
  \end{enumerate}
\end{definition}

\begin{proposition}[snake lemma]\index{snake lemma}
  If
  \[
    \begin{tikzcd}
      0 \ar[r] & A_* \ar[r, "\iota"] & B_* \ar[r, "\pi"] & C_* \ar[r] & 0
    \end{tikzcd}
  \]
  is a SES of chain complexes then there is a long exact sequence on homology
  \[
    \begin{tikzcd}
      H_*(A) \ar[r, "\iota_*"] & H_*(B) \ar[r, "\pi_*"] & H_*(C) \ar[dll, "\b"', out=0, in=180] \\
      H_{* - 1}(A) \ar[r, "\iota_*"] & H_{* - 1}(B) \ar[r, "\pi_*"] & H_{* - 1}(C) \ar[dll, "\b"', out=0, in=180] \\
      H_{* - 2} \ar[r] & \cdots
    \end{tikzcd}
  \]
  where the map \(\b\) is called the \emph{boundary map}.
\end{proposition}

\begin{proof}
  The map \(\b\) is defined as follow: suppose given \([c] \in H_n(C)\) so \(dc = 0\).
  \begin{enumerate}
  \item \(\pi\) is surjective so exists \(b \in B_n\) with \(\pi(b) = c\).
  \item \(\pi db = d\pi b = dc = 0\).
  \item The sequence is exact at \(B_{n - 1}\) so exists \(a \in A_{n - 1}\) with \(\iota a = db\).
  \item \(\iota d a = d \iota a = ddb = d^2 b = 0\) so by injectivity of \(\iota\), \(da = 0\).
  \item Finally define \(\b([c]) = [a]\).
  \end{enumerate}
  \[
    \begin{tikzcd}
      0 \ar[r] & A_n \ar[r, "\iota"] \ar[d, "d"] & B_n \ar[r, "\pi"] \ar[d, "d"] & C_n \ar[r] \ar[d, "d"] & 0 \\
      0 \ar[r] & A_{n - 1} \ar[r] & B_{n - 1} \ar[r] & C_{n - 1} \ar[r] & 0
    \end{tikzcd}
  \]
  We have to check this is well-defined and the resulting sequence is exact. We check exactness at \(H_{n - 1}(A)\):
  \begin{align*}
    [a] \in \ker \iota_*
    &\iff \iota a = db \text{ for some } b \in B_n \\
    &\iff [a] = \b [\pi b] \\
    &\iff [a] \in \im \b
  \end{align*}
  The rest are left as exercises.
\end{proof}

\begin{eg}
  Recall that if \(X \neq \emptyset\), we can express unreduced homology as
  \[
    H_*(X) =
    \begin{cases}
      \widetilde H_*(X) & * > 0 \\
      \widetilde H_*(X) \oplus \Z & * = 0
    \end{cases}
  \]
  We can show this using the snake lemma. Let \(K_* = \langle \sigma_\emptyset \rangle\) if \(* = -1\) and \(0\) otherwise, then
  \[
    H_*(K) =
    \begin{cases}
      \langle \sigma_\emptyset \rangle & * = -1 \\
      0 & * \neq -1
    \end{cases}
  \]
  so we have a SES
  \[
    \begin{tikzcd}
      0 \ar[r] & K_* \ar[r] & \widetilde C_*(X) \ar[r] & C_*(X) \ar[r] & 0
    \end{tikzcd}
  \]
  so we have a long exact sequence that looks like
  \[
    \begin{tikzcd}
      H_*(K) \ar[r] & \widetilde H_*(X) \ar[r] & H_*(X) \ar[r] & H_{* - 1}(K)
    \end{tikzcd}
  \]
  so for \(* > 0\), \(\tilde H_*(X) \cong H_*(X)\). The only interesting thing happens at \(* = 0\) which gives
  \[
    \begin{tikzcd}
      0 \ar[r] & \widetilde H_0(X) \ar[r] & H_0(X) \ar[r, "\b"] & \Z \ar[r] & \widetilde H_{-1}(X) \ar[r] & 0
    \end{tikzcd}
  \]
  Let \(p \in X\) be any point and let \(\sigma_p: \Delta^0 \to X\) be an element of \(\widetilde H_0\). As \(d \sigma_p = \sigma_\emptyset\), we have \(\b[\sigma_p] = \sigma_\emptyset\) so \(\b\) is surjective. Thus \(\widetilde H_{-1}(X) = 0\) so \(H_0(X) \cong \widetilde H_0(X) \oplus \Z\) by example sheet 1 question 3.
\end{eg}

\subsubsection{Subcomplexes and quotient complexes}

\begin{definition}[subcomplex, quotient complex]\index{chain complex!subcomplex}\index{chain complex!quotient complex}
  Suppose \((C_*, d)\) is a chain complex. We say \(A_*\) is a \emph{subcomplex} of \(C_*\) if
  \begin{enumerate}
  \item \(A_* = \bigoplus_{i \in \Z} A_i\) where \(A_i \subseteq C_i\) is a submodule.
  \item \(d(A_i) \subseteq A_{i - 1}\).
  \end{enumerate}
  If so then \((A_*, d)\) is a chain complex.

  Let \(Q_i = C_i/A_i\) then \(d: C_i \to C_{i - 1}\) induces \(d_Q: Q_i \to Q_{i - 1}\) with \(d_Q^2 = d^2 = 0\). Call \((Q_*, d_Q)\) the \emph{quotient complex}.

  In other words, there is a SES
  \[
    \begin{tikzcd}
      0 \ar[r] & A_* \ar[r] & C_* \ar[r] & Q_* \ar[r] & 0
    \end{tikzcd}
  \]
\end{definition}

Suppose \(A \subseteq X\). If \(\sigma: \Delta^k \to X\) has \(\im \sigma \subseteq A\) then \(\sigma \compose F_{\{0, \dots, k\} \setminus \{j\}}: \Delta^{k - 1} \to X\) has image in \(A\) as well, so \(d \sigma \in C_*(A)\). Therefore \(C_*(A)\) is a subcomplex of \(C_*(X)\). We then define

\begin{definition}[homology of a pair]\index{homology group!of a pair}
  If \(A \subseteq X\), we define
  \[
    C_*(X, A) = C_*(X)/C_*(A)
  \]
  and \(H_*(X, A) = H_*(C_*(X, A))\) is the \emph{homology of the pair} \((X, A)\).
\end{definition}

We have the SES
\[
  \begin{tikzcd}
    0 \ar[r] & C_*(A) \ar[r] & C_*(X) \ar[r] & C_*(X, A) \ar[r] & 0
  \end{tikzcd}
\]
whose corresponding long exact sequence is the \emph{long exact sequence of the pair} \((X, A)\)
\[
  \begin{tikzcd}
    \cdots \ar[r] & H_*(A) \ar[r, "\iota_*"] & H_*(X) \ar[r] & H_*(X, A) \ar[r, "\b"] & H_{* - 1}(A) \ar[r] & \cdots
  \end{tikzcd}
\]
where \(\iota: A \embed X\) is the inclusion.

\begin{eg}
  Let \((X, A) = (D^1, S^0)\). We have
  \[
    H_*(S^0) =
    \begin{cases}
      \Z \oplus \Z & * = 0 \\
      0 & * \neq 0
    \end{cases}
    \quad
    H_*(D^1) =
    \begin{cases}
      \Z & * = 0 \\
      0 & * \neq 0
    \end{cases}
  \]
  so the long exact sequence of the pair \((D^1, S^0)\) gives
  \[
    \begin{tikzcd}
      H_1(D^1) \ar[r] \ar[d, equal] & H_1(X, A) \ar[r] & H_0(S^0) \ar[r] \ar[d, equal] & H_0(D^1) \ar[r] \ar[d, equal] & H_0(X, A) \ar[r] & 0 \\
      0 & & \Z \oplus \Z & \Z &
    \end{tikzcd}
  \]
  It is an exercise to check the map \(H_0(S^0) \to H_0(D^1)\) is surjective and thus \(H_1(X, A) \cong \Z\).
\end{eg}

\paragraph{Induced maps}

Suppose \(f: (X, A) \to (Y, B)\) is a map of pairs, meaning \(f: X \to Y\) and \(f(A) \subseteq B\). Then if \(\sigma: \Delta^k \to A\) then \(f_\#: C_*(X) \to C_*(Y)\) is such that \(f_\#(\sigma) = f \compose \sigma: \Delta^k \to B\) so \(f_\#(C_*(A)) \subseteq C_*(B)\) and hence \(f_\#\) descends to a chain map \(f_\#^{(q)}: C_*(X)/C_*(A) \to C_*(Y)/C_*(B)\), which we usually just write \(f_\#: C_*(X, A) \to C_*(Y, B)\). We define \(f_*: H_*(X, A) \to H_*(Y, B)\) to be the induced map.

\begin{lemma}
  Suppose
  \[
    \begin{tikzcd}
      0 \ar[r] & A_* \ar[r, "\iota"] \ar[d, "f"] & B_* \ar[r, "\pi"] \ar[d, "f"] & C_* \ar[r] \ar[d, "f"] & 0 \\
      0 \ar[r] & A_*' \ar[r, "\iota'"] & B_*' \ar[r, "\pi'"] & C_*' \ar[r] & 0
    \end{tikzcd}
  \]
  is a commutative diagram of chain complexes and chain maps, and the rows are exact. Then we have a commutative diagram of long exact sequences
  \[
    \begin{tikzcd}
      \ar[r] & H_*(A) \ar[r] \ar[d, "f_*"] & H_*(B) \ar[r] \ar[d, "f_*"] & H_*(C) \ar[r, "\b"] \ar[d, "f_*"] & H_{* - 1}(A) \ar[r] \ar[d, "f_*"] & \cdots \\
      \ar[r] & H_*(A') \ar[r] & H_*(B') \ar[r] & H_*(C') \ar[r, "\b'"] & H_{* - 1}(A') \ar[r] & \cdots
    \end{tikzcd}
  \]
\end{lemma}

\begin{proof}
  We check the square involving \(\b\) and \(\b'\) commutes and the rest are left as exercises. If \([c] \in H_n(C)\), pick \(b \in B_n, a \in A_{n - 1}\) with \(\pi b = c, \iota a = db\). Then \(\b [c] = [a]\). Let \(a' = fa, b' = fb, c' = fc\). Then \(\pi' b' = c'\) and \(\iota' a' = db'\) so \(\b' [c'] = [a']\). Then
  \[
    \b' f_*[c] = f_*[a] = f_* \b [c].
  \]
\end{proof}

In the language of cateogry theory, this says that there is a functor from the category of short exact sequences with morphisms like the hypothesis of the lemma to the category of long exact sequences of \(R\)-modules with morphism like that in the conclusion.

\begin{corollary}
  If \(f: (X, A) \to (X, B)\) then there is a commutative diagram
  \[
    \begin{tikzcd}
      \ar[r] & H_*(A) \ar[r] \ar[d, "f_*"] & H_*(X) \ar[r] \ar[d, "f_*"] & H_*(X, A) \ar[r, "\b"] \ar[d, "f_*"] & H_{* - 1}(A) \ar[r] \ar[d, "f_*"] & \cdots \\
      \ar[r] & H_*(B) \ar[r] & H_*(Y) \ar[r] & H_*(Y, B) \ar[r, "\b'"] & H_{* - 1}(B) \ar[r] & \cdots
    \end{tikzcd}
  \] 
\end{corollary}

\begin{proof}
  We have a commutative diagram of SES
  \[
    \begin{tikzcd}
      0 \ar[r] & C_*(A) \ar[r] \ar[d, "f_\#"] & C_*(X) \ar[r] \ar[d, "f_\#"] & C_*(X, A) \ar[r] \ar[d, "f_\#"] & 0 \\
      0 \ar[r] & C_*(B) \ar[r] & C_*(Y) \ar[r] & C_*(Y, B) \ar[r] & 0
    \end{tikzcd}
  \]
\end{proof}

\paragraph{Homotopy invariance}

If \(g_0, g_1: (X, A) \to (Y, B)\) are homotopic as maps of pairs then \(g_{0*} = g_{1*}: H_*(X, A) \to H_*(Y, B)\).

\begin{proof}
  The maps \(g_{0\#}, g_{1\#}: C_*(X) \to C_*(Y)\) are chain homotopic via \(h(\sigma) = G_{\sigma\#}(U_n(f_{0 \cdots n}))\) where \(\sigma: \Delta^n \to X\) and \(G: X \times [0, 1] \to Y\) is a homotopy such that \(G(A \times [0, 1]) \subseteq B\). If \(\sigma: \Delta^n \to A\) then \(G_\sigma: \Delta^n \times [0, 1] \subseteq B\) so \(h(\sigma) \in C_*(B)\), i.e.\ \(h(C_*(A)) \subseteq C_*(B)\) so it descends to \(h^{(q)}: C_*(X)/C_*(A) \to C_*(Y)/C_*(B)\) with
  \[
    d h^{(q)} + h^{(q)} d = g_{1\#}^{(q)} - g_{0 \#}^{(q)}
  \]
  so \(g_{1\#}^{(q)} \sim g_{0\#}^{(q)}: C_*(X, A) \to C_*(Y, B)\).
\end{proof}

\paragraph{Reduced homology}

Define \(\widetilde C_*(X, A) = \widetilde C_*(X)/\widetilde C_*(A)\) and similarly \(\widetilde H_*(X, A) = H_*(\widetilde C_*(X, A))\). Again we have a long exact sequence of pairs.

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(H_*(X, A) = \widetilde H_*(X, A)\) if \(A \neq \emptyset\).
    \begin{proof}
      In fact they are isomorphic on the chain complex level: we have
      \[
        \widetilde C_*(X) \cong C_*(X) \oplus \langle \sigma_\emptyset \rangle, \quad
        \widetilde C_*(A) \cong C_*(A) \oplus \langle \sigma_\emptyset \rangle
      \]
      so
      \[
        \widetilde C_*(X, A) = \widetilde C_*(X)/\widetilde C_*(A) \cong C_*(X)/C_*(A) = C_*(X, A).
      \]
    \end{proof}
  \item If \(p \in X\) then
    \[
      \widetilde H_*(X) \cong \widetilde H_*(X, p) \cong H_*(X, p).
    \]
    \begin{proof}
      Recall that \(\widetilde H_*(\{p\}) = 0\) so we have a long exact sequence
      \[
        \begin{tikzcd}
          \widetilde H_*(\{p\}) \ar[r] \ar[d, equal] & \widetilde H_*(X) \ar[r, "\pi_*"] & \widetilde H_*(X, p) \ar[r] & \widetilde H_{* - 1}(\{p\}) \ar[d, equal] \\
          0 & & & 0
        \end{tikzcd}
      \]
      so \(\pi_*\) is an isomorphism.
    \end{proof}
  \item \(H_*(D^n, S^{n - 1}) \cong \widetilde H_{* -1}(S^{n - 1})\).
    \begin{proof}
      \(D^n\) is contractible so \(\widetilde H_*(D^n) = 0\). Then by considering the long exact sequence we again have \(\b: \widetilde H_*(D^n, S^{n -1}) \to \widetilde H_{* - 1}(S^{n - 1})\) an isomorphism.
    \end{proof}
  \end{enumerate}
\end{eg}

So far we have developed a lot of theory and are able to make certain simplifications of homology groups, but we haven't computed anything (that isn't contractible) explicitly. However, with the help of the following tool, which will be proven in the next section, we can compute virtually the homology of everything.

\paragraph{Collapsing a pair}

\begin{definition}[deformation retraction]\index{deformation retraction}
  \(A \subseteq U\) is a \emph{deformation retraction} of \(U\) if exists \(\pi: (U, A) \to (A, A)\) with \(\iota \compose \pi \sim \id_{(U, A)}\) as maps of pairs.
\end{definition}

\begin{eg}
  \(S^{n - 1}\) is a deformation retraction of \(D^n \setminus \{0\}\) via \(\pi(v) = \frac{v}{\norm v}\).
\end{eg}

\begin{definition}[good pair]\index{good pair}
  The pair \((X, A)\) is \emph{good} if
  \begin{enumerate}
  \item \(A \subseteq X\) is closed.
  \item there is some \(U \subseteq X\) open, \(A \subseteq U\) and \(A\) is a deformation retract of \(U\).
  \end{enumerate}
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \((D^n, S^{n - 1})\) is good as we can take \(U = D^n \setminus \{0\}\).
  \item \((D^n, D^n \setminus \{0\})\) is not good as \(D^n \setminus \{0\}\) is not closed.
  \item \(A = \{\frac{1}{n}: n \in \Z \setminus \{0\}\} \cup \{0\} \subseteq \R\) is closed but \((\R, A)\) is not good.
  \item A pair consisting of a smooth manifold and a compact submanifold is good.
  \item A pair consisting of a simplicial complex and a subcomplex is good.
  \end{enumerate}
\end{eg}

If \(A \subseteq X\), we have a quotient map
\[
  \pi: (X, A) \to (X/A, A/A) = (X/A, \{p_A\}).
\]

\begin{theorem}[collapsing a pair]\index{collapsing a pair}
  If a pair \((X, A)\) is good then \(\pi_*: H_*(X, A) \to H_*(X/A, \{p_A\}) \cong \widetilde H_*(X/A)\) is an isomorphism.
\end{theorem}

\begin{proposition}
  The reduced homology of \(S^n\) is
  \begin{align*}
    \widetilde H_*(S^n) =
    \begin{cases}
      \Z & * = n \\
      0 & * \neq n
    \end{cases}
  \end{align*}
\end{proposition}

\begin{proof}
  Induction on \(n\). When \(n = 0\) then \(S^0 = \{-1, 1\}\) so
  \[
    H_*(S^0) = H_*(\{-1\}) \oplus H_*(\{1\}) =
    \begin{cases}
      \Z \oplus \Z & * = 0 \\
      0 & * \neq 0
    \end{cases}
  \]
  As \(H_0(X) \cong \widetilde H_0(X) \oplus \Z\), the result holds for \(n = 0\). We know \(D^n/S^{n - 1} \cong S^n\) so inductively
  \begin{align*}
    \widetilde H_*(S^n)
    &\cong H_*(D^n, S^{n - 1}) \quad \text{collapsing a pair} \\
    &\cong \widetilde H_{* - 1}(S^{n - 1}) \quad \text{computation above} \\
    &=
      \begin{cases}
        \Z & * = n \\
        0 & * \neq n
      \end{cases}
  \end{align*}
\end{proof}

\begin{corollary}\leavevmode
  \begin{enumerate}
  \item \(S^n\) is not contractible.
  \item If \(S^n \cong S^m\) then \(n = m\).
  \end{enumerate}
\end{corollary}

\begin{corollary}
  The map \(\id: S^n \to S^n\) does not extend to \(D^{n + 1}\), i.e.\ there does not exists \(F: D^{n + 1} \to S^n\) such that \(F \compose \iota = \id_{S^n}\).
\end{corollary}

\begin{proof}
  By functoriality \(F_* \compose \iota_* = \id_{\widetilde H_*(S^n)}\) but \(D^{n + 1}\) is contractible so \(\widetilde H_*(D^{n + 1}) = 0\) so \(\iota_*\) is the zero map. Absurd.
\end{proof}

\begin{corollary}
  \(\pi_n(S^n, *)\) is nontrivial.
\end{corollary}

\begin{proof}
  \(f: S^n \to X\) is homotopic to a constant if and only if \(f\) extends to \(D^{n + 1}\) so \(\id_{S^n} \neq 0\) in \(\pi_n(S^n, *)\).
\end{proof}

\begin{eg}[homology of torus]
  Let \(X = S^2, A = S^0 = \{p, q\} \subseteq S^2\). Claim that \(H_*(X, A) = \Z\) if \(* = 1, 2\) and \(0\) otherwise, which easily follows from the long exact sequence of reduced homologies for the pair \((X, A)\).

  Let \(Y = T^2 = S^1 \times S^1\). Let \(B = S^1 \times 1 \subseteq T^2\). Note that \(Y/B \cong X/A\) so we know \(\widetilde H_*(T^2, B)\). Then the long exact sequence for \((T^2, B)\) gives
  \[
    \begin{tikzcd}
      \widetilde H_2(B) \ar[r] & \widetilde H_2(T^2) \ar[r] & \widetilde H_2(T^2, B) \ar[dll, out=0, in=180] \\
      \widetilde H_1(B) \ar[r, "\iota_*"] & \widetilde H_1(T^2) \ar[r] & \widetilde H_1(T^2, B) \ar[dll, out=0, in=180] \\
      \widetilde H_0(B) \ar[r] & \widetilde H_0(T^2) \ar[r] & \widetilde H_0(T^2, B)
    \end{tikzcd}
  \]
  Claim that \(\iota_*: H_1(B) \to H_1(T^2)\) is injective: let \(\pi: S^1 \times S^1 \to S^1\) be projection onto the first factor, then \(\pi \compose \iota = \id_{S^1}\) so \(\pi_* \compose \iota_* = \id_{H_*(S^1)}\).

  Then the long exact sequence splits into SES's
  \[
    \begin{tikzcd}
      0 \ar[r] & H_2(T^2) \ar[r] & H_2(T^2, B) \ar[r] \ar[d, equal] & \ker \iota_* \ar[r] \ar[d, equal] & 0 \\
      & & \Z & 0 \\
      0 \ar[r] & H_1(B) \ar[r] \ar[d, equal] & H_1(T^2) \ar[r] & H_1(T^2, B) \ar[r] \ar[d, equal] & 0 \\
      & \Z & & \Z
    \end{tikzcd}
  \]
  so in summary
  \[
    H_*(T^2) =
    \begin{cases}
      \Z & * = 0, 2 \\
      \Z^2 & * = 1 \\
      0 & \text{otherwise}
    \end{cases}
  \]
\end{eg}

\subsection{Subdivide, Excise \& Collapse}

\subsubsection{Subdivision}

Suppose \(\mathcal U = \{U_\alpha\}\) is an open cover of \(X\).

\begin{notation}
  In this subsection, if \(\sigma: \Delta^k \to X\), write \(\sigma \trianglelefteq \mathcal U\) if \(\im \sigma \subseteq U_\alpha\) for some \(\alpha\).
\end{notation}

\begin{definition}
  We define
  \[
    C_k^{\mathcal U} (X) = \langle \sigma: \Delta^k \to X, \sigma \trianglelefteq \mathcal U \rangle.
  \]
\end{definition}

If \(\im \sigma \subseteq U_\alpha\) then \(\im \sigma \compose F_I \subseteq U_\alpha\) so \(C_*^{\mathcal U}(X)\) is a subcomplex of \(C_*(X)\). Let \(\iota: C_*^{\mathcal U}(X) \to C_*(X)\) be the inclusion.

\begin{theorem}[subdivision]
  \(\iota_*: H_*^{\mathcal U}(X) \to H_*(X)\) is an isomorphism.
\end{theorem}

\begin{proof}[Sketch proof]
  The idea is as follow: suppose we have an open cover \(\{U_1, U_2\}\). Given \([\sigma] \in H_1(X)\), by example sheet 1 question 1 we can replace \([\sigma]\) by \([\sigma_1] + [\sigma_2]\) and so on, and eventually each \(\sigma_i\) will be contained in one of the \(U_i\)'s. The difficulty is to find an efficient way to write down this process. See the lecture handout for details.
\end{proof}

Suppose \(U_1, U_2 \subseteq X\) open and \(U_1 \cap U_2 = X\), i.e.\ \(\mathcal U = \{U_1, U_2\}\) is an open cover of \(X\). Then we have a diagram of inclusions
\[
  \begin{tikzcd}
    U_1 \cap U_2 \ar[r, "i_1"] \ar[d, "i_2"] & U_1 \ar[d, "j_1"] \\
    U_2 \ar[r, "j_2"] & X
  \end{tikzcd}
\]

\begin{proposition}[Mayer-Vietoris sequence]\index{Mayer-Vietoris sequence}
  There is a long exact sequence
  \[
    \begin{tikzcd}
      H_*(U_1 \cap U_2) \ar[r, "i_{1*} \oplus i_{2*}"] & H_*(U_1) \oplus H_*(U_2) \ar[r, "j_{1*} - j_{2*}"] & H_*(X) \ar[dll, "\b"', out=0, in=180, overlay] \\
      H_{* - 1}(U_1 \cap U_2) \ar[r, "i_{1*} \oplus i_{2*}"] & H_{* - 1}(U_1) \oplus H_{* - 1}(U_2) \ar[r, "j_{1*} - j_{2*}"] & H_{* - 1}(X) \ar[dll, "\b"', out=0, in=180, overlay] \\
      \cdots
    \end{tikzcd}
  \]
\end{proposition}

\begin{proof}
  There is a SES
  \[
    \begin{tikzcd}
      0 \ar[r] & C_*(U_1 \cap U_2) \ar[r, "i_{1\#} \oplus i_{2\#}"] & C_*(U_1) \oplus C_*(U_2) \ar[r, "j_{1\#} - j_{2\#}"] \ar[r] & C_*^{\mathcal U}(X) \ar[r] & 0
    \end{tikzcd}
  \]
  Take LES on homology and use \(H_*^{\mathcal U}(X) \cong H_*(X)\).
\end{proof}

There is a similar sequence for reduced homologies.

\begin{eg}
  Let \(X = S^n, U_1 = S^n - \{p\}, U_2 = S^n - \{q\}\) so \(U_1 \cap U_2 \sim S^{n - 1}\). Then the Mayer-Vietoris sequence gives
  \[
    \begin{tikzcd}
      \widetilde H_*(U_1) \oplus \widetilde H_*(U_2) \ar[r] \ar[d, equal] & \widetilde H_*(S^n) \ar[r] & \widetilde H_{* - 1}(U_1 \cap U_2) \ar[r] & \widetilde H_{* - 1}(U_1) \oplus \widetilde H_{* - 1}(U_2) \ar[d, equal] \\
      0 & & & 0
    \end{tikzcd}
  \]
  so \(\widetilde H_*(S^n) \cong \widetilde H_{* - 1}(S^{n - 1})\). Note that this is the same calculation as before using collapsing. This is a general principle: anything that can be calculated using Mayer-Vietoris can be calculated by collapsing subspace, and vice versa.
\end{eg}

\subsubsection{Excision}

Suppose \(A \subseteq X\) and \(\mathcal U\) is an open cover of \(X\). Let \(\mathcal U_A = \{U_\alpha \cap A\}\) be an open cover of \(A\). Then \(C_*^{\mathcal U_A}(A)\) is a subcomplex of \(C_*^{\mathcal U}(X)\). We define \(C_*^{\mathcal U}(X, A) = C_*^{\mathcal U}(X)/C_*^{\mathcal U_A}(A)\) and we would like to show it is isomorphic to \(C_*(X, A)\).

\begin{lemma}[five lemma]\index{five lemma}
  Suppose
  \[
    \begin{tikzcd}
      A_1 \ar[r] \ar[d, "f_1"] & A_2 \ar[r] \ar[d, "f_2"] & A_3 \ar[r] \ar[d, "f_3"] & A_4 \ar[r] \ar[d, "f_4"] & A_5 \ar[d, "f_5"] \\
      B_1 \ar[r] & B_2 \ar[r] & B_3 \ar[r] & B_4 \ar[r] & B_5
    \end{tikzcd}
  \]
  is a commutative diagram of exact sequences. If \(f_1, f_2, f_4, f_5\) are all isomorphisms then so is \(f_3\).
\end{lemma}

\begin{proof}
  Example sheet.
\end{proof}

\begin{corollary}
  \(H_*^{\mathcal U}(X, A) \cong H_*(X, A)\).
\end{corollary}

\begin{proof}
  There is a map of SES's
  \[
    \begin{tikzcd}
      0 \ar[r] & C_*^{\mathcal U_A}(A) \ar[r] \ar[d] & C_*^{\mathcal U}(X) \ar[r] \ar[d] & C_*^{\mathcal U}(X, A) \ar[r] \ar[d] & 0 \\
      0 \ar[r] & C_*(A) \ar[r] & C_*(X) \ar[r] & C_*(X, A) \ar[r] & 0
    \end{tikzcd}
  \]
  so we have a commutative diagram of long exact sequences
  \[
    \begin{tikzcd}
      H_*^{\mathcal U_A}(A) \ar[r] \ar[d] & H_*^{\mathcal U}(X) \ar[r] \ar[d] & H_*^{\mathcal U}(X, A) \ar[r] \ar[d, dashed] & H_{* - 1}^{\mathcal U}(A) \ar[r] \ar[d] & H_{* - 1}^{\mathcal U}(X) \ar[d] \\
      H_*(A) \ar[r] & H_*(X) \ar[r] & H_*(X, A) \ar[r] & H_{* - 1}(A) \ar[r] & H_{* - 1}(X)
    \end{tikzcd}
  \]
  The four solid arows are isomorphisms by subdivision by the dotted arrow is also an isomorphism by five lemma.
\end{proof}

Suppose \(B \subseteq A \subseteq X\) and \(j: (X - B, A - B) \to (X, A)\) is the inclusion.

\begin{theorem}[excision]\index{excision theorem}
  If the closure of \(B\) is contained in the interior of \(A\) then \(j_*: H_*(X - B, A - B) \to H_*(X, A)\) is an isomorphism.
\end{theorem}

\begin{proof}
  As the \(\overline B \subseteq \Int A\), \(\mathcal U = \{X - \overline B, \Int A\}\) is an open cover of \(X\). Then
  \begin{align*}
    C_*^{\mathcal U} (X)
    &= \langle \sigma \trianglelefteq \mathcal U: \im \sigma \cap B = \emptyset \rangle
    \oplus \langle \sigma \trianglelefteq \mathcal U: \im \sigma \cap B \ne \emptyset \rangle \quad \text{as a group} \\
    &= C_*^{\mathcal U'}(X - B) \oplus \langle \sigma: \im \sigma \subseteq \Int A \rangle
  \end{align*}
  where \(\mathcal U' = \mathcal U_{X - B}\). Similarly
  \[
    C_*^{\mathcal U_A}(A) = C_*^{\mathcal U_A'}(A - B) \oplus \langle \sigma: \im \sigma \subseteq \Int A \rangle
  \]
  so
  \[
    \frac{C_*^{\mathcal U}(X)}{C_*^{\mathcal U}(A)} \cong \frac{C_*^{\mathcal U'}(X - A)}{C_*^{\mathcal U_A'}(A - B)}
  \]
  so \(j_\#^{\mathcal U}: C_*^{\mathcal U'}(X - B, A - B) \to C_*^{\mathcal U}(X, A)\) is an isomorphism. Then we have a commutative diagram
  \[
    \begin{tikzcd}
      C_*^{\mathcal U'}(X - B, A - B) \ar[r, "j_\#^{\mathcal U}"] \ar[d, "\iota_*'"] & C_*^{\mathcal U}(X, A) \ar[d, "\iota_*"] \\
      C_*(X - B, A - B) \ar[r, "j_\#"] & C_*(A, B)
    \end{tikzcd}
  \]
  By the corollary \(\iota_*'\) and \(\iota_*\) are isomorphisms, and \(j^{\mathcal U}_*\) is an isomorphism since \(j^{\mathcal U}_\#\) is. Thus \(j_*\) is an isomorphism.
\end{proof}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(H_*(\R^n, \R^n - p) = \Z\) if \(* =  n\) and \(0\) otherwise.
    \begin{proof}
      \(\R^n - p \cong \R^n - 0 \sim S^{n - 1}\) so LES of \((\R^n, \R^n - p)\) is
      \[
        \begin{tikzcd}
          \widetilde H_*(\R^n) \ar[r] \ar[d, equal] & \widetilde H_*(\R^n, \R^n - p) \ar[r, "\b"] & \widetilde H_{* - 1}(\R^n - p) \ar[r] & \widetilde H_{* - 1}(\R^n) \ar[d, equal] \\
          0 & & & 0
        \end{tikzcd}
      \]
      so \(\b: H_*(\R^n, \R^n - p) \to H_{* - 1}(\R^n - p)\) is an isomorphism.
    \end{proof}
    Note that this does not equal to \(\widetilde H_*(\R^n/(\R^n - p))\), which is a two-point non-Hausdorff space that does not even depend on \(n\).
  \item If \(U \subseteq \R^n\) is open then \(H_*(U, U - p) = \Z\) if \(* = n\) and \(0\) otherwise.
    \begin{proof}
      \(C = \R^n - U\) is closed in \(\R^n\) so \(\overline C \subseteq \R^n - p\). Thus by excision
      \[
        H_*(\R^n, \R^n - p) \cong H_*(\R^n - C, \R^n - p - C) = H_*(U, U - p).
      \]
    \end{proof}
  \end{enumerate}
\end{eg}

\begin{corollary}
  If \(U \subseteq \R^n, V \subseteq \R^m\) are open and \(U \cong V\) then \(n = m\).
\end{corollary}

Therefore open subsets of Euclidean spaces have an intrinsic dimension that is invariant under homeomorphism.

\begin{proof}
  If \(f: U \to V\) is a homeomorphism then so is \(f: (U, U - p) \to (V, V - f(p))\) so \(H_*(U, U - p) \cong H_*(V, V - f(p))\).
\end{proof}

\paragraph{Deformation retraction}

Suppose \(A \subseteq U\) and let \(i: A \to U\) be the inclusion. If \(\pi: U \to A\), we have maps of pairs
\[
  (U, A) \xrightarrow{\tilde \pi} (A, A) \xrightarrow{\tilde \iota} (U, A).
\]

\begin{definition}[deformation retraction]\index{deformation retraction}
  \(\pi: U \to A\) is a \emph{deformation retraction} if \(\tilde \iota \compose \tilde \pi \sim \id_{(U, A)}\) as maps of pairs.
\end{definition}
Thus \(\iota \compose \pi \sim \id_U, \pi \compose \iota \sim \id_A\) so in particular \(A \sim U\).

\begin{lemma}
  \label{lem:quotient of deformation retraction}
  If \(\pi: U \to A\) is a deformation retraction then so is \(\pi': U/A \to A/A\).
\end{lemma}

\begin{lemma}
  Suppose \(B \subseteq A \subseteq X\). Then there is a LES
  \[
    \begin{tikzcd}
      H_*(A, B) \ar[r, "i_*"] & H_*(X, B) \ar[r, "j_*"] & H_*(X, A) \ar[r, "\b"] & H_{* - 1}(A, B) \ar[r] & \cdots
    \end{tikzcd}
  \]
  where \(i_*, j_*\) are induced by inclusions of pairs.
\end{lemma}

\begin{proof}
  There is a SES
  \[
    \begin{tikzcd}
      0 \ar[r] & \dfrac{C_*(A)}{C_*(B)} \ar[r, "i_\#"] & \dfrac{C_*(X)}{C_*(B)} \ar[r, "j_\#"] & \dfrac{C_*(X)}{C_*(A)} \ar[r] & 0
    \end{tikzcd}
  \]
\end{proof}

\begin{lemma}
  \label{lem:relative homology of deformation retraction}
  Suppose \(A \subseteq U \subseteq X\) and \(A\) is a deformation retraction of \(U\) then \(\iota_*: H_*(X, A) \to H_*(X, U)\) is an isomorphism.
\end{lemma}

\begin{proof}
  \(\iota: A \to U\) is a homotopy equivalence so \(\iota_*: H_*(A) \to H_*(U)\) is an isomorphism. The LES of \((U, A)\) gives
  \[
    \begin{tikzcd}
      0 \ar[r] & \coker \iota_*^{(n)} \ar[r] \ar[d, equal] & H_*(U, A) \ar[r] & \ker \iota_*^{(n - 1)} \ar[r] \ar[d, equal] & 0 \\
      & 0 & & 0
    \end{tikzcd}
  \]
  so \(H_*(U, A) = 0\). Now the LES for the triple \((X, U, A)\) gives
  \[
    \begin{tikzcd}
      H_*(U, A) \ar[r] \ar[d, equal] & H_*(X, A) \ar[r] & H_*(X, U) \ar[r] & H_{* - 1}(U, A) \ar[d, equal] \\
      0 & & & 0
    \end{tikzcd}
  \]
\end{proof}

Recall that \((X, A)\) is a good pair\index{good pair} if \(A \subseteq X\) is closed and exists \(U \subseteq X\) open such that \(A \subseteq U\) is a deformation retraction.

\begin{theorem}[collapsing a pair]\index{collapsing a pair}
  If \((X, A)\) is good then \(\pi_*: H_*(X, A) \to H_*(X/A, A/A)\) is an isomorphism.
\end{theorem}

\begin{proof}
  We have a commutative diagram
  \[
    \begin{tikzcd}
      H_*(X, A) \ar[r, "i_*"] \ar[d, "\pi_{1*}"] & H_*(X, U) \ar[d, "\pi_{2*}"] & H_*(X - A, U - A) \ar[l, "j_*"'] \ar[d, "\pi_{3*}"] \\
      H_*(X/A, A/A) \ar[r, "i_*'"] & H_*(X/A, U/A) & H_*(X/A - A/A, U/A - A/A) \ar[l, "j_*'"']
    \end{tikzcd}
  \]
  Note \(\pi_3: (X - A, U - A) \to (X/A - A/A, U/A - A/A)\) is a homeomorphism. \(A\) is closed, \(U\) is open so \(\overline A \subseteq \Int U\) so by excision \(j_*, j_*'\) are isomorphisms. Thus \(\pi_{2*}\) is an isomorphism. \(i_*, i_*'\) are isomorphisms by \Cref{lem:relative homology of deformation retraction} and \Cref{lem:quotient of deformation retraction} so \(\pi_{1*}\) is also an isomorphism.
\end{proof}

\subsection{Maps \(S^n \to S^n\)}

Fix generators for \(\widetilde H_n(S^n) \cong \Z\) as follow: for \(S^0 = \{\pm 1\}\), \([S^0] = \sigma_{+1} - \sigma_{-1}\) generates \(\widetilde H_0(S^0)\). We have isomorphisms
\[
  \begin{tikzcd}
    \widetilde H_n(S^n) & H_n(D^n, S^{n - 1}) \ar[l, "p_*"'] \ar[r, "f_*"] \ar[d, "\b"] & H_n(I^n, \b I^n) \\
    & \widetilde H_{n - 1}(S^{n - 1})
  \end{tikzcd}
\]
and use it to inductively define generators of \(\widetilde H_n(S^n)\).

\begin{definition}[degree]\index{degree}
  If \(f: S^n \to S^n\) then \(f_*([S^n]) = k[S^n]\) for some \(k \in \Z\). We call \(\deg f_* = k\) the \emph{degree} of \(f: S^n \to S^n\).
\end{definition}

\begin{proposition}\leavevmode
  \begin{enumerate}
  \item \(\deg (f \compose g) = \deg f \compose \deg g\) by functoriality.
  \item If \(f \sim g\) then \(\deg f = \deg g\) by homotopy invariance.
  \item \(\deg \id_{S^n} = 1\).
  \item If \(f: S^n \to S^n\) is constant then \(\deg f = 0\).
  \item If \(f: S^n \to S^n\) is a homeomorphism then \(\deg f = \pm 1\).
  \end{enumerate}
\end{proposition}

\begin{proposition}
  If \(\rho: S^n \to S^n\) is reflection in a hyperplane then \(\deg \rho = -1\).
\end{proposition}

We'll prove this shortly but let's see some applications first.

\begin{corollary}
  If \(A: S^n \to S^n, v \mapsto -v\) is the antipodal map then \(\deg A = (-1)^{n + 1}\).
\end{corollary}

\begin{proof}
  \(A = \rho_1 \compose \rho_2 \compose \cdots \compose \rho_{n + 1}\) where \(\rho_i(v) = (v_1, v_2, \dots, -v_i, v_{i + 1}, \dots, v_{n + 1})\) is a reflection.
\end{proof}

\begin{corollary}
  If \(n\) is even then \(A \nsim \id_{S^n}\).
\end{corollary}

\paragraph{Hurewicz homomorphism}

\begin{definition}[Hurewicz homomorphism]\index{Hurewicz homomorphism}
  The \emph{Hurewicz homomorphism} is
  \begin{align*}
    \psi: \pi_n(X, p) &\to H_n(X) \\
    [\tilde \alpha] &\mapsto \tilde \alpha_*[S^n]
  \end{align*}
  where \(\tilde \alpha: (S^n, *) \to (X, p)\). If we write
  \[
    \begin{tikzcd}
      (S^n, *) \ar[r, "\tilde \alpha"] & (X, p) \\
      (I^n, \b I^n) \ar[u, "\pi"] \ar[ur, "\alpha"]
    \end{tikzcd}
  \]
  then equivalently \(\psi([\alpha]) = \alpha_*[I^n, \b I^n]\).
\end{definition}

\(\psi\) is well-defined: if \(\alpha \sim \beta\) then \(\alpha_* = \beta_*\).

\begin{proposition}
  We have \(\psi([\alpha + \beta]) = \psi([\alpha]) + \psi([\beta])\).
\end{proposition}

Therefore
\begin{align*}
  \psi: \pi_n(S^n, +) &\to H_n(S^n) \cong \Z \\
  f &\mapsto \deg f
\end{align*}
is a homomorphism. As \(\psi(\id_{S^n}) = 1\), \(\psi\) is surjective.

Define
\begin{align*}
  R: I^n &\to I^n \\
  (x_1, x) &\mapsto (1 - x_1, x)
\end{align*}
to be reflection in the first coordinate.

\begin{lemma}
  \([\alpha] + [\alpha \compose R] = 0\) in \(\pi_n(X, p)\), i.e.\ \([\alpha \compose R] = -[\alpha]\).
\end{lemma}

\begin{proof}
  Exercise.
\end{proof}

\begin{corollary}
  \(R_*[I^n, \b I^n] = -[I^n, \b I^n]\).
\end{corollary}

\begin{proof}
  \(0 = [\alpha + \alpha \compose R] = [\alpha] + \deg R [\alpha]\).
\end{proof}
This implies that if \(\rho: S^{n - 1} \to S^{n - 1}\) is a reflection then \(\deg \rho = \deg R = -1\).

















\printindex
\end{document}
