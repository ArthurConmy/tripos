\documentclass[a4paper]{article}

\def\npart{III}

\def\ntitle{Toric Geometry}
\def\nlecturer{D.\ Ranganathan}

\def\nterm{Michaelmas}
\def\nyear{2019}

\input{header}

\graphicspath{{figures/}}

\renewcommand*{\P}{\mathbb{P}}
\DeclareMathOperator{\Pic}{Pic}

\begin{document}

\input{titlepage}

\tableofcontents

\section{Toric variety}

Roughly speaking, algebraic geometry studies the duality between polynomial equations and varieties. Let \(S = \C[x_1, \dots, x_n]\). Let \(I \subseteq S\) be an ideal generated by \(f_1, \dots, f_s\). We have polynomials of different flavours:

\subparagraph{monomial ideal}

A monomial ideal is an ideal \(I \subseteq S\) generated by monomials. The corresponding vanishing loci \(V(I)\) is a union of coordinate subspaces of \(\C^n\).

\begin{eg}\leavevmode
  \begin{itemize}
  \item \(x_1 = 0\) in \(S\), \(x_1x_2 = 0\) in \(\C[x_1, x_2]\) which is the union of two axes in \(\C^2\) so reducible.
  \item \(V(x_1^2)\) is the axis with ``additional structure'' as \((x_1^2)\) is not reduced.
  \end{itemize}
\end{eg}

Monomial ideals are thus the simplest kind of varieties and can be studied in a completely combinatorial way.

\paragraph{trinomial ideals}

A trinomial is a polynomial with at most three nonzero distinct monomial terms. Let \(I \subseteq S\) be an ideal generated by trinomials.

\begin{lemma}
  Any affine variety is the vanishing locus of a trinomial ideal.
\end{lemma}

\begin{remark}
  To be more precise, \(S/I\) as a ring is isomorphic to \(\C[x_1, \dots, C_N]/\mathfrak a\) where \(\mathfrak a \subseteq \C[x_1, \dots, x_n]\) is generated by trinomials.
\end{remark}

In other words, there is no way to distinguish a trinomial ideal and a variety.

\begin{proof}[Sketch]
  There is a trick to prove the lemma. Let \(I \subseteq S\) be an ideal. Let \(a_1 x^{\alpha_1} + \dots + a_\ell x^{\alpha_\ell} = 0\) be an equation determined by \(I\). For each such equation, introduce \((\ell - 3)\) new variables \(\{z_i\}_{i = 1}^{\ell - 3}\). Replace the equation with
  \begin{align*}
    a_1 x^{\alpha_1} + a_2 x^{\alpha_2} + z_1
    &= -z_1 + z_2 + a_3 x^{\alpha_3} \\
    &= -z_2 + z_3 + a_4 x^{\alpha_4} \\
    &= \cdots \\
    &= -z_{\ell - 3} + a_{\ell - 1} x^{\alpha_{\ell - 1}} + a_\ell x^{\alpha_\ell}
  \end{align*}
  Repeat for other equations.
\end{proof}

\paragraph{binomial ideals}

Let \(I \subseteq \C[x_1, \dots, x_n] = S\) be an ideal generated by binomials. Assume that \(I\) is prime (so \(V(I)\) is irreducible and reduced, therefore integral). Let \(X = V(I)\), say \(\dim X = m\). Then we have
\begin{itemize}
\item \(X\) contains \((\C^*)^m\) as a Zariski dense open subset.
\item The multiplication map \((\C^*)^m \times (\C^*)^m \to (\C^*)^m\) extends to a map \(X \times (\C^*)^m \to X\).
\end{itemize}

\begin{eg}\leavevmode
  \begin{itemize}
  \item \(\C^n\) generated by \(I = (0)\). It contains \((\C^*)^n\) as a dense open subset and we have multiplication
    \begin{align*}
      \C^n \times (\C^*)^n &\to \C^n \\
      ((z_1, \dots, z_n), (t_1, \dots, t_n)) &\mapsto (z_1t_1, \dots, z_nt_n)
    \end{align*}
  \item \(V(x_1 - x_2) \subseteq \C^3\) is isomorphic to \(\C^2\). \(\C^2\) contains a copy of \((\C^*)^2\), given by \(\{(t, t, t'): t, t' \in \C^*\}\).
  \item \(V(x_1^2 - x_2) \subseteq \C^3\) contains a copy of \((\C^*)^2\), given by \(\{(t, t^2, t'): t, t' \in \C\}\).
  \end{itemize}
\end{eg}

Note that the key fact here is that a monomial is a homomorphism \((\C^*)^n \to \C^*\) so the ideal \(I\) encoded the intersection of translates of kernels of homomorphisms.

\begin{definition}[algebraic torus]\index{algebraic torus}
  An \emph{algebraic torus} (over \(\C\)) of rank \(1\) is the group variety \(\mathbb G_m = \C^*\). A rank \(n\) algebraic torus is \(\mathbb G_m^n = (\C^*)^n\).
\end{definition}

\begin{remark}
  \(\mathbb G_m^n\) is a group variety as it is the loci \(V(x_1 \cdots x_{n + 1} - 1)\) and the group operations are all morphisms of varieties.
\end{remark}

When we say \(X\) is an affine variety, we mean \(X = V(I)\) where \(I \subseteq \C[x_1, \dots, x_n]\) and so \(X \subseteq \A^n_\C\). Usually we are not so interested in the embedding and only interested in the algebraic object. The coordinate ring \(S/I\) can have many presentations as a quotient of a polynomial ring.

\begin{notation}
  We write \(\Spec (S/J)\) to mean \(V(I)\), and when we write \(\Spec(R)\) we mean \(R = S/I\) and \(\Spec(R)\) is the space \(V(I)\).
\end{notation}

\begin{definition}[toric variety]\index{toric variety}
  An \emph{toric variety} \(X\) is an irreducible variety over \(\C\) of dimension \(\ell\) containing \((\C^*)^\ell\) as a dense open subset, and such that \(m: (\C^*)^\ell \times (\C^*)^\ell = (\C^*)^\ell\) extends to \(X \times (\C^*)^\ell = X\) (as a group action).
\end{definition}

\begin{remark}
  Since \(X\) is irreducible, a nonempty open set is dense.
\end{remark}

\begin{remark}
  A variety is a finite type scheme over \(\C\).
\end{remark}

\begin{eg}\leavevmode
  \begin{itemize}
  \item \((\C^*)^\ell\) for \(\ell \geq 0\).
  \item \(\C^n\).
  \item \((\C^*)^\ell \times \C^\ell\).
  \item \(\P^\ell\): pick coordinates \(x_0, \dots, x_\ell\). Then \((\C^*)^\ell = \{(1, t_1, \dots, t_\ell): t_i \in \C^*\} \embed \P^\ell\). Check it is open and dense: \(\P^n \supseteq \C^\ell = \{(x_0, \dots, x_\ell): x_0 \neq 0\}\) as an open dense subset, which further contains \((\C^*)^\ell\). Note that the torus depends on choice of coordinates: for example take two distinct \(p_1, p_2 \in \P^1\), there exists a change of coordinates (in \(\PGL(2)\)) such that \(p_1 \mapsto 0, p_2 \mapsto \infty\), so \(\P^1 \setminus \{p_1, p_2\} \cong \P^1 \setminus \{0, \infty\} \cong \C^*\).
  \item \(\P^{\ell_1} \times \dots \times \P^{\ell_k}\).
  \end{itemize}
\end{eg}

\begin{remark}
  There exist infintely many toric varieties in every dimension \(\ell \geq 2\). There exists \(X\) toric such that \(X\) is singular, or \(X\) could be compact but not projective. \(X\) could have torsion in \(\Pic(X)\). All of these can be constructed using combinatorial methods.
\end{remark}

\subsection{Two lattices}

We define two lattices. The first one is cocharacter \(N = \Hom(\C^*, (\C^*)^\ell)\) (as algebraic groups), which is isomorphic as an abstract group to \(\Z^\ell\). This is the isomorphism
\[
  (\lambda_1, \dots, \lambda_\ell) \mapsto (t \mapsto (t^{\lambda_1}, \dots, t^{\lambda_\ell})).
\]

The second is character \(M = \Hom((\C^*)^\ell, \C^*)\) which is also isomorphic to \(\Z^\ell\), given by
\[
  (u_1, \dots, u_\ell) \mapsto ((t_1, \dots, t_\ell) \mapsto t_1^{u_1} \cdots t_\ell^{u_\ell}).
\]

Let \(X\) be a toric variety with toris \(\mathbb G_m^\ell\) and lattices \(N\) and \(M\). Given \(\lambda \in N\), we obtain a morphism \(\lambda: \C^* \to (\C^*)^\ell \subseteq X\). We ask two questions: does \(\lim_{t \to \infty} \lambda(t)\) exist? If so what is it?

\begin{eg}
  Take \(X = \P^2\) with \((\C^*)^2 = \{(1, t_1, t_2): t_i \in \C^\times\}\). Then \(N \cong \Z^2\). The limit always exists as \(X = \P^2\) is proper. Let \(\lambda = (\lambda_1, \lambda_2) \in \Z^2\). There are seven cases:
  \begin{itemize}
  \item If \(\lambda_1, \lambda_2 > 0\) then \(\lambda(t) = (1, t^{\lambda_1}, t^{\lambda_2})\). Then \(\lim_{t \to 0} \lim(t) = (1, 0, 0)\).
  \item If \(\lambda_1 = 0, \lambda_2 > 0\) then \(\lim_{t \to 0} (1, 1, t^{\lambda_2}) = (1, 1, 0)\).
  \item \(\lambda_1 > \lambda_2, \lambda_2 < 0\). Then
    \[
      \lim_{t \to 0} (1, t^{\lambda_1}, t^{\lambda_2})
      = \lim_{t \to 0} (t^{-\lambda_2}, t^{\lambda_1 - \lambda_2}, 1)
      = (0, 0, 1)
    \]
  \item \dots
  \end{itemize}
  \begin{figure}[ht]
    \centering
    \def\svgwidth{.3\columnwidth}
    \input{figures/fan_P2.pdf_tex}
    \caption{Fan of \(\P^2\)}
  \end{figure}
  This is a \emph{fan} \(N \otimes \R = N_\R \cong \R^2\).
\end{eg}

\begin{figure}[ht]
  \centering
  \begin{minipage}{0.5\textwidth}
    \centering
    \def\svgwidth{.8\columnwidth}
    \input{figures/fan_P1.pdf_tex}
  \end{minipage}%
  \begin{minipage}{0.5\textwidth}
    \centering
    \def\svgwidth{.8\columnwidth}
    \input{figures/fan_P1P1.pdf_tex}
  \end{minipage}
  \caption{Fan of \(\P^1\) and \(\P^1 \times \P^1\)}
\end{figure}

Every toric variety \(X\) determines a \emph{fan} \(\Sigma \subseteq N_\R\). A fan is a union of \emph{cones} in \(N_\R\), where a cone is a set of the form
\[
  \operatorname{Cone}(S) = \{v \in N_\R: \sum_{i = 1}^r \nu_i \lambda_i, \nu_i \geq 0\}
\]
where \(S \subseteq N\) finite.

This construction works for any \(X\) toric. It maps \(X\) to \(\Sigma_X\), a collection of subsets of \(N\).

\begin{eg}
  If \(X = \C^n\). Then \(\Sigma_X = \Sigma_{\C^n}\). The limit exsits for \(\Z^n_{\geq 0} \subseteq \R^n\) and does not exist elsewhere.
\end{eg}

What properties does \(\Sigma_X\) have? Is there an inverse construction? The answer is yes if we are a little more careful.

\subsection{Convex geometry}

Let \(N\) and \(M\) be cocharacter and character lattices of \(\mathbb G_m^n\). Then we have a pairing
\[
  \langle \cdot, \cdot \rangle: N \times M \to \Z.
\]

\begin{definition}[cone]\index{cone}
  A \emph{cone} in \(N_\R\) \(\sigma\) is the nonnegative span of a finite set \(S \subseteq N\).
\end{definition}

\begin{eg}\leavevmode
  \begin{enumerate}
  \item \(\sigma = \R^2_{\geq 0}\).
  \item A cone in the first quadrant of \(\R^2\) bounded by two lines of rational slope.
  \item \(\sigma = \R^k_{\geq 0} \subseteq \R^m\).
  \item In \(\R^3\) with standard basis \(e_1, e_2, e_3\), the cone generated by \(e_1, e_2, e_1 + e_3, e_2 + e_3\). (Picture) Note that this is a three-dimensional cone generated by four points.
  \end{enumerate}
\end{eg}

For general construction, take \(P \subseteq \R^{n - 1}\) a convex polytope, i.e.\ the convex hull of a finite set. Define \(\sigma_P\) to be the cone over \(P\), which sits inside \(\R^{n - 1} \times \R_{\geq 0}\) of height \(1\).

Let \(\sigma \subseteq N_\R = N \otimes_\Z \R\) be a cone. Define the \emph{dual cone}\index{dual cone}
\[
  \sigma^\vee = \{m \in M_\R: \langle v, m \rangle \geq 0 \text{ for all } v \in \sigma\}.
\]
The \emph{dual monoid}\index{dual monoid} of \(\sigma\) is
\[
  S_\sigma = \sigma^\vee \cap M,
\]
i.e.\ the points in the dual cone with rational coordinates.

\begin{ex}[Gordan's lemma]
  The monoid \(S_\sigma\) is finitely generated.
\end{ex}

Now form \(\C[S_\sigma]\), the ``group algebra''. Now take \(U_\sigma = \Spec(\C[S_\sigma])\). The idea is as follow: \(S_\sigma\) is finitely generated so there is a surjection \(\Z^N_{\geq 0} \to \C[S_\sigma]\), so we have a surjective ring map \(\C[x_1, \dots, x_N] \cong \C[\Z^N_{\geq 0}] \to \C[S_\sigma]\), so the kernel of the map is an ideal \(I\) such that \(V(I) = U_\sigma\).

\begin{lemma}
  \(U_\sigma\) is an affine toric variety.
\end{lemma}

\begin{proof}
  Observe that \(S_\sigma \embed M\) as \(\C[S_\sigma] \embed \C[M]\). Since \(\Spec \C[M] \cong (\C^*)^n\) (\(\C[M]\) is the Laurant polynomial ring in \(n\) variables) we see that \((\C^*)^n \embed U_\sigma\) and the action extends.
\end{proof}

\begin{eg}
  Let \(\sigma = \langle e_2, 2e_1 - e_2 \rangle\) (Picture) then \(\sigma^\vee = \langle e_1^*, e_1^* + e_2^*, e_1^* + 2e_2^* \rangle\). Note that although there is a relation between the generators, we do not get \(S_\sigma\) if we omit any one of them. We then have (after checking there is no other relation)
  \[
    \C[S_\sigma] = \C[U, V, W]/(U^2 - VW)
  \]
\end{eg}

By gluing affine (toric) varities we get general (toric) varieties.

\begin{definition}[fan]\index{fan}
  A \emph{fan} in \(N_\R\) is a collection \(\Sigma\) of cones in \(N_\R\) that is closed under taking faces of cones and intersections, and the intersection of two cones is a face of each.
\end{definition}

Given \(\sigma\) and \(\tau\) and an inclusion \(\tau \embed \sigma\), there is an induced map \(\sigma^\vee \embed \tau^\vee\). In particular if \(\tau = \{0\}\) then \(\tau^\vee = M_\R\).

For reference, Fulton 1.2 discusses convex geometry.

Let \(\sigma \subseteq N_\R\) be a cone. A \emph{supporting hyperplane}\index{supporting hyperplane} for \(\sigma\) is a hyperplane
\[
  H_m = \{v \in N_\R: \langle v, m \rangle = 0\}
\]
for some fixed \(m \in M\) such that \(\sigma\) is contained in the associated half space
\[
  H_m^+ = \{v \in N_\R: \langle v, m\rangle \geq 0\}.
\]

A \emph{face}\index{face} of \(\sigma\) is an intersection \(\sigma \cap H_m\) for \(H_m\) a supporting hyperplane.

\begin{eg}
  The following cone has 4 faces. (Picture). The whole cone is a face because \(m = 0\) is allowed.
\end{eg}

Let \(\tau \embed \sigma\) a face. This determines a morphism of varieties \(U_\tau \embed U_\sigma\). How can we describe this? Let \(m_\tau \in M\) be a supporting hyperplane for \(\tau\) so \(\tau = \sigma \cap \{\langle m, v\rangle = 0\}\). An analysis of
\[
  \sigma \mapsto \sigma^\vee \mapsto S_\sigma \mapsto \C[S_\sigma]
\]
shows that \(U_\tau\) is the complement of the vanishing locus of the function \(m \in \C[S_\sigma]\).

\begin{eg}
  \(\{0\} \embed \R_{\geq 0}\) defines \(\C^* \embed \A^1\).
  (Picture)

  We are inverting \(m = (1, 1)\), so taking the complement of the vanishing set of \(m\).
\end{eg}

\begin{notation}
  Given \(m \in M\), when we think of \(m\) as a function, say an element of \(\C[M]\), we'll write \(\chi^m\), i.e.\ for every \(m \in M\),
  \begin{align*}
    \chi^m: (\C^*)^n &\to \C^* \\
    (t_1, \dots, t_n) &\mapsto t_1^{m_1} \cdots t_n^{m_n}
  \end{align*}
\end{notation}

Recall that a fan \(\Sigma\) in \(N_\R\) is a collection of cones such that if \(\sigma \in \Sigma\), every face \(\tau\) of \(\sigma\) is also in \(\Sigma\) and if \(\sigma_1, \sigma_2 \in \Sigma\) then \(\sigma_1 \cap \sigma_2\) is a face of each and is an element of \(\Sigma\).

Now we construct a toric variety \(X_\Sigma\) from a fan \(\Sigma\). Given \(\sigma \in \Sigma\), we have the associated affine toric variety \(U_\sigma\). If \(\sigma_1, \sigma_2\) intersect in a cone \(\tau\) then glue \(U_{\sigma_1}\) and \(U_{\sigma_2}\) along the open subset \(U_\tau\).

Note that polynomial functions on \(X_\Sigma\) make sense locally, i.e.\ there is a sheaf of rings \(\mathcal O_{X_\Sigma}\) on the topological space \(X_\Sigma \) such that \(\mathcal O_{X_\Sigma}(U_\sigma) = \C[S_\sigma]\).

\begin{notation}
  If \(X\) is a variety, denote by \(X^{\text{an}}\) the associated complex analytic topological space.
\end{notation}

\begin{notation}[algebraic bug-eyed line]
  Let \(X\) be \(\A^1\) with two origins. This is not a separated scheme, or equivalently, \(X^{\text{an}}\) is not Hausdorff. We want to exclude this.
\end{notation}

Recall: Let \(\Sigma\) be a fan. Each \(\sigma \in \Sigma\) determines an afine toric variety \(U_\sigma = \Spec \C[S_\sigma]\). Each face inclusion \(\tau \embed \sigma\) determines an open immersion \(U_\tau \embed U_\sigma\).

The toric variety \(X_\Sigma\) is determined by identifying \(U_\sigma\) inside \(U_{\sigma_1}\) and \(U_{\sigma_2}\) when \(\tau\) is a face of both.

\begin{lemma}
  The diagonal inclusion \(\Delta: X_\Sigma \to X_\Sigma \times_\C X_\Sigma\) of schemes is a closed embedding, i.e.\ \(X_\Sigma\) is separated.

  The topological space \(X_\Sigma^{\text{an}}\) is Hausdorff.
\end{lemma}

\begin{remark}
  If \(U\) is an affine variety then \(U = \Spec A\) where \(A = \C[x_1, \dots, x_n]/I\) so \(U \embed \C^N\) as \(V(I)\). \(\C^N\) has two topologies: Zariski and Euclidean. We give \(U\) the subspace topology. This is independent of choice, and this works with gluing so we get a space \(X_\Sigma^{\text{an}}\) in this way.
\end{remark}

\begin{proof}
  We have an open cover of \(X_\Sigma \times X_\Sigma\) by sets of the form \(U_{\sigma_1} \times U_{\sigma_2}\) for \(\sigma_1, \sigma_2 \in \Sigma\). It suffices to show that if \(\tau = \sigma_1 \cap \sigma_2\) then \(U_\tau \to U_{\sigma_1} \times U_{\sigma_2}\) is closed. Dually, it would suffice to show
  \[
    \C[S_{\sigma_1}] \otimes_\C \C[S_{\sigma_2}] \to \C[S_\tau]
  \]
  is surjective. The key observation \(S_\tau = S_{\sigma_1} + S_{\sigma_2}\) so surjectivity follows.
\end{proof}

\paragraph{smoothness}

Let \(A\) be a \(\C\)-algebra. A maximal ideal \(\mathfrak m \subseteq A\) determines a point \(p_{\mathfrak m}\) in \(\Spec A = U\). Say \(\dim U = n\). Then \(U\) is smooth at \(p_{\mathfrak m}\) if and only if \(\dim_\C \mathfrak k/\mathfrak m^2 = n\).

Recall that we have a surjection \(\C[x_1, \dots, x_n] \to A\), and we have \(A \to A/\mathfrak k \cong \C\), so we have a map \(\C[x_1, \dots, x_n] \to \C\), which is evaluation of a function at \(p_{\mathfrak m}\).

If \(S_\sigma\) is a monoid and \(A = \C[S_\sigma]\) then any monoid homomorphism \(S_\sigma \to \C\) where \(\C\) is a multiplicative monoid, determines \(\C[S_\sigma] \to \C\) so a point of \(U_\sigma\).

\begin{eg}
  If \(S_\sigma = \N^2\), to produce a homomorphism \(\C[S_\sigma] \to \C\) is the same as specifying two points in \(\C\). This then determines a point in \(U_\sigma = \A^2\).
\end{eg}

\begin{proposition}
  The affine toric variety \(U_\sigma\) is smooth if and only if \(\sigma\) is generated by a subset of a basis union \(0\) for \(N\) over \(\Z\).
\end{proposition}

In fact, in this case \(U_\sigma = \A^k \times \mathbb G_m^{n - k}\).

\begin{eg}
  \(\langle e_1\rangle \subseteq \R^1, \langle e_1, e_2 \rangle \subseteq \R^2, \langle e_1 \rangle \subseteq \R^2\). The last example gives \(U_\sigma = \A^1 \times \mathbb G_m\).
\end{eg}

\begin{proof}
  We make the mild assumption \(\sigma^\perp = \{0\}\), i.e.\ \(\dim \sigma = n\). (exercise: remove the assumption) Assume \(U_\sigma\) is smooth. We take note that there is a distinguished \(X_\sigma\), the homomorphism
  \begin{align*}
    S_\sigma &\to \C \\
    u &\mapsto
        \begin{cases}
          1 & u = 0 \\
          0 & u \neq 0
        \end{cases}
  \end{align*}
  We show smoothness at \(X_\sigma\): let \(\mathfrak m_\sigma\) be the associated maximal ideal of \(\C[S_\sigma]\). \(\mathfrak m_\sigma\) contains \(S_\sigma \setminus \{0\}\), and \(\mathfrak m_\sigma^2\) contains elements of \(S_\sigma\) that are sums of two nonzero elements of \(S_\sigma\). But \(\dim \mathfrak m_\sigma/\mathfrak m_\sigma^2 \leq n\).
\end{proof}



\printindex
\end{document}
